<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:custom="http://manaty.net/custom"
	xmlns:hf="http://java.sun.com/jsf/composite/tags"
	template="layout/template.xhtml" xmlns:hftl="http://hftl.org">

	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml">
		</ui:include>
	</ui:define>

	<ui:define name="body">
		<p:panel>



			<h:panelGrid columns="2" style="width:100%;text-align:center;">
				<h:graphicImage value="/img/MeveoOpenCell.png" style="border:0px;" />
				<!-- REMOVED FOR NOW -->
				<!--
				<p:columnChart value="#{dashboard.customerAccount}" var="customerAccounts" xfield="#{customerAccounts.month}">
					<p:chartSeries label="#{messages['dashboard.customerAccounts']}" value="#{customerAccounts.amount}" />
				</p:columnChart >
               -->


			</h:panelGrid>

			<h:panelGrid columns="3">

				<ui:repeat var="bar" value="#{barChartBean.barChartEntityModels}"
					varStatus="i">

					<h:form rendered="#{bar.barChart.isVisible}">
						<p:outputPanel style="width:500px;">
							<hf:barChartComponent barChartEntityModel="#{bar}" />
							<!-- chartBackingBean="#{barChartBean}" -->
						</p:outputPanel>
						<p:outputLabel value="#{messages['chart.from']}"></p:outputLabel>
						<p:calendar id="filterFrom" value="#{bar.minDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{barChartBean.setModel(i.index)}" />
						</p:calendar>
						<p:outputLabel value="#{messages['chart.to']}"></p:outputLabel>
						<p:calendar id="filterTo" value="#{bar.maxDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{barChartBean.setModel(i.index)}" />
						</p:calendar>
					</h:form>
				</ui:repeat>

				<ui:repeat var="line" value="#{lineChartBean.lineChartEntityModels}"
					varStatus="i">
					<h:form rendered="#{line.lineChart.isVisible}">
						<p:outputPanel style="width:500px;">
							<hf:lineChartComponent lineChartEntityModel="#{line}"></hf:lineChartComponent>
						</p:outputPanel>
						<p:outputLabel value="#{messages['chart.from']}"></p:outputLabel>
						<p:calendar id="filterFrom" value="#{line.minDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{lineChartBean.setModel(i.index)}" />
						</p:calendar>
						<p:outputLabel value="#{messages['chart.to']}"></p:outputLabel>
						<p:calendar id="filterTo" value="#{line.maxDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{lineChartBean.setModel(i.index)}" />
						</p:calendar>
					</h:form>
				</ui:repeat>

				<ui:repeat var="pie" value="#{pieChartBean.pieChartEntityModels}"
					varStatus="i">
					<h:form rendered="#{pie.pieChart.isVisible}">
						<p:outputPanel style="width:500px;">
							<hf:pieChartComponent pieChartEntityModel="#{pie}"></hf:pieChartComponent>
						</p:outputPanel>
						<p:outputLabel value="#{messages['chart.from']}"></p:outputLabel>
						<p:calendar id="filterFrom" value="#{pie.minDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{pieChartBean.setModel(i.index)}" />
						</p:calendar>
						<p:outputLabel value="#{messages['chart.to']}"></p:outputLabel>
						<p:calendar id="filterTo" value="#{pie.maxDate}" pattern="#{paramBean.getProperty('meveo.dateFormat','dd/MM/yyyy')}">
							<p:ajax event="dateSelect" update="@form"
								listener="#{pieChartBean.setModel(i.index)}" />
						</p:calendar>
					</h:form>
				</ui:repeat>
			</h:panelGrid>
			<h:panelGrid columns="2" columnClasses="panelGrid-column50,panelGrid-column50" styleClass="panelGrid-column100" rendered="#{identity.hasPermission('administration','administrationVisualization')}">
			<h:panelGrid styleClass="panelGrid-column100">
			<p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="chargeTemplate">
			<p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructChargesWithNotPricePlan}" />>
			<p:tab>  	
			 <f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.chargesWithNotPricePlan']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrChargesWithNotPricePlan}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrChargesWithNotPricePlan==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrChargesWithNotPricePlan}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrChargesWithNotPricePlan!=0}"/>
            </f:facet>
			
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrUsagesWithNotPricePlan()!=0}" >
			<h:outputLabel value="#{messages['menu.usageChargeTemplates']}"/>
			<hftl:dataList label="#{messages['usageChargeTemplate.title']}" resultsId="usages_panel" sortBy="code"
			 backingBean="#{usageChargeTemplateBean}" checkMany="true" dataModel="#{configIssuesReportingBean.usagesWithNotPricePlList}">
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column
				label="#{messages['usageChargeTemplate.unityMultiplicator']}"
				field="unitMultiplicator" converterParam="12digits" />
<!-- 			<hftl:column -->
<!-- 				label="#{messages['usageChargeTemplate.unityDescription']}" -->
<!-- 				field="unityDescription" /> -->
			<hftl:column label="#{messages['usageChargeTemplate.filterParam1']}"
				field="filterParam1" />
			<hftl:column label="#{messages['usageChargeTemplate.filterParam2']}"
				field="filterParam2" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['usageChargeTemplate.priority']}"
				field="priority" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" /> 	
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="usagesButton" outcome="usageChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{usageChargeTemplateBean.deleteInlist}" update=":#{p:component('chargeTemplate')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{usageChargeTemplateBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
			 </hftl:dataList>
			</h:panelGrid>

			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrRecurringWithNotPricePlan!=0}">
			<h:outputLabel value="#{messages['recurringChargeTemplate.title']}"/>
			<hftl:dataList resultsId="recurring_panel" checkMany="true"
			 backingBean="#{recurringChargeTemplateBean}" sortBy="code" dataModel="#{configIssuesReportingBean.recurringWithNotPricePlanList}">
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['chargeTemplate.amountEditable']}"
				field="amountEditable" isMessage="true" />
			<hftl:column
				label="#{messages['recurringChargeTemplate.durationTermInMonth']}"
				field="durationTermInMonth" />
			<hftl:column
				label="#{messages['recurringChargeTemplate.applyInAdvance']}"
				field="applyInAdvance" isMessage="true" />
			<hftl:column label="#{messages['charge.subCategory']}"
				field="invoiceSubCategory.code" valueIdField="invoiceSubCategory.id"
				entityView="invoiceSubCategoryDetail" propagateConversaion="false"
				backView="invoiceCategories" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="recurringButton" outcome="recurringChargeTemplates" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{recurringChargeTemplateBean.deleteInlist}" update=":#{p:component('chargeTemplate')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{recurringChargeTemplateBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
		</hftl:dataList>
	   </h:panelGrid>
	   
	   <h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrOneShotWithNotPricePlan!=0}">
			<h:outputLabel value="#{messages['oneShotChargeTemplate.title']}" />
	 <hftl:dataList label="#{messages['oneShotChargeTemplate.title']}" checkMany="true"  resultsId="onshot_panel" 
			  noClose="false" sortBy="code"
			backingBean="#{oneShotChargeTemplateListBean}" dataModel="#{configIssuesReportingBean.oneShotChrgWithNotPricePlanList}" >
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['chargeTemplate.amountEditable']}"
				field="amountEditable" isMessage="true" />
			<hftl:column label="#{messages['chargeTemplate.type']}"
				field="oneShotChargeTemplateType.label"
				isMessage="true" />
			<hftl:column label="#{messages['charge.subCategory']}"
				field="invoiceSubCategory.code" isMessage="false"
				valueIdField="invoiceSubCategory.id" propagateConversation="false"
				entityView="invoiceSubCategoryDetail"
				backView="invoiceCategories" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<hftl:column
				label="#{messages['oneShotChargeTemplate.immediateInvoicing']}"
				field="immediateInvoicing" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="oneShotButton" outcome="oneShotChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{oneShotChargeTemplateListBean.deleteInlist}" update=":#{p:component('chargeTemplate')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{oneShotChargeTemplateListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
			</p:column>
		</hftl:dataList>
	   </h:panelGrid>
           </p:tab>
		   </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="accordionTax">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructTaxesNotAssociated}" />
		   <p:tab> 
             <f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.taxesNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbTaxesNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbTaxesNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbTaxesNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbTaxesNotAssociated!=0}"/>
            </f:facet>	
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbTaxesNotAssociated!=0}">
			<hftl:dataList label="#{messages['tax.title']}" resultsId="taxes_panel" checkMany="true"
			backingBean="#{taxListBean}" sortBy="code" dataModel="#{configIssuesReportingBean.taxesNotAssociatedList}">
			<hftl:column label="#{messages['tax.code']}" field="code" />
			<hftl:column label="#{messages['tax.description']}"
				field="description" />
			<hftl:column label="#{messages['tax.percent']}" field="percent" converterParam="4digits" />
			<hftl:column label="#{messages['invoiceSubCategory.accountingCode']}"
				field="accountingCode" />
			<p:column width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="taxesButton" outcome="taxDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				<p:commandButton icon="ui-icon-trash"
				action="#{taxBean.deleteInlist}" update=":#{p:component('accordionTax')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
				<f:setPropertyActionListener target="#{taxBean.entity}" value="#{entity}"></f:setPropertyActionListener>
				</p:commandButton>
				</p:column>
		  </hftl:dataList> 
			</h:panelGrid>
		    </p:tab>
			 </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="languages">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructLanguagesNotAssociated}" />
            <p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.languagesNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbLanguageNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbLanguageNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbLanguageNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbLanguageNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbLanguageNotAssociated!=0}">
			<hftl:dataList label="#{messages['comLanguage.title']}" resultsId="languages_panel" checkMany="true"
			backingBean="#{tradingLanguageListBean}" dataModel="#{configIssuesReportingBean.languagesNotAssociatedList}">
			<hftl:column label="#{messages['tradingLanguage.languageCode']}"
				field="language.languageCode" width="10%" />
			<hftl:column label="#{messages['tradingLanguage.prDescription']}"
				field="prDescription" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true"
				width="10%" />
			<p:column style="width:50px"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="languagesButton" outcome="tradingLanguagesDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{tradingLanguageListBean.deleteInlist}" update=":#{p:component('languages')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{tradingLanguageListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
		  </hftl:dataList> 
			</h:panelGrid>
		    </p:tab>
			 </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="invoiceCats">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructInvoiceCatNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.invoiceCategoryNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbInvCatNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbInvCatNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbInvCatNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbInvCatNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbInvCatNotAssociated!=0}">
			 <hftl:dataList label="#{messages['invoiceCategory.title']}"  resultsId="invoiceCat_panel" dataModel="#{configIssuesReportingBean.invoiceCatNotAssociatedList}"
			backingBean="#{invoiceCategoryListBean}" checkMany="true" sortBy="code"  >
			<hftl:column label="#{messages['invoiceCategory.code']}" field="code" />
			<hftl:column label="#{messages['invoiceCategory.description']}"
				field="description" />
			<p:column style="width:50px"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="invoiceCatButton" outcome="invoiceCategoryDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				<p:commandButton icon="ui-icon-trash"
			action="#{invoiceCategoryListBean.deleteInlist}" update=":#{p:component('invoiceCats')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{invoiceCategoryListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
		  </hftl:dataList>
			</h:panelGrid>
		    </p:tab>
			 </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="invoiceSubs">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructInvoiceSubCatNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.invoiceSubCategoryNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbInvSubCatNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbInvSubCatNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbInvSubCatNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbInvSubCatNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbInvSubCatNotAssociated!=0}">	
			<hftl:dataList label="#{messages['invoiceSubCategory.title']}" checkMany="true" resultsId="invoiceSubCat_panel" dataModel="#{configIssuesReportingBean.invoiceSubCatNotAssociatedList}"
			backingBean="#{invoiceSubCategoryListBean}" sortBy="code">
			<hftl:column label="#{messages['invoiceSubCategory.code']}"
				field="code" />
			<hftl:column
				label="#{messages['invoiceSubCategory.invoiceCategory']}"
				field="invoiceCategory.code" />
			<hftl:column label="#{messages['invoiceSubCategory.description']}"
				field="description" />
			<hftl:column label="#{messages['invoiceSubCategory.accountingCode']}"
				field="accountingCode" />
			<p:column style="width:50px"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="invoiceSubCatButton" outcome="invoiceSubCategoryDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				</p:column>
			<p:commandButton icon="ui-icon-trash"
			action="#{invoiceSubCategoryListBean.deleteInlist}" update=":#{p:component('invoiceSubs')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{invoiceSubCategoryListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
		  </hftl:dataList>
			</h:panelGrid>
		    </p:tab>
		 </p:accordionPanel>
		 <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="servicesTmpl">
		 <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructServicesWithNotOffer}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.servicesWithNotOffer']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbServiceWithNotOffer}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbServiceWithNotOffer==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbServiceWithNotOffer}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbServiceWithNotOffer!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbServiceWithNotOffer!=0}">
             <hftl:dataList label="#{messages['serviceTemplate.title']}"
			checkMany="true" noClose="false" sortBy="code"  
			backingBean="#{serviceTemplateListBean}" dataModel="#{configIssuesReportingBean.servicesWithNotOfferList}" resultsId="servicesOffer_panel">
			<hftl:column label="#{messages['serviceTemplate.code']}" field="code" />
			<hftl:column label="#{messages['serviceTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['serviceTemplate.recurringCharges']}"
				field="serviceRecurringCharges" isList="true"
				valueLabelField="chargeTemplate.code" valueIdField="chargeTemplate.id"
				view="recurringChargeTemplateDetail" />
			<hftl:column
				label="#{messages['serviceTemplate.subscriptionCharges']}"
				field="serviceSubscriptionCharges" isList="true"
				valueLabelField="chargeTemplate.code" valueIdField="chargeTemplate.id"
				view="oneShotChargeTemplateDetail"/>
			<hftl:column
				label="#{messages['serviceTemplate.terminationCharges']}"
				field="serviceTerminationCharges" isList="true"
				valueLabelField="chargeTemplate.code" valueIdField="chargeTemplate.id"
				view="oneShotChargeTemplateDetail"
				backView="serviceTemplates" />
			<hftl:column label="#{messages['serviceTemplate.usageCharges']}"
				field="serviceUsageCharges" isList="true"
				valueLabelField="chargeTemplate.code" valueIdField="chargeTemplate.id"
				view="usageChargeTemplateDetail" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			 <p:column width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="serviceButton" outcome="serviceTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{serviceTemplateListBean.deleteInlist}" update=":#{p:component('servicesTmpl')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{serviceTemplateListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
		  </hftl:dataList>		
			</h:panelGrid>
		    </p:tab>
		  </p:accordionPanel>
		  
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="usagesTempl">
		    <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructUsagesChrgNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.usagesChrgWithNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrUsagesChrgNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrUsagesChrgNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrUsagesChrgNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrUsagesChrgNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrUsagesChrgNotAssociated!=0}">	
			<hftl:dataList  label="#{messages['usageChargeTemplate.title']}" resultsId="usageCharges_panel" sortBy="code"
			checkMany="true" backingBean="#{usageChargeTemplateListBean}" dataModel="#{configIssuesReportingBean.usagesChrgNotAssociatedList}">
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column
				label="#{messages['usageChargeTemplate.unityMultiplicator']}"
				field="unitMultiplicator" converterParam="12digits" />
<!-- 			<hftl:column -->
<!-- 				label="#{messages['usageChargeTemplate.unityDescription']}" -->
<!-- 				field="unityDescription" /> -->
			<hftl:column label="#{messages['usageChargeTemplate.filterParam1']}"
				field="filterParam1" />
			<hftl:column label="#{messages['usageChargeTemplate.filterParam2']}"
				field="filterParam2" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['usageChargeTemplate.priority']}"
				field="priority" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" /> 	
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="usageChargesButton" outcome="usageChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				<p:commandButton icon="ui-icon-trash"
			action="#{usageChargeTemplateListBean.deleteInlist}" update=":#{p:component('usagesTempl')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{usageChargeTemplateListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>

			 </hftl:dataList>
			</h:panelGrid>
		    </p:tab>
			</p:accordionPanel>
			</h:panelGrid>
		 <h:panelGrid styleClass="panelGrid-column100">
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="counters" >
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructCounterWithNotService}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.countersWithNotServices']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrCounterWithNotService}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrCounterWithNotService==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrCounterWithNotService}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrCounterWithNotService!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrCounterWithNotService!=0}">	
			 <hftl:dataList label="#{messages['counterTemplate.title']}" resultsId="counters_panel" sortBy="code" dataModel="#{configIssuesReportingBean.counterWithNotServicList}"
			checkMany="true" backingBean="#{counterTemplateListBean}" >
			<hftl:column label="#{messages['businessEntity.code']}" field="code" />
			<hftl:column label="#{messages['businessEntity.description']}"
				field="description" />
<!-- 			<hftl:column -->
<!-- 				label="#{messages['usageChargeTemplate.unityDescription']}" -->
<!-- 				field="unityDescription" /> -->
			<hftl:column label="#{messages['counterTemplate.counterType']}"
				field="counterType.label" isMessage="true" />
			<hftl:column label="#{messages['counterTemplate.level']}"
				field="ceiling" converterParam="4digits" />
			<hftl:column label="#{messages['billingCycle.calendar']}"
				field="calendar.code" />

			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="countersButton" outcome="counterTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{counterTemplateListBean.deleteInlist}" update=":#{p:component('counters')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{counterTemplateListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
				</p:column>
		</hftl:dataList>
			</h:panelGrid>
		    </p:tab>
	    </p:accordionPanel>
		 <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="recurrings">
		 <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructRecurringNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.recurringWithNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrRecurringChrgNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrRecurringChrgNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrRecurringChrgNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrRecurringChrgNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrRecurringChrgNotAssociated!=0}">	
			 <hftl:dataList resultsId="recCh_panel"
			checkMany="true" backingBean="#{recurringChargeTemplateListBean}" sortBy="code" dataModel="#{configIssuesReportingBean.recurringNotAssociatedList}">
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['chargeTemplate.amountEditable']}"
				field="amountEditable" isMessage="true" />
			<hftl:column
				label="#{messages['recurringChargeTemplate.durationTermInMonth']}"
				field="durationTermInMonth" />
			<hftl:column
				label="#{messages['recurringChargeTemplate.applyInAdvance']}"
				field="applyInAdvance" isMessage="true" />
			
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="recButton" outcome="recurringChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
			<p:commandButton icon="ui-icon-trash"
			action="#{recurringChargeTemplateListBean.deleteInlist}"  update=":#{p:component('recurrings')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{recurringChargeTemplateListBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
			</p:column>
		</hftl:dataList>
			</h:panelGrid>
		    </p:tab>
		</p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="termCharges">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructTermChrgNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.termChrgNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrTerminationChrgNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrTerminationChrgNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrTerminationChrgNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrTerminationChrgNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrTerminationChrgNotAssociated!=0}">	
			<hftl:dataList label="#{messages['oneShotChargeTemplate.title']}"  resultsId="termination_panel" 
			checkMany="true" noClose="false" sortBy="code"
			backingBean="#{serviceChargeTemplateTerminationBean}" dataModel="#{configIssuesReportingBean.terminationNotAssociatedList}" >
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['chargeTemplate.amountEditable']}"
				field="amountEditable" isMessage="true" />
			<hftl:column label="#{messages['chargeTemplate.type']}"
				field="oneShotChargeTemplateType.label"
				isMessage="true" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<hftl:column
				label="#{messages['oneShotChargeTemplate.immediateInvoicing']}"
				field="immediateInvoicing" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="terminationButton" outcome="oneShotChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				</p:column>
			<p:commandButton icon="ui-icon-trash"
			action="#{oneShotChargeTemplateBean.deleteInlist}"  update=":#{p:component('termCharges')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
			<f:setPropertyActionListener target="#{oneShotChargeTemplateBean.entity}" value="#{entity}"></f:setPropertyActionListener>
			</p:commandButton>
		</hftl:dataList>
			</h:panelGrid>
		    </p:tab>
			 </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false" id="subCharges">
		   <p:ajax event="tabChange" listener="#{configIssuesReportingBean.constructSubChrgNotAssociated}" />
			<p:tab> 
			<f:facet name="title">
               <h:outputText value="#{messages['configIssuesReporting.subChrgNotAssociated']} : "/>
			   <h:outputText value="#{configIssuesReportingBean.getNbrSubscriptionChrgNotAssociated}" style="color:#3FCA21"
				rendered="#{configIssuesReportingBean.getNbrSubscriptionChrgNotAssociated==0}"/>
				<h:outputText value="#{configIssuesReportingBean.getNbrSubscriptionChrgNotAssociated}" style="color:red"
				rendered="#{configIssuesReportingBean.getNbrSubscriptionChrgNotAssociated!=0}"/>
            </f:facet>
			<h:panelGrid columns="1" rendered="#{configIssuesReportingBean.getNbrSubscriptionChrgNotAssociated!=0}">	
			<hftl:dataList label="#{messages['oneShotChargeTemplate.title']}"  resultsId="subscription_panel" 
			checkMany="true" noClose="false" sortBy="code"
			backingBean="#{serviceChargeTemplateSubscriptionBean}" dataModel="#{configIssuesReportingBean.subNotAssociatedList}" >
			<hftl:column label="#{messages['chargeTemplate.code']}" field="code" />
			<hftl:column label="#{messages['chargeTemplate.description']}"
				field="description" />
			<hftl:column label="#{messages['chargeTemplate.amountEditable']}"
				field="amountEditable" isMessage="true" />
			<hftl:column label="#{messages['chargeTemplate.type']}"
				field="oneShotChargeTemplateType.label"
				isMessage="true" />
			<hftl:column label="#{messages['menu.triggeredEdrTemplates']}" field="edrTemplates"
				valueLabelField="code" isList="true" sort="false" />
			<hftl:column label="#{messages['enableEntity.active']}"
				field="active" isMessage="true" />
			<hftl:column
				label="#{messages['oneShotChargeTemplate.immediateInvoicing']}"
				field="immediateInvoicing" isMessage="true" />
			<p:column  width="50"> 
			<f:facet name="header">
			<h:outputText value="Actions" />
		   </f:facet>
				<p:button id="subButton" outcome="oneShotChargeTemplateDetail" icon="ui-icon-search">
				<f:param name="objectId" value="#{entity.id}" />
				<f:param name="edit" value="true" /> 
				</p:button>
				<p:commandButton icon="ui-icon-trash"
				action="#{oneShotChargeTemplateBean.deleteInlist}"  update=":#{p:component('subCharges')}" onclick="if(confirm('#{messages['commons.confirmDelete']}')){return true;}else{return false;}">
				<f:setPropertyActionListener target="#{oneShotChargeTemplateBean.entity}" value="#{entity}"></f:setPropertyActionListener>
				</p:commandButton>
				</p:column>
		</hftl:dataList>
			</h:panelGrid>
		    </p:tab>
	   </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false">
			<p:tab title="#{messages['configIssuesReporting.walletOperationStatus']}">
			<h:panelGrid columns="4">
			<hftl:panelGroup columns="4">
				<h:outputLabel value="#{messages['walletOperationStatus.open']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpOpen}"/>
				<h:outputLabel value="#{messages['walletOperationStatus.canceled']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpCancled}"/> 
				<h:outputLabel value="#{messages['walletOperationStatus.reserved']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpReserved}"/>
				<h:outputLabel value="#{messages['walletOperationStatus.rerated']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpRerated}"/>
				<h:outputLabel value="#{messages['walletOperationStatus.to_rerate']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpTorerate}"/>
				<h:outputLabel value="#{messages['walletOperationStatus.treated']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrWalletOpTreated}"/>
			</hftl:panelGroup >
			</h:panelGrid>
		    </p:tab>
			 </p:accordionPanel>
		   <p:accordionPanel activeIndex="null" dynamic="true" cache="false">
			<p:tab title="#{messages['configIssuesReporting.edrStatus']}">
			<h:panelGrid>
			<hftl:panelGroup columns="4">
				<h:outputLabel value="#{messages['edrStatus.open']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrEdrOpen}"/>
				<h:outputLabel value="#{messages['edrStatus.rejected']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrEdrRejected}"/> 
				<h:outputLabel value="#{messages['edrStatus.rated']} :"/>
				<h:outputText value="#{configIssuesReportingBean.reportConfigDto.nbrEdrRated}"/>
			</hftl:panelGroup >
			</h:panelGrid>
		    </p:tab>
          </p:accordionPanel>		  
			</h:panelGrid>
			</h:panelGrid>
		</p:panel>

	</ui:define>
</ui:composition>
