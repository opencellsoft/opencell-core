{
	"info": {
		"_postman_id": "98ffdbfe-7284-46b0-8a46-fe7f17ba9870",
		"name": "Tickets",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "#5303: CDR and mediation job refactoring",
			"item": [],
			"description": "# Introduction\r\n\r\nThis configuration file is designed to be a basis for all configurations provided by Opencell.\r\nIt merely contains most common general settings and a catalog of services implementing various rating models.\r\n\r\n# Configuring Opencell\r\n\r\nThere are 2 main ways for configuring ***Opencell***:\r\n* GUI (*Administration GUI* and *Marketing Manager*)\r\n* API (all Opencell configuration and operations can be performed using our extensive API library)\r\n\r\nThe most flexible way is using APIs which currently are available as **Rest** and **Soap**.\r\nThe **Soap** API are deprecated, so will won't mention them anymore.\r\n\r\n## Tools\r\n\r\nAny tools able to send HTTP requests will do.\r\nOne could even just script *curl* calls using shell script.\r\nBut of course, a more user friendly tool will make things easier.\r\n\r\nHere at ***Opencell***, we prefer **Postman** (https://getpostman.com):\r\n* it has a modern, friendly interface\r\n* Sets of API request can be organized into collections, themselves structured into a folder tree.\r\n* Collections can be exported as _JSON_ files or shared with other team members using collaboration features (payed version)\r\n* it allows to uses variables at different levels (collection, environement, global) and to execute *Javascript* scripts before and after executing API calls which allows great flexibility and API response testing.\r\n\r\n\r\n\r\n# Configuration documentation guidelines\r\n\r\nIn order to document our configuration, we make full used of the internal documentation capabilities of the Markdown fields on Postman Objects\r\n\r\n## Default template for *Collection* documentation\r\n\r\n## Default template for *Folder* documentation\r\n\r\n## Default template for *Request* documentation\r\n\r\n\r\n\r\n# Tips & guidelines\r\n\r\nHere follow a few tips for understanding this collection.\r\n\r\n## Collection pre-request script\r\n\r\n```javascript\r\npm.globals.set(\"timestamp.iso\", (new Date()).toISOString());\r\npm.globals.set(\"request.label\", pm.info.requestName);\r\n\r\nvar parts = pm.info.requestName.split(\"|\");\r\n\r\nfor(let i=0; i<parts.length; i++) {\r\n    pm.globals.set(\"request.label.\"+i, parts[i]);\r\n}\r\n```\r\n\r\n## Configuration guidelines\r\n\r\n## Entities\r\n\r\n<entity>_<project_code>_XXX\r\n\r\n### Custom Fields\r\n\r\nCF_<entity>_<project_code>_ XXX\r\n\r\n<entity> will be discarded for inherited\r\n\r\n#### Custom field visibility\r\n\r\nSE_<entity>_<project_code>_<markers>_XXX\r\n\r\n<markers> are used in CFT.applicableOnEl to show CFT on entities\r\n\r\n\r\n## Entity abbreviation\r\n\r\n| code  | entity                        |\r\n|:-----:|:------------------------------|\r\n|   P   | Provider                      |\r\n|   S   | Seller                        |\r\n|   C   | Customer                      |\r\n|  CA   | Customer Account              |\r\n|  BA   | Billing Account               |\r\n|  UA   | User Account                  |\r\n|  SU   | Subscription                  |\r\n|  AP   | Access Point                  |\r\n|  OF   | Offer Template                |\r\n|  SE   | Service Template and Instance |\r\n|  CH   | Charge Template               |\r\n|  PP   | Price Plan                    |\r\n|  CN   | Counter                       |\r\n| ICAT  | Invoice Category              |\r\n| ISCAT | Invoice SubCategory           |\r\n|  CAL  | Calendar                      |\r\n|  BC   | Billing Cycle                 |\r\n",
			"auth": {
				"type": "oauth2",
				"oauth2": [
					{
						"key": "accessToken",
						"value": "{{access_token}}",
						"type": "string"
					},
					{
						"key": "addTokenTo",
						"value": "header",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "46057a41-402c-412b-a54a-063255335e1a",
						"type": "text/javascript",
						"exec": [
							"var now = new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for (let i = 0; i < parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\" + i, parts[i]);",
							"",
							"    if (parts[i].indexOf(\"=\") != -1) {",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							"// Token auth",
							"var token = pm.variables.get(\"access_token\");",
							"//console.log(\"token=\"+token);",
							"",
							"if (!token || token === \"\") {",
							"    console.log(\"token is not defined\");",
							"    // Set some environment variables to use in the access token request. ",
							"    var client_id = pm.environment.get(\"client.id\");",
							"    var client_secret = pm.environment.get(\"client.secret\");",
							"    var opencell_url = pm.environment.get(\"opencell.base\");",
							"    var username = pm.environment.get(\"opencell.username\");",
							"    var password = pm.environment.get(\"opencell.password\");",
							"    var CryptoJS = require(\"crypto-js\")",
							"    // Encrypt the Client ID and Secret in base64 ",
							"    var rawStr = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret)",
							"    var client_cred = CryptoJS.enc.Base64.stringify(rawStr)",
							"    // Now let's get a new oauth2 access_token and set it in a variable ",
							"    pm.sendRequest(",
							"        {",
							"            url: opencell_url + '/auth/realms/opencell/protocol/openid-connect/token',",
							"            method: 'POST',",
							"            header:",
							"            {",
							"                //'Authorization': 'Basic ' + client_cred, ",
							"                'Cache-Control': 'no-cache',",
							"                'Content-Type': 'application/x-www-form-urlencoded'",
							"            }, body:",
							"            {",
							"                mode: 'urlencoded',",
							"                urlencoded:",
							"                    [",
							"                        {",
							"                            key: \"client_id\",",
							"                            value: client_id",
							"                        },",
							"                        {",
							"                            key: \"username\",",
							"                            value: username",
							"                        },",
							"                        {",
							"                            key: \"password\",",
							"                            value: password",
							"                        },",
							"                        {",
							"                            key: \"grant_type\",",
							"                            value: \"password\"",
							"                        },",
							"                        {",
							"                            key: \"client_secret\",",
							"                            value: client_secret",
							"                        },",
							"                    ]",
							"            }",
							"        },",
							"        function (err, response) {",
							"            //console.log(\"AUTH_RETURN_CODE\", err);",
							"            //console.log(\"AUTH_RESPONSE\", response);",
							"            const jsonResponse = response.json();",
							"            console.log(\"Saving token to variables\")",
							"            pm.variables.set(\"access_token\", jsonResponse.access_token);",
							"        }",
							"    );",
							"} else {",
							"    console.log(\"token already exists\");",
							"}",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ac06f724-9367-49ab-939a-014f9c175dbf",
						"type": "text/javascript",
						"exec": [
							"var wait = pm.variables.get(\"wait\");",
							"",
							"if (wait > 0) {",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + wait + \" seconds...\");",
							"    setTimeout(function () { }, wait * 1000);",
							"}",
							"",
							"if (pm.response.code == 401) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \" + pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"} else {",
							"    tests[\"is.success\"] = (pm.response.code == 200 || pm.response.code == 204);",
							"}",
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#4280 - [discount|el] Discount plans must get access to invoice amount without tax before discount application",
			"item": [
				{
					"name": "create hierarchy ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "67b23a1c-0fe7-41cc-b010-5d57b44c008d",
								"exec": [
									"pm.test(\"Status code  is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n            \"sellers\": {\r\n               \"seller\": [{\r\n                  \"code\": \"Reseller12\",\r\n                  \"currencyCode\": \"EUR\",\r\n                  \"countryCode\": \"FR\",\r\n                  \"languageCode\": \"FRA\",\r\n                  \"customers\": {\r\n                     \"customer\":[ {\r\n                        \"code\": \"C1\",\r\n                        \"description\": \"C1\",\r\n                        \"name\": {\r\n                           \"title\": \"MR\",\r\n                           \"firstName\": \"C1\",\r\n                           \"lastName\": \"C1\"\r\n                        },\r\n                        \"address\": {\r\n                           \"address1\": \"rue De Versailles\",\r\n                           \"address2\": \"Zac De Valmy\",\r\n                           \"address3\": \"address3\",\r\n                           \"zipCode\": \"59650\",\r\n                           \"city\": \"Villeneuve d'ascq\",\r\n                           \"country\": \"France\"\r\n                        },\r\n                        \"customerCategory\": \"CLIENT\",\r\n                    \"customerBrand\": \"CLASSIC\",\r\n                        \"customerAccounts\": {\r\n                        \t\"customerAccount\": [\r\n                           {\r\n                              \"code\": \"CA1\",\r\n                              \"description\": \"CA1\",\r\n                              \"name\": {\r\n                                 \"title\": \"MR\",\r\n                                 \"firstName\": \"CA1\",\r\n                                 \"lastName\": \"CA1\"\r\n                              },\r\n                              \"address\": {\r\n                                 \"address1\": \"rue De Versailles\",\r\n                                 \"address2\": \"Zac De Valmy\",\r\n                                 \"address3\": \"address3\",\r\n                                 \"zipCode\": \"59650\",\r\n                                 \"city\": \"Villeneuve d'ascq\",\r\n                                 \"country\": \"France\"\r\n                              },\r\n                              \"currency\": \"EUR\",\r\n                              \"language\": \"FRA\",\r\n                             \r\n                                 \"methodOfPayment\": [{\r\n                                    \"paymentMethodType\": \"WIRETRANSFER\"\r\n                                 \r\n                              }],\r\n                              \"billingAccounts\": {\r\n                                 \"billingAccount\": [\r\n                                 \t{\r\n                                    \"code\": \"BA1\",\r\n                                    \"description\": \"BA1\",\r\n                                    \"name\": {\r\n                                       \"title\": \"MR\",\r\n                                       \"firstName\": \"BA1\",\r\n                                       \"lastName\": \"BA1\"\r\n                                    },\r\n                                    \"address\": {\r\n                                       \"address1\": \"rue De Versailles\",\r\n                                       \"address2\": \"Zac De Valmy\",\r\n                                       \"address3\": \"address3\",\r\n                                       \"zipCode\": \"59650\",\r\n                                       \"city\": \"Villeneuve d'ascq\",\r\n                                       \"country\": \"France\"\r\n                                    },\r\n                                    \"billingCycle\": \"CYC_INV_MT_1\",\r\n                                    \"country\": \"FR\",\r\n                                    \"language\": \"FRA\",\r\n                                    \"electronicBilling\": \"true\",\r\n                                    \"email\": \"maria.ab@opencellsoft.com\",\r\n                                    \"userAccounts\": {\r\n                                       \"userAccount\": [ {\r\n                                          \"code\": \"UA1\",\r\n                                          \"description\": \"UA1\",\r\n                                          \"name\": {\r\n                                             \"title\": \"Ms\",\r\n                                             \"firstName\": \"UA1\",\r\n                                             \"lastName\": \"UA1\"\r\n                                          },\r\n                                          \"address\": {\r\n                                             \"address1\": \"rue De Versailles\",\r\n                                             \"address2\": \"Zac De Valmy\",\r\n                                             \"address3\": \"address3\",\r\n                                             \"zipCode\": \"59650\",\r\n                                             \"city\": \"Villeneuve d'ascq\"\r\n                                          \r\n                                          }\r\n                           \r\n                                       \r\n                                 }  ]}\r\n\r\n}]\r\n}\r\n}]\r\n}\r\n}\r\n]\r\n}\r\n}\r\n]\r\n}\r\n}"
						},
						"url": {
							"raw": "{{opencell.url}}/account/accountHierarchy/customerHierarchyUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"account",
								"accountHierarchy",
								"customerHierarchyUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "createOrUpdate discountPlan",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2f8e48b8-4e23-40b8-b9b0-a68e13351874",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"DP_Test\",\r\n    \"description\": \"Discount planDP_Test\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"catalog",
								"discountPlan",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "createOrUpdate discountPlanItem",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c2c6cd47-e0b3-42f5-a2c1-30775ecad432",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"DP_Item_Test\",\r\n    \"discountPlanCode\": \"DP_Test\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"PERCENTAGE\",\r\n    \"discountValue\": 50,\r\n    \"discountValueEL\":\" #{invoice.amountWithoutTax.doubleValue()<100?10:20}\",\r\n    \"customFields\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"catalog",
								"discountPlanItem",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Instantiate discount plan ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3b5f5d94-b073-4723-b488-15b4e2d803a8",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"BA1\",\r\n   \r\n\t\r\n\t\"language\" : \"FRA\",\r\n\t\"country\" : \"FR\",\r\n    \"discountPlanForInstantiation\": [\r\n        {\r\n            \"code\": \"DP_Test\",\r\n            \"startDate\": null,\r\n            \"endDate\": null,\r\n            \"defaultDuration\": null,\r\n            \"durationUnit\": null\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/account/billingAccount",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"account",
								"billingAccount"
							]
						}
					},
					"response": []
				},
				{
					"name": "create subscription 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dfcd139d-080e-409e-a3fb-cced1d3ce9c2",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"SUB1\",\r\n    \"userAccount\": \"UA1\",\r\n    \"subscriptionDate\": \"{{date}}\",\r\n    \"offerTemplate\": \"OF_CLASSIC_TEMPLATE\",\r\n    \r\n    \"status\": \"ACTIVE\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Instantiate and activate Services",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7b764f67-0c9c-4f6e-9a28-ddc4cad4fab5",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "\r\n \r\n  {\r\n         \r\n           \"subscription\": \"SUB1\",\r\n             \"servicesToActivate\" : {\r\n    \"service\": [  \r\n    { \r\n    \t  \"code\": \"SE_CLASSIC_OSS_UNIT\", \r\n    \t \"subscriptionDate\": \"2019-08-06T16:29:14.379Z\",\r\n    \t  \"quantity\": 1\r\n    \t},\r\n    \t{ \r\n    \t  \"code\": \"SE_CLASSIC_REC_FLAT\", \r\n    \t   \"subscriptionDate\": \"2019-08-06T16:29:14.379Z\",\r\n    \t  \"quantity\": 1\r\n    \t}\r\n    \t\r\n    \r\n    ] }\r\n    \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/activateServices",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"activateServices"
							]
						}
					},
					"response": []
				},
				{
					"name": "Generate invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5aef8da2-1896-47e2-bf87-a6820915d3a1",
								"exec": [
									"\r",
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var res = pm.response.json();\r",
									"pm.globals.set(\"discount_percent\", res.generateInvoiceResultDto[0].categoryInvoiceAgregate[1].discountAggregate[0].discountPercent);\r",
									"pm.test(\"dicsount equals 20\", function () {\r",
									"    pm.expect(pm.globals.get(\"discount_percent\")).to.eql(20);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"billingAccountCode\" : \"BA1\",\r\n  \"invoicingDate\" : \"{{$timestamp}}000\",\r\n  \"lastTransactionDate\" : \"{{$timestamp}}999\",\r\n  \"generateXML\" : true,\r\n  \"generatePDF\" : true,\r\n  \"generateAO\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice/generateInvoice",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice",
								"generateInvoice"
							]
						}
					},
					"response": []
				},
				{
					"name": "create subscription 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9331b08-b3ae-4bf9-84cd-2735a10dc7c3",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"SUB2\",\r\n    \"userAccount\": \"UA1\",\r\n    \"subscriptionDate\": \"2020-05-06T16:29:14.379Z\",\r\n    \"offerTemplate\": \"OF_CLASSIC_TEMPLATE\",\r\n    \r\n    \"status\": \"ACTIVE\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Instantiate and activate Services 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d7becc36-afd3-4611-8e8d-70dc7768495a",
								"exec": [
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{adminPassword}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{adminUsername}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "\r\n \r\n  {\r\n         \r\n           \"subscription\": \"SUB2\",\r\n             \"servicesToActivate\" : {\r\n    \"service\": [  \r\n    \r\n    \t{ \r\n    \t  \"code\": \"SE_CLASSIC_REC_FLAT\", \r\n    \t   \"subscriptionDate\": \"2020-05-06T16:29:14.379Z\",\r\n    \t  \"quantity\": 1\r\n    \t}\r\n    \t\r\n    \r\n    ] }\r\n    \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/activateServices",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"activateServices"
							]
						}
					},
					"response": []
				},
				{
					"name": "Generate invoice 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c0a63a6a-81e3-42c3-bcd8-77ee7711ed43",
								"exec": [
									"\r",
									"pm.test(\"Status code is OK\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"\r",
									"var res = pm.response.json();\r",
									"pm.globals.set(\"discount_percent_sub2\", res.generateInvoiceResultDto[0].categoryInvoiceAgregate[0].discountAggregate[0].discountPercent);\r",
									"pm.test(\"dicsount percent equals 10\", function () {\r",
									"    pm.expect(pm.globals.get(\"discount_percent_sub2\")).to.eql(10);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"billingAccountCode\" : \"BA1\",\r\n  \"invoicingDate\" : \"{{$timestamp}}000\",\r\n  \"lastTransactionDate\" : \"{{$timestamp}}999\",\r\n  \"generateXML\" : true,\r\n  \"generatePDF\" : true,\r\n  \"generateAO\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice/generateInvoice",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice",
								"generateInvoice"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#4895 - Create a fixed date calendar ",
			"item": [
				{
					"name": "FIXED_CALENDAR",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4c7ff693-1d44-4722-9763-beab9fb790af",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(request.name + \" - Check Status\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
									"});",
									"",
									"pm.test(request.name + \" - Check ErrorCode\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errorCode).to.eql();",
									"});",
									"",
									"pm.test(request.name + \" - Check Message\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.message).to.eql(\"\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"code\": \"FIXED_CALENDAR_2020\",\n    \"description\":\"FIXED_CALENDAR_2020\",\n    \"calendarType\": \"FIXED\",\n     \"fixedDates\": [\n            \"01/01/2020 15:15 - 31/05/2020 15:15\"\n        ]\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/calendar/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"calendar",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE_FIXED_CALENDAR",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "07630252-cb06-470d-8fd8-5f664edaa647",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{opencell.url}}/calendar/FIXED_CALENDAR_2020",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"calendar",
								"FIXED_CALENDAR_2020"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5064 - Add fileFormat attribute (CF) to FlatFile job and finish fileFormat Rest api",
			"item": [
				{
					"name": "File Format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "09538ffd-ebec-4628-8908-05f354be87fe",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"code\": \"test\",\n    \"fileTypes\": [\n        \"csv\"\n    ],\n    \"configurationTemplate\": \"test1\",\n    \"recordName\": \"record\",\n    \"inputDirectory\": \"imports/catalog/input\",\n    \"outputDirectory\": \"imports/catalog/output\",\n    \"rejectDirectory\": \"imports/catalog/reject\",\n    \"archiveDirectory\": \"imports/test\",\n    \"jobCode\": \"Catalog import job\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Find file format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9030fb86-e57e-4458-8e00-4ca0930dd431",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"Check File Format code\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.code).to.eql(\"test\");\r",
									"    });\r",
									"pm.test(\"Check File Format type\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.fileTypes).to.eql([ 'csv' ] );\r",
									"    });\r",
									"\r",
									"    pm.test(\"Check configurationTemplate\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.configurationTemplate).to.eql(\"test1\");\r",
									"    });\r",
									"    \r",
									"     pm.test(\"Check recordName\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.recordName).to.eql(\"record\");\r",
									"    });\r",
									"    \r",
									"      pm.test(\"Check input Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.inputDirectory).to.eql(\"imports/catalog/input\");\r",
									"    });\r",
									"\r",
									"       pm.test(\"Check output Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.outputDirectory).to.eql(\"imports/catalog/output\");\r",
									"    });\r",
									"       pm.test(\"Check reject Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.rejectDirectory).to.eql(\"imports/catalog/reject\");\r",
									"    });\r",
									"    \r",
									"     pm.test(\"Check archive Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.archiveDirectory).to.eql(\"imports/test\");\r",
									"    });"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat?code=test",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat"
							],
							"query": [
								{
									"key": "code",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update fileFormat",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dd1bb7f4-ba83-44ce-b1ea-0063a91d4710",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(request.name + \" - Check Status\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
									"});",
									"",
									"pm.test(request.name + \" - Check ErrorCode\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errorCode).to.eql();",
									"});",
									"",
									"pm.test(request.name + \" - Check Message\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.message).to.eql(\"\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{opencell.username}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{opencell.password}}",
									"type": "string"
								},
								{
									"key": "saveHelperData",
									"value": true,
									"type": "boolean"
								},
								{
									"key": "showPassword",
									"value": false,
									"type": "boolean"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"code\": \"test\",\n    \"fileTypes\": [\n        \"txt\"\n    ],\n    \"configurationTemplate\": \"test2\",\n    \"recordName\": \"record\",\n    \"inputDirectory\": \"imports/catalog/input\",\n    \"outputDirectory\": \"imports/catalog/output\",\n    \"rejectDirectory\": \"imports/catalog/reject\",\n    \"archiveDirectory\": \"imports/test\",\n    \"jobCode\": \"Catalog import job\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat"
							]
						}
					},
					"response": []
				},
				{
					"name": "Find file format after update",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fe28da27-7bee-45c6-93a6-97d9958d8a52",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.message).to.eql();\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat?code=test",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat"
							],
							"query": [
								{
									"key": "code",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List file formats",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "eb5d68d9-55bc-4985-929f-f54d3d20dd83",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.actionStatus.message).to.eql();\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete file format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e308ae92-40d6-413e-afae-9ed328b14586",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat/test",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat",
								"test"
							]
						}
					},
					"response": []
				},
				{
					"name": "Find file format after delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0db8cdc7-30af-4c6f-88ff-a00664afeaae",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"FAIL\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql(\"ENTITY_DOES_NOT_EXISTS_EXCEPTION\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"FileFormat with code=test does not exists.\");\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"type": "text",
								"value": ""
							}
						],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat?code=test",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat"
							],
							"query": [
								{
									"key": "code",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "File Format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "564d0af6-7946-49c8-ad73-3f8e94ea31ef",
								"exec": [
									"pm.test(request.name + \" - Check Code\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"code\": \"test\",\n    \"fileTypes\": [\n        \"csv\"\n    ],\n    \"configurationTemplate\": \"test1\",\n    \"recordName\": \"record\",\n    \"inputDirectory\": \"imports/catalog/input\",\n    \"outputDirectory\": \"imports/catalog/output\",\n    \"rejectDirectory\": \"imports/catalog/reject\",\n    \"archiveDirectory\": \"imports/test\",\n    \"jobCode\": \"Catalog import job\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Find file format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c73e0b4f-e31f-49fd-a0ba-39949dd9a9a5",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"Check File Format code\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.code).to.eql(\"test\");\r",
									"    });\r",
									"pm.test(\"Check File Format type\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.fileTypes).to.eql([ 'csv' ] );\r",
									"    });\r",
									"\r",
									"    pm.test(\"Check configurationTemplate\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.configurationTemplate).to.eql(\"test1\");\r",
									"    });\r",
									"    \r",
									"     pm.test(\"Check recordName\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.recordName).to.eql(\"record\");\r",
									"    });\r",
									"    \r",
									"      pm.test(\"Check input Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.inputDirectory).to.eql(\"imports/catalog/input\");\r",
									"    });\r",
									"\r",
									"       pm.test(\"Check output Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.outputDirectory).to.eql(\"imports/catalog/output\");\r",
									"    });\r",
									"       pm.test(\"Check reject Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.rejectDirectory).to.eql(\"imports/catalog/reject\");\r",
									"    });\r",
									"    \r",
									"     pm.test(\"Check archive Directory\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.dto.archiveDirectory).to.eql(\"imports/test\");\r",
									"    });"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{opencell.url}}/admin/fileFormat?code=test",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"admin",
								"fileFormat"
							],
							"query": [
								{
									"key": "code",
									"value": "test"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5180 - [invoicing] Split invoice by payment method and comment",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Settings",
							"item": [
								{
									"name": "Provider/Seller/Account",
									"item": [
										{
											"name": "Update Provider",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "eb794632-7621-419c-8877-2b30f64a7d6f",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{provider.code}}\",\n    \"description\": \"{{template.label}}\",\n    \"enterprise\": \"true\",\n    \"rounding\": 6,\n    \"roundingMode\": \"NEAREST\",\n    \"invoiceRounding\": 2,\n    \"invoiceRoundingMode\": \"NEAREST\",\n    \"invoiceConfiguration\": {\n        \"displaySubscriptions\": \"true\",\n        \"displayServices\": \"true\",\n        \"displayOffers\": \"true\",\n        \"displayEdrs\": \"true\",\n        \"displayProvider\": \"true\",\n        \"displayCfAsXML\": \"true\",\n        \"displayPricePlans\": \"true\",\n        \"displayDetail\": \"true\",\n        \"displayChargesPeriods\": \"true\",\n        \"displayFreeTransacInInvoice\": \"true\",\n        \"displayBillingCycle\": \"true\",\n        \"displayOrders\": \"true\"\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/provider/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CF_PROV_PROJECT_VERSION",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ff42ca19-5ea2-4327-a982-047b7d88fd36",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "16f67cb6-a631-4f40-ab41-d42e08569fb0",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label}}_{{$timestamp}}\",\r\n    \"description\": \"{{project.code}} {{project.type}} {{project.version}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"Provider\",\r\n    \"defaultValue\": \"{{timestamp.iso}}\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false,\r\n    \"guiPosition\": \"tab:Project versions:999\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "S|MAIN_SELLER|Opencell",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "215ec3d6-c353-4541-acd4-d43fb0bf10fc",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\t\"code\" : \"{{request.label.1}}\",\r\n\t\"description\" : \"{{request.label.2}}\",\r\n    \"currencyCode\": \"EUR\",\r\n    \"countryCode\": \"FR\",\r\n    \"languageCode\": \"ENG\",\r\n    \"address\": {\r\n        \"address1\": \"14 rue Crespin du Gast\",\r\n        \"address2\": \"Esc. A\",\r\n        \"address3\": null,\r\n        \"zipCode\": \"75011\",\r\n        \"city\": \"PARIS\",\r\n        \"country\": \"FR\",\r\n        \"state\": null\r\n    },\r\n    \"contactInformation\": {\r\n        \"email\": \"billing@opencellsoft.com\",\r\n        \"phone\": \"0123456789\",\r\n        \"mobile\": \"0678912345\",\r\n        \"fax\": null\r\n    }\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/seller/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"seller",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "be1a8985-9860-4784-a1cf-b0987984e664",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "feddcdaa-0db4-41dc-b7cf-41384c42a31d",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Taxes",
									"item": [
										{
											"name": "Tax rates",
											"item": [
												{
													"name": "tax|code=TAX_20|desc=VAT 20%|percentage=20|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "1200a88d-30a8-452b-b61b-db461f23f00c",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																]
															},
															"listen": "test"
														},
														{
															"script": {
																"type": "text/javascript",
																"id": "2985e4fe-68d2-4994-a256-479977028f7e",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=TAX_10|desc=VAT 10%|percentage=10|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "d85e9fe7-9464-406a-b2a3-dea3aae50892",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																]
															},
															"listen": "test"
														},
														{
															"script": {
																"type": "text/javascript",
																"id": "102c179d-b326-4829-846d-4f774a8cadcb",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														},
														"description": "Taux  16% pour la Polynsie Franaise (taux nominal)"
													},
													"response": []
												},
												{
													"name": "tax|code=NO_TAX|desc=No tax|percentage=0|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "70adfba7-d13a-49ec-b07d-a826f1fd53ba",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																]
															},
															"listen": "test"
														},
														{
															"script": {
																"type": "text/javascript",
																"id": "c0743b2c-f4cd-484c-8d0b-f43b321ec643",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														},
														"description": "Permettra d'identifier qu'il faut enlever les lignes de taxe (diffrent d'une ligne avec Taxe  0)"
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax categories (account)",
											"item": [
												{
													"name": "taxCat|code=STANDARD|desc=Standard accounts",
													"event": [
														{
															"script": {
																"id": "bf91e3ff-5774-4ee8-880b-dc2149a66c58",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															},
															"listen": "test"
														},
														{
															"script": {
																"id": "ddda7875-c077-4a2e-be62-35811744874b",
																"exec": [
																	""
																],
																"type": "text/javascript"
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxCat|code=NO_TAX|desc=Exempted accounts",
													"event": [
														{
															"script": {
																"id": "3e3738c7-a712-4216-944c-50dd61d7bcb1",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															},
															"listen": "test"
														},
														{
															"script": {
																"id": "b75257bd-c8b8-4250-8e0f-d23a538d9ca0",
																"exec": [
																	""
																],
																"type": "text/javascript"
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax classes (charge)",
											"item": [
												{
													"name": "taxClass|code=STANDARD|desc=Standard products",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "ee77142f-b7e7-44af-baaa-a0a20562f4a0",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "93fc7298-a7d1-4306-90f5-644ee89310cb",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=NO_TAX|desc=Products with no VAT",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "a0fa7cfc-17fb-422c-b681-3fff252eadd1",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "78ac6683-f974-4b0f-814b-6f1666c27ef3",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax mapping",
											"item": [
												{
													"name": "taxMapping|priority=100|taxCat=NO_TAX|taxClass=|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "f3b2ef82-a665-42c8-944a-78cabf4d4708",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "20ba0f46-f6da-4027-ad2a-099b6a5b6dd8",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=20|taxCat=STANDARD|taxClass=NO_TAX|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "483656ef-6c42-4c6b-bfd7-3c7f6da0ad90",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "6030c938-31a6-4c6e-a642-8a22aac65261",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=1|taxCat=STANDARD|taxClass=STANDARD|buyer=|tax=TAX_20",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "49ff0e8b-e015-46b1-89dc-cf3e2d2f945a",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "1a0c6b88-c999-45bc-b785-bbf838c1fcea",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=20|taxCat=STANDARD|taxClass=STANDARD|buyer=US|tax=TAX_10",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "a1d892ca-d2fe-4825-ad44-12d8c21a0ca4",
																"exec": [
																	"var jsonData = JSON.parse(responseBody);",
																	"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"id": "19affa05-4530-443f-a20e-746e90686ded",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Account",
									"item": [
										{
											"name": "custCat|code=CLIENT|taxCat=STANDARD",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "bbe40887-4696-46ec-bed6-46d43ea3ad46",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"Client\",\r\n    \"taxCategoryCode\": \"STANDARD\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/account/customer/createOrUpdateCategory",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"customer",
														"createOrUpdateCategory"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Notifications",
									"item": [
										{
											"name": "SCRIPT|CreateAccess|Creates an access on Subscription creation",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f65bdf50-922b-4202-b086-ed6137857798",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
															"tests[\"is.compiled\"] = jsonData.compilationErrors.length === 0;"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.admin.User;\r\nimport org.meveo.model.billing.Subscription;\r\nimport org.meveo.model.mediation.Access;\r\n\r\nimport org.meveo.service.medina.impl.AccessService;\r\nimport org.meveo.service.script.Script;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class CreateAccess extends Script {    \r\n    private static final Logger log = LoggerFactory.getLogger(CreateAccess.class);        \r\n\r\n    private AccessService accessService = (AccessService) getServiceInterface(\"AccessService\");\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context={}\", context);\r\n\r\n        Subscription subscription = (Subscription) context.get(\"entity\");\r\n        if(subscription == null){\r\n            throw new BusinessException(\"subscription is null\");\r\n        }\r\n        log.debug(\"subscription={}\", subscription);\r\n\r\n        Access access = new Access();\r\n        access.setSubscription(subscription);\r\n        access.setAccessUserId(subscription.getCode());\r\n        access.setStartDate(null);\r\n        access.setEndDate(null);\r\n        accessService.create(access);\r\n    }\r\n}]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "notifSubscriptionCreate",
											"event": [
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"id": "e77bdf57-3721-469c-8354-e5bada5ddcc3"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"updatedCode\": null,\r\n    \"code\": \"subscriptionCreate\",\r\n    \"classNameFilter\": \"org.meveo.model.billing.Subscription\",\r\n    \"eventTypeFilter\": \"CREATED\",\r\n    \"elFilter\": \"\",\r\n    \"scriptInstanceCode\": \"org.meveo.service.script.CreateAccess\",\r\n    \"scriptParams\": {\r\n      \"entity\": \"#{event}\"\r\n    },\r\n    \"counterTemplate\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/notification/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"notification",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Invoice",
									"item": [
										{
											"name": "script|invoicing.SplitInvoice|Splits invoice by RT.parameter2",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e65aa16e-9c89-4775-a25a-71588c9a1d10",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.invoicing;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\n\r\n/**\r\n * Dispatch RTs\r\n * DUMMY\r\n * @author schambrin\r\n */\r\npublic class SplitInvoice extends org.meveo.service.script.Script {\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n    \t// DUMMY\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "bc|code=CYC_INV_MT_1",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "7808f7dd-6393-4fd0-af25-9a630642ece8",
														"exec": [
															"var jsonData = JSON.parse(responseBody);",
															"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"Monthly 1st\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"1\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"MONTHLY\",\n  \"scriptInstanceCode\": \"org.meveo.service.script.invoicing.SplitInvoice\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Catalog",
							"item": [
								{
									"name": "script|rating.LogWalletOperation|Logs the WalletOperation",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4eaa9c11-2c42-4d85-863d-b1e26d852b7f",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/xml"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.dto.billing.WalletOperationDto;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * Logs the WalletOperation\r\n * @author schambrin\r\n */\r\npublic class LogWalletOperation extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogWalletOperation.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"wo={}\",new WalletOperationDto(wo));\r\n        \tlog.info(\"wo.tax={}\", wo.getTax());\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
										},
										"url": {
											"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"scriptInstance",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "counter|code=CN_USG_ACCUM_C|type=USAGE|target=CUST|calendar=MONTHLY|desc=Accumulates quantities on the Customer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5241598f-471a-48a8-8751-c63b166342ef",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"counterTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "cft|code=CF_SE_DOUBLE_VERSION|target=ServiceTemplate",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "78a231a4-de34-49c0-840d-e09aa017db9d",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"1.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:SCH:0;field:1\"\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"customFieldTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "cft|code=CF_SE_DOUBLE_VERSION|target=ServiceInstance",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e8be702-0303-489b-8ae0-f731f3e279c9",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"useInheritedAsDefaultValue\": true,\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"2.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:SCH:0;field:1\"\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"customFieldTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "charge|CH_USG_UNIT|Charge unit 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c18aa237-c589-437f-af56-e965dbb2dad2",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{request.label.2}}\",\n    \"invoiceSubCategory\": \"CMP_DATA\",\n    \"taxClassCode\": \"STANDARD\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"UNIT\",\n    \"priority\": 10\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"usageChargeTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "pp|code=PP_USG_UNIT",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b59e32c0-daf8-469d-853c-a1c3b0f4c8ee",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"eventCode\": \"CH_USG_UNIT\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n"
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"pricePlan",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "se|code=SE_USG_UNIT|desc=Unit usage service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9a2ea973-b870-412d-8459-d999fc507da8",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4dac52e9-8d76-4444-a06b-f5f0d10a82d3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_DOUBLE_VERSION\",\n                \"valuePeriodPriority\": 1,\n                \"doubleValue\": 3.0\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_UNIT\",\n                \"wallets\": null\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"serviceTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "of|code=OF",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fcb45009-a714-468f-983d-14eb55b0d3a1",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{template.label}} offer {{$timestamp}}\",\n    \"disabled\": false,\n    \"lifeCycleStatus\": \"ACTIVE\",\n    \"bomCode\": null,\n    \"offerTemplateCategoryCode\": null,\n    \"offerServiceTemplate\": [\n        {\n            \"serviceTemplate\": {\n                \"code\": \"SE_USG_UNIT\",\n                \"customFields\": null\n            },\n            \"mandatory\": false,\n            \"incompatibleServiceTemplate\": []\n        }\n    ],\n    \"customFields\": null\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"offerTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Account",
					"item": [
						{
							"name": "C|Jean|Bonnot",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5b98d89e-f9f6-4d5c-91d7-b9e1a589a344",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "969ed4f5-224b-4243-a110-2ecb1910c074",
										"exec": [
											"var parts  = pm.variables.get(\"request.label\").split(\"|\");",
											"var index  = pm.globals.get(\"index\");",
											"",
											"if (typeof index === 'undefined') {",
											"    console.log(\"index global varaible is undefined -> setting to \\\"00\\\"\");",
											"    pm.globals.set(\"index\",\"00\");",
											"    index = \"00\";",
											"}",
											"",
											"var prefix = pm.variables.get(\"template.code\")+\"-\";",
											"var suffix = \" \" + prefix + index;",
											"",
											"switch(parts.length) {",
											"    case 1:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[0] + suffix);",
											"        pm.globals.set(\"account.firstname\", \"\");",
											"        pm.globals.set(\"account.lastname\", \"\");",
											"        break;",
											"    case 2:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + suffix);",
											"        pm.globals.set(\"account.firstname\", \"\");",
											"        pm.globals.set(\"account.lastname\", \"\");",
											"        break;",
											"    case 3:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + \" \" + parts[2] + suffix);",
											"        pm.globals.set(\"account.firstname\", parts[1]);",
											"        pm.globals.set(\"account.lastname\", parts[2]);",
											"        break;",
											"    case 4:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + suffix);",
											"        pm.globals.set(\"account.firstname\", parts[2]);",
											"        pm.globals.set(\"account.lastname\", parts[3]);",
											"        break;",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"crmAccountType\" : \"C_UA\",\r\n  \"crmParentCode\" : \"{{seller.code}}\",\r\n  \"code\" : \"{{account.code}}\",\r\n  \"description\": \"{{account.description}}\",\r\n  \"name\" : {\r\n    \"title\" : \"MR\",\r\n    \"firstName\" : \"{{account.firstname}}\",\r\n    \"lastName\" : \"{{account.lastname}}\"\r\n  },\r\n  \"subscriptionDate\": \"2018-01-10\",\r\n  \"jobTitle\": \"Ruler of the known Universe\",\r\n  \"vatNo\": \"FR12345678901234\",\r\n  \"registrationNo\": \"12354678901234\",\r\n  \"address\" : {\r\n    \"address1\" : \"3 rue passante\",\r\n    \"address2\" : \"Btiment A\",\r\n    \"address3\" : \"Bureau D42\",\r\n    \"zipCode\" : \"99999\",\r\n    \"city\" : \"METROVILLE\",\r\n    \"country\" : \"FR\"\r\n  },\r\n  \"contactInformation\" : {\r\n    \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n    \"mobile\" : \"+33123546789\"\r\n  },\r\n  \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n  \"language\" : \"FRA\",\r\n  \"paymentMethod\" : \"CHECK\",\r\n  \"customerCategory\" : \"CLIENT\",\r\n  \"currency\" : \"EUR\",\r\n  \"billingCycle\" : \"CYC_INV_MT_1\",\r\n  \"country\" : \"FR\",\r\n  \"electronicBilling\" : \"true\",\r\n  \"customFields\": null\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdateCRMAccountHierarchy",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdateCRMAccountHierarchy"
									]
								}
							},
							"response": []
						},
						{
							"name": "SU|OF|MAIN_SELLER|2019-12-15T01:23:45.678Z",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "75d6f0a9-fcea-4773-9086-cc7775a187c5",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5c2f9002-642c-4ef3-ada2-82991de83338",
										"exec": [
											"pm.globals.set(\"subscription.code\", pm.globals.get(\"account.code\")+\"-\"+pm.globals.get(\"request.label.0\"));",
											"pm.globals.set(\"subscription.date\", pm.globals.get(\"request.label.3\"));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{subscription.code}}\",\r\n    \"description\": \"Souscription {{subscription.code}}\",\r\n    \"userAccount\": \"{{account.code}}\",\r\n    \"offerTemplate\": \"{{request.label.1}}\",\r\n    \"seller\": \"{{request.label.2}}\",\r\n    \"subscriptionDate\": \"{{request.label.3}}\",\r\n    \"terminationDate\": null,\r\n    \"endAgreementDate\": \"2019-01-01\",\r\n    \"status\": null,\r\n    \"terminationReason\": null,\r\n    \"customFields\": null\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "activateServices|SE_USG_UNIT|{{subscription.date}}",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2a8f726d-8004-485a-8701-56e0007c604c",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{request.label.2}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE_VERSION\",\r\n                    \"valuePeriodPriority\": 2,\r\n                    \"doubleValue\": 4.0\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/activateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"activateServices"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests same invoiceType",
					"item": [
						{
							"name": "script|invoicing.SplitInvoice|Splits invoice by RT.parameter2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8b21f347-c876-4162-895b-e10f5cac770f",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.invoicing;\r\n\r\nimport org.meveo.model.payments.PaymentMethod;\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.lang.String;\r\nimport java.util.Arrays;\r\nimport java.math.BigInteger;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.apache.commons.collections4.MapUtils;\r\nimport org.meveo.commons.utils.StringUtils;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.admin.util.pagination.PaginationConfiguration;\r\n\r\nimport org.meveo.model.admin.Seller;\r\nimport org.meveo.model.billing.BillingRun;\r\nimport org.meveo.model.billing.BillingAccount;\r\nimport org.meveo.model.billing.RatedTransaction;\r\nimport org.meveo.model.billing.InvoiceType;\r\nimport org.meveo.model.billing.RatedTransactionGroup;\r\nimport org.meveo.model.billing.BillingCycle;\r\n\r\nimport org.meveo.service.admin.impl.SellerService;\r\nimport org.meveo.service.billing.impl.BillingAccountService;\r\nimport org.meveo.service.billing.impl.InvoiceTypeService;\r\n\r\n/**\r\n * Dispatch RTs per invoicingGroup on RTparameter2\r\n * A different invoice will be produced for each value of RT.parameter2\r\n * @author schambrin\r\n */\r\npublic class SplitInvoice extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SplitInvoice.class);\r\n\r\n    SellerService sellerService = (SellerService)getServiceInterface(\"SellerService\");\r\n    BillingAccountService billingAccountService = (BillingAccountService)getServiceInterface(\"BillingAccountService\");\r\n    InvoiceTypeService invoiceTypeService = (InvoiceTypeService)getServiceInterface(\"InvoiceTypeService\");\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.trace(\"EXECUTE context {}\", context);\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n\r\n        InvoiceType invoiceType = (InvoiceType) context.get(\"invoiceType\");\r\n        PaymentMethod paymentMethod = (PaymentMethod) context.get(\"paymentMethod\");\r\n        BillingAccount billingAccount = billingAccountService.refreshOrRetrieve((BillingAccount) context.get(\"CONTEXT_ENTITY\"));\r\n        BillingRun billingRun = (BillingRun) context.get(\"br\");\r\n        Seller seller = sellerService.findByCode(\"MAIN_SELLER\");\r\n        BillingCycle billingCycle = billingAccount.getBillingCycle();\r\n\r\n        List<RatedTransaction> allRT = (List<RatedTransaction>) context.get(\"ratedTransactions\");\r\n        Map<String,RatedTransactionGroup> invoices = new HashMap<String,RatedTransactionGroup>();\r\n\r\n        // Dispatch RTs\r\n        allRT.stream().forEach(rt->{\r\n            String invoicingGroup = rt.getParameter2();\r\n\r\n            // Add new invoicingGroup if missing\r\n            if( !invoices.containsKey(invoicingGroup) ) {\r\n                invoices.put(\r\n                        invoicingGroup,\r\n                        new RatedTransactionGroup(billingAccount, seller, billingCycle, invoiceType, false/*prepaid*/, invoicingGroup,paymentMethod)\r\n                );\r\n            }\r\n\r\n            invoices.get(invoicingGroup).getRatedTransactions().add(rt);\r\n        });\r\n\r\n        invoices.entrySet().stream().forEach(invoice->{\r\n            log.info(\"BillingAccount[{}], InvoiceType[{}], InvoicingGroup[{}] => {} RTs\", invoice.getValue().getBillingAccount().getCode(), invoiceType.getCode(), invoice.getKey(), invoice.getValue().getRatedTransactions().size());\r\n        });\r\n\r\n        // Returns the list to the invoicing process\r\n        context.put(Script.RESULT_VALUE, new ArrayList(invoices.values()));\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
								},
								"url": {
									"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"scriptInstance",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=1|p2=A|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0f4b2446-2491-4307-b3d0-61bd0db07e31",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=10|p2=B|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a70b5956-bbab-4c31-98ff-4ffe9c975311",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=2|p2=A|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a4ba8924-3b92-4359-9845-12ebfb9cf04b",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=100|p2=C|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eb491b09-4ace-4795-a302-d1cbf0f71af6",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=20|p2=B|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d591de2-a4a8-44ea-b506-e179551e514b",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "generateInvoice|target=BillingAccount|code={{account.code}}|now",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1ebb7358-5305-4d9a-b419-222cf98a7636",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											"tests[\"3 invoices\"] = jsonData.generateInvoiceResultDto.length == 3;",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"targetCode\": \"{{code}}\",\n    \"targetType\": \"{{target}}\",\n    \"invoicingDate\": \"{{$timestamp}}000\",\n    \"firstTransactionDate\": null,\n    \"lastTransactionDate\": \"2100-01-01\",\n    \"generateXML\": false,\n    \"generatePDF\": false,\n    \"generateAO\": false,\n    \"includeRatedTransactions\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoice/{{request.label.0}}",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoice",
										"{{request.label.0}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests different invoice types",
					"item": [
						{
							"name": "script|invoicing.SplitInvoice|Splits invoice by RT.parameter2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "945ec265-0b13-40a6-8525-d958a7018cc3",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.invoicing;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.model.payments.PaymentMethod;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.lang.String;\r\nimport java.util.Arrays;\r\nimport java.math.BigInteger;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.apache.commons.collections4.MapUtils;\r\nimport org.meveo.commons.utils.StringUtils;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.admin.util.pagination.PaginationConfiguration;\r\n\r\nimport org.meveo.model.admin.Seller;\r\nimport org.meveo.model.billing.BillingRun;\r\nimport org.meveo.model.billing.BillingAccount;\r\nimport org.meveo.model.billing.RatedTransaction;\r\nimport org.meveo.model.billing.InvoiceType;\r\nimport org.meveo.model.billing.RatedTransactionGroup;\r\nimport org.meveo.model.billing.BillingCycle;\r\n\r\nimport org.meveo.service.admin.impl.SellerService;\r\nimport org.meveo.service.billing.impl.BillingAccountService;\r\nimport org.meveo.service.billing.impl.InvoiceTypeService;\r\n\r\n/**\r\n * Dispatch RTs per invoicingGroup on RT.parameter2\r\n * A different invoice will be produced for each value of RT.parameter2\r\n * @author schambrin\r\n */\r\npublic class SplitInvoice extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SplitInvoice.class);\r\n\r\n    SellerService sellerService = (SellerService)getServiceInterface(\"SellerService\");\r\n    BillingAccountService billingAccountService = (BillingAccountService)getServiceInterface(\"BillingAccountService\");\r\n    InvoiceTypeService invoiceTypeService = (InvoiceTypeService)getServiceInterface(\"InvoiceTypeService\");\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.trace(\"EXECUTE context {}\", context);\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n\r\n        InvoiceType defaultInvoiceType = (InvoiceType) context.get(\"invoiceType\");\r\n        PaymentMethod paymentMethod = (PaymentMethod) context.get(\"paymentMethod\");\r\n        BillingAccount billingAccount = billingAccountService.refreshOrRetrieve((BillingAccount) context.get(\"CONTEXT_ENTITY\"));\r\n        BillingRun billingRun = (BillingRun) context.get(\"br\");\r\n        Seller seller = sellerService.findByCode(\"MAIN_SELLER\");\r\n        BillingCycle billingCycle = billingAccount.getBillingCycle();\r\n\r\n        List<RatedTransaction> allRT = (List<RatedTransaction>) context.get(\"ratedTransactions\");\r\n        Map<String,RatedTransactionGroup> invoices = new HashMap<String,RatedTransactionGroup>();\r\n\r\n        // Dispatch RTs\r\n        allRT.stream().forEach(rt->{\r\n            String invoiceTypeCode = rt.getParameter2();\r\n            InvoiceType invoiceType = invoiceTypeService.findByCode(invoiceTypeCode);\r\n\r\n            if( invoiceType == null ){\r\n                invoiceType = defaultInvoiceType;\r\n                invoiceTypeCode = invoiceType.getCode();\r\n            }\r\n\r\n            // Add new invoicingGroup if missing\r\n            if( !invoices.containsKey(invoiceTypeCode) ) {\r\n                invoices.put(\r\n                    invoiceTypeCode,\r\n                    new RatedTransactionGroup(billingAccount, seller, billingCycle, invoiceType, false/*prepaid*/,invoiceTypeCode,paymentMethod)\r\n                );\r\n            }\r\n\r\n            invoices.get(invoiceTypeCode).getRatedTransactions().add(rt);\r\n        });\r\n\r\n        invoices.entrySet().stream().forEach(invoice->{\r\n            log.info(\"BillingAccount[{}], InvoiceType[{}] => {} RTs\", invoice.getValue().getBillingAccount().getCode(), invoice.getKey(), invoice.getValue().getRatedTransactions().size());\r\n        });\r\n\r\n        // Returns the list to the invoicing process\r\n        context.put(Script.RESULT_VALUE, new ArrayList(invoices.values()));\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
								},
								"url": {
									"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"scriptInstance",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=1|p2=COM|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b1961141-9470-4320-b1f8-63dcf07a351a",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=10|p2=ADJ|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "05c6de82-5bc9-416c-9404-e44835d0fba8",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=2|p2=COM|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cc34ee0c-c847-41f0-849a-e77278f0c5d5",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=100|p2=QUOTE|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "24dfa2cb-1aaf-4976-803f-c6879cd79d6b",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=20|p2=ADJ|isVirtual=false",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "94f66855-5df4-4948-8724-76f381eba518",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "generateInvoice|target=BillingAccount|code={{account.code}}|now",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7e576c2f-4ddf-4e09-b90e-f64989e3ed96",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											"tests[\"3 invoices\"] = jsonData.generateInvoiceResultDto.length == 3;",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"targetCode\": \"{{code}}\",\n    \"targetType\": \"{{target}}\",\n    \"invoicingDate\": \"{{$timestamp}}000\",\n    \"firstTransactionDate\": null,\n    \"lastTransactionDate\": \"2100-01-01\",\n    \"generateXML\": false,\n    \"generatePDF\": false,\n    \"generateAO\": false,\n    \"includeRatedTransactions\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoice/{{request.label.0}}",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoice",
										"{{request.label.0}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests different invoice without script",
					"item": [
						{
							"name": "bc|code=CYC_INV_MT_1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "23075022-82f9-4f64-83ca-0b85dc1bf96f",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"Monthly 1st\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"1\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"MONTHLY\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billingCycle",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d16969f6-6b73-47e3-a0cd-fedd3d60d806",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=10",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "567be4e9-3d17-42ed-a68f-d3d840c747d9",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "721f6b10-5846-48de-9567-235dc55d0cce",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=100",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1e6c75de-14ec-4fd3-9d44-d1f44db536e8",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "chargeCDR|p1=UNIT|qtt=20",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6804858d-d172-4982-a3ca-57561ee54203",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "generateInvoice|target=BillingAccount|code={{account.code}}|now",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1719235e-e084-4b4b-9bc1-eeff435391f6",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											"tests[\"1 invoices\"] = jsonData.generateInvoiceResultDto.length == 1;",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"targetCode\": \"{{code}}\",\n    \"targetType\": \"{{target}}\",\n    \"invoicingDate\": \"{{$timestamp}}000\",\n    \"firstTransactionDate\": null,\n    \"lastTransactionDate\": \"2100-01-01\",\n    \"generateXML\": false,\n    \"generatePDF\": false,\n    \"generateAO\": false,\n    \"includeRatedTransactions\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoice/{{request.label.0}}",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoice",
										"{{request.label.0}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a0c807e1-4ae8-4081-bf79-6eeaaa78bbfd",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e9611228-6175-4da5-8f57-da80fd417ab3",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"auth": {
				"type": "oauth2",
				"oauth2": [
					{
						"key": "accessToken",
						"value": "{{access_token}}",
						"type": "string"
					},
					{
						"key": "addTokenTo",
						"value": "header",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "186bdd66-b389-4cae-bcb7-0bb144f4ee1c",
						"type": "text/javascript",
						"exec": [
							"var now=new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"",
							"    if(parts[i].indexOf(\"=\") != -1 ){",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							"// Token auth",
							"var token = pm.variables.get(\"access_token\");",
							"console.log(\"token=\"+token);",
							"",
							"if(!token || token === \"\" ) {",
							"    console.log(\"token is not defined\");",
							"    // Set some environment variables to use in the access token request. ",
							"    var client_id = pm.environment.get(\"client.id\") || \"opencell-web\";",
							"    var client_secret = pm.environment.get(\"client.secret\") || \"afe07e5a-68cb-4fb0-8b75-5b6053b07dc3\";",
							"    var opencell_url = pm.environment.get(\"opencell.url\") ;",
							"    var username = pm.environment.get(\"opencell.username\") || \"opencell.admin\";",
							"    var password = pm.environment.get(\"opencell.password\") || \"opencell.admin\";",
							"    var CryptoJS = require(\"crypto-js\")",
							"    // Encrypt the Client ID and Secret in base64 ",
							"    var rawStr = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret)",
							"    var client_cred = CryptoJS.enc.Base64.stringify(rawStr)",
							"    // Now let's get a new oauth2 access_token and set it in a variable ",
							"    pm.sendRequest(",
							"        { ",
							"            url: opencell_url + '/auth/realms/opencell/protocol/openid-connect/token', ",
							"            method: 'POST', ",
							"            header: ",
							"            { ",
							"                //'Authorization': 'Basic ' + client_cred, ",
							"                'Cache-Control': 'no-cache', ",
							"                'Content-Type': 'application/x-www-form-urlencoded' ",
							"            }, body: ",
							"            { ",
							"                mode: 'urlencoded', ",
							"                urlencoded: ",
							"                [",
							"                    { ",
							"                        key: \"client_id\", ",
							"                        value: client_id ",
							"                    }, ",
							"                    { ",
							"                        key: \"username\", ",
							"                        value: username ",
							"                    },",
							"                    { ",
							"                        key: \"password\", ",
							"                        value: password ",
							"                    },",
							"                    { ",
							"                        key: \"grant_type\", ",
							"                        value: \"password\" ",
							"                    },",
							"                    { ",
							"                        key: \"client_secret\", ",
							"                        value: client_secret",
							"                    },",
							"                ] ",
							"            } ",
							"        }, ",
							"        function (err, response) { ",
							"            //console.log(\"AUTH_RETURN_CODE\", err);",
							"            //console.log(\"AUTH_RESPONSE\", response);",
							"            const jsonResponse = response.json();",
							"            console.log(\"Saving token to variables\")",
							"            pm.variables.set(\"access_token\", jsonResponse.access_token); ",
							"        }",
							"        );",
							"} else{",
							"    console.log(\"token already exists\");",
							"}",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8e1232d2-598f-4ca5-8b9f-b4a6e30702e2",
						"type": "text/javascript",
						"exec": [
							"var wait=pm.variables.get(\"wait\");",
							"",
							"if( wait > 0 ) {",
							"    console.log(\"Waiting for \"+pm.variables.get(\"request.label.0\")+\" for \"+wait+\" seconds...\");",
							"    setTimeout(function(){}, wait*1000);",
							"}",
							"",
							"if( pm.response.code == 401 ) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \"+pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"}"
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5253 - Could not rate a delayed EDR on a terminated subscription",
			"item": [
				{
					"name": "Create a hierarchy ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ec19a1e-f691-47e1-ba18-98aa569dfcc6",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n            \"sellers\": {\r\n               \"seller\": [{\r\n                  \"code\": \"Reseller12\",\r\n                  \"currencyCode\": \"EUR\",\r\n                  \"countryCode\": \"FR\",\r\n                  \"languageCode\": \"FRA\",\r\n                  \"customers\": {\r\n                     \"customer\":[ {\r\n                        \"code\": \"test\",\r\n                        \"description\": \"test2\",\r\n                        \"name\": {\r\n                           \"title\": \"MR\",\r\n                           \"firstName\": \"Maria\",\r\n                           \"lastName\": \"AB\"\r\n                        },\r\n                        \"address\": {\r\n                           \"address1\": \"rue De Versailles\",\r\n                           \"address2\": \"Zac De Valmy\",\r\n                           \"address3\": \"address3\",\r\n                           \"zipCode\": \"59650\",\r\n                           \"city\": \"Villeneuve d'ascq\",\r\n                           \"country\": \"France\"\r\n                        },\r\n                        \"customerCategory\": \"CLIENT\",\r\n                    \"customerBrand\": \"CLASSIC\",\r\n                        \"customerAccounts\": {\r\n                        \t\"customerAccount\": [\r\n                           {\r\n                              \"code\": \"Maria.ab\",\r\n                              \"description\": \"Maria AB\",\r\n                              \"name\": {\r\n                                 \"title\": \"MR\",\r\n                                 \"firstName\": \"Maria\",\r\n                                 \"lastName\": \"AB\"\r\n                              },\r\n                              \"address\": {\r\n                                 \"address1\": \"rue De Versailles\",\r\n                                 \"address2\": \"Zac De Valmy\",\r\n                                 \"address3\": \"address3\",\r\n                                 \"zipCode\": \"59650\",\r\n                                 \"city\": \"Villeneuve d'ascq\",\r\n                                 \"country\": \"France\"\r\n                              },\r\n                              \"currency\": \"EUR\",\r\n                              \"language\": \"FRA\",\r\n                             \r\n                                 \"methodOfPayment\": [{\r\n                                    \"paymentMethodType\": \"WIRETRANSFER\"\r\n                                 \r\n                              }],\r\n                              \"billingAccounts\": {\r\n                                 \"billingAccount\": [\r\n                                 \t{\r\n                                    \"code\": \"Maria.AB\",\r\n                                    \"description\": \"Maria AB\",\r\n                                    \"name\": {\r\n                                       \"title\": \"MR\",\r\n                                       \"firstName\": \"Maria\",\r\n                                       \"lastName\": \"AB\"\r\n                                    },\r\n                                    \"address\": {\r\n                                       \"address1\": \"rue De Versailles\",\r\n                                       \"address2\": \"Zac De Valmy\",\r\n                                       \"address3\": \"address3\",\r\n                                       \"zipCode\": \"59650\",\r\n                                       \"city\": \"Villeneuve d'ascq\",\r\n                                       \"country\": \"France\"\r\n                                    },\r\n                                    \"billingCycle\": \"CYC_INV_MT_1\",\r\n                                    \"country\": \"FR\",\r\n                                    \"language\": \"FRA\",\r\n                                    \"electronicBilling\": \"true\",\r\n                                    \"email\": \"maria.ab@opencellsoft.com\",\r\n                                    \"userAccounts\": {\r\n                                       \"userAccount\": [ {\r\n                                          \"code\": \"maria.ab\",\r\n                                          \"description\": \"Maria AB\",\r\n                                          \"name\": {\r\n                                             \"title\": \"Ms\",\r\n                                             \"firstName\": \"Maria\",\r\n                                             \"lastName\": \"AB\"\r\n                                          },\r\n                                          \"address\": {\r\n                                             \"address1\": \"rue De Versailles\",\r\n                                             \"address2\": \"Zac De Valmy\",\r\n                                             \"address3\": \"address3\",\r\n                                             \"zipCode\": \"59650\",\r\n                                             \"city\": \"Villeneuve d'ascq\"\r\n                                          \r\n                                          }\r\n                           \r\n                                       \r\n                                 }  ]}\r\n\r\n}]\r\n}\r\n}]\r\n}\r\n}\r\n]\r\n}\r\n}\r\n]\r\n}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/account/accountHierarchy/customerHierarchyUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"account",
								"accountHierarchy",
								"customerHierarchyUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create subscription and activate services (USG)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2349de0b-392d-490c-8882-d7aa030bc42f",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "\r\n    {\r\n     \"code\":\"SUB1\",\r\n    \"userAccount\": \"maria.ab\",\r\n    \"offerTemplate\":\"OF_CLASSIC_TEMPLATE\",\r\n    \"subscriptionDate\":\"2019-02-27T22:00:00Z\",\r\n    \"servicesToActivate\": {\r\n        \"service\": [\r\n                {\r\n                    \"code\": \"SE_CLASSIC_OSS_UNIT\",\r\n                    \"subscriptionDate\": \"2019-02-27T22:00:00Z\",\r\n                    \"quantity\":1\r\n                },\r\n                  {\r\n                    \"code\": \"SE_CLASSIC_USG_UNIT\",\r\n                    \"subscriptionDate\": \"2019-02-27T22:00:00Z\",\r\n                    \"quantity\":1\r\n                }\r\n        ]\r\n       \r\n       \r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/subscribeAndActivateServices",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"subscribeAndActivateServices"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an access point",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "305baf3a-b9c9-42ed-9a14-caea3ac11a3d",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"code\" : \"A1\",\r\n  \"subscription\" : \"SUB1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/account/access/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"account",
								"access",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mediation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "27168530-c35b-4980-8da5-66f8295d1ebd",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "2019-03-01T17:00:00.000Z;100;A1;UNIT",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/mediation/chargeCdr",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"mediation",
								"chargeCdr"
							]
						}
					},
					"response": []
				},
				{
					"name": "Terminate Subscription",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7a313aa6-1cde-43f5-8ff5-a223da72676a",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subscriptionCode\": \"SUB1\",\r\n    \"terminationReason\" : \"TERM_REASON_1\",\r\n    \"terminationDate\": \"2019-06-01\",\r\n    \"orderItemAction\" : \"DELETE\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/subscription/terminate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"subscription",
								"terminate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mediation:  date usage < date of termination",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3263bf24-81ba-4e47-98c9-6d5c3ad5c00f",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "2019-03-01T17:00:00.000Z;100;A1;UNIT",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/mediation/chargeCdr",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"mediation",
								"chargeCdr"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mediation:  date usage > date of termination Copy KO",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2ee465ab-a8ec-4107-9757-d327b89e22d4",
								"exec": [
									"\r",
									"pm.test(\"Status code is 500\", function () {\r",
									"    pm.response.to.have.status(500);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(request.name + \" - Check Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"FAIL\");\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check ErrorCode\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql();\r",
									"});\r",
									"\r",
									"pm.test(request.name + \" - Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"INVALID_ACCESS\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "2019-09-01T17:00:00.000Z;100;A1;UNIT",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/billing/mediation/chargeCdr",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"billing",
								"mediation",
								"chargeCdr"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5284 - [WF] A workflow is applied to CE not related to it",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Settings",
							"item": [
								{
									"name": "Provider/Seller/Account",
									"item": [
										{
											"name": "Update Provider",
											"request": {
												"method": "POST",
												"header": [
													{
														"value": "application/json",
														"key": "Content-Type"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{provider.code}}\",\n    \"description\": \"{{template.label}}\",\n    \"enterprise\": \"true\",\n    \"rounding\": 6,\n    \"roundingMode\": \"NEAREST\",\n    \"invoiceRounding\": 2,\n    \"invoiceRoundingMode\": \"NEAREST\",\n    \"invoiceConfiguration\": {\n        \"displaySubscriptions\": \"true\",\n        \"displayServices\": \"true\",\n        \"displayOffers\": \"true\",\n        \"displayEdrs\": \"true\",\n        \"displayProvider\": \"true\",\n        \"displayCfAsXML\": \"true\",\n        \"displayPricePlans\": \"true\",\n        \"displayDetail\": \"true\",\n        \"displayChargesPeriods\": \"true\",\n        \"displayFreeTransacInInvoice\": \"true\",\n        \"displayBillingCycle\": \"true\",\n        \"displayOrders\": \"true\"\n    }\n}",
													"options": {
														"raw": {}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/provider/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CF_PROV_PROJECT_VERSION",
											"event": [
												{
													"script": {
														"type": "text/javascript",
														"id": "06a44635-5536-46d7-8262-a999345bf4f4",
														"exec": [
															""
														]
													},
													"listen": "prerequest"
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"value": "application/json",
														"key": "Content-Type"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label}}_{{$timestamp}}\",\r\n    \"description\": \"{{project.code}} {{project.type}} {{project.version}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"Provider\",\r\n    \"defaultValue\": \"{{timestamp.iso}}\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false,\r\n    \"guiPosition\": \"tab:Project versions:999\"\r\n}\r\n",
													"options": {
														"raw": {}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "S|MAIN_SELLER|Opencell",
											"request": {
												"method": "POST",
												"header": [
													{
														"value": "application/json",
														"key": "Content-Type"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\t\"code\" : \"{{request.label.1}}\",\r\n\t\"description\" : \"{{request.label.2}}\",\r\n    \"currencyCode\": \"EUR\",\r\n    \"countryCode\": \"FR\",\r\n    \"languageCode\": \"ENG\",\r\n    \"address\": {\r\n        \"address1\": \"14 rue Crespin du Gast\",\r\n        \"address2\": \"Esc. A\",\r\n        \"address3\": null,\r\n        \"zipCode\": \"75011\",\r\n        \"city\": \"PARIS\",\r\n        \"country\": \"FR\",\r\n        \"state\": null\r\n    },\r\n    \"contactInformation\": {\r\n        \"email\": \"billing@opencellsoft.com\",\r\n        \"phone\": \"0123456789\",\r\n        \"mobile\": \"0678912345\",\r\n        \"fax\": null\r\n    }\r\n}",
													"options": {
														"raw": {}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/seller/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"seller",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"script": {
												"type": "text/javascript",
												"id": "3b9dee5d-5e31-4166-af08-d035d323ae34",
												"exec": [
													""
												]
											},
											"listen": "prerequest"
										},
										{
											"script": {
												"type": "text/javascript",
												"id": "0871d886-8d2e-40a8-99b3-bbd95870c1ba",
												"exec": [
													""
												]
											},
											"listen": "test"
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Taxes",
									"item": [
										{
											"name": "Tax rates",
											"item": [
												{
													"name": "tax|code=TAX_20|desc=VAT 20%|percentage=20|accCode=445710000",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "602834cc-d999-4991-a28a-1e370d2ad986",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=TAX_10|desc=VAT 10%|percentage=10|accCode=445710000",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "e1431029-9275-45a9-b40c-92e20d598e91",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														},
														"description": "Taux  16% pour la Polynsie Franaise (taux nominal)"
													},
													"response": []
												},
												{
													"name": "tax|code=NO_TAX|desc=No tax|percentage=0|accCode=445710000",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "588af4df-9318-4270-bea1-1293e71a39cf",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														},
														"description": "Permettra d'identifier qu'il faut enlever les lignes de taxe (diffrent d'une ligne avec Taxe  0)"
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax categories (account)",
											"item": [
												{
													"name": "taxCat|code=STANDARD|desc=Standard accounts",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "0546eab5-2bf4-487f-a892-e1ea6f2f50b0",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxCat|code=NO_TAX|desc=Exempted accounts",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "053a7b93-cb12-4fad-bada-936fe6eba1ba",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax classes (charge)",
											"item": [
												{
													"name": "taxClass|code=REGULAR|desc=Regular products",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "2bbaf9a4-ea8b-4631-b726-ad7dd477a3f0",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=REDUCED|desc=Products with reduced tax",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "4d2bca21-5e72-49f6-abb6-a0a8c1d248ac",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=NO_TAX|desc=Products with no VAT",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "8e338207-7379-448a-b8a9-27042a77b42e",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax mapping",
											"item": [
												{
													"name": "taxMapping|priority=100|taxCat=NO_TAX|taxClass=|buyer=|tax=NO_TAX",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "bd43dbfe-988f-4b62-b28b-b95925368486",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=20|taxCat=STANDARD|taxClass=NO_TAX|buyer=|tax=NO_TAX",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "8d9468c9-3d88-450c-8583-8817050faf0b",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=1|taxCat=STANDARD|taxClass=REGULAR|buyer=|tax=TAX_20",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "7be1620f-6e44-4e57-9e13-81d309b3d8ef",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=2|taxCat=STANDARD|taxClass=REDUCED|buyer=|tax=TAX_10",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "9c016612-0b1c-4943-978e-64edf17668e6",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=10|taxCat=STANDARD|taxClass=REGULAR|buyer=US|tax=TAX_10",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "d67e0e74-4bf1-4f78-abdc-2aea7ae0b9d4",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Account",
									"item": [
										{
											"name": "custCat|code=CLIENT|taxCat=STANDARD",
											"request": {
												"method": "POST",
												"header": [
													{
														"value": "application/json",
														"key": "Content-Type"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"Client\",\r\n    \"taxCategoryCode\": \"STANDARD\"\r\n}\r\n",
													"options": {
														"raw": {}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/account/customer/createOrUpdateCategory",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"customer",
														"createOrUpdateCategory"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Catalog",
							"item": [
								{
									"name": "script|rating.LogWalletOperation|Logs the WalletOperation",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3a090ad4-6a17-4b63-b8f4-f7c42b8757e6",
												"exec": [
													"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"value": "application/xml",
												"type": "text",
												"name": "Content-Type",
												"key": "Content-Type"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.dto.billing.WalletOperationDto;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * Logs the WalletOperation\r\n * @author schambrin\r\n */\r\npublic class LogWalletOperation extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogWalletOperation.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"wo={}\",new WalletOperationDto(wo));\r\n        \tlog.info(\"wo.tax={}\", wo.getTax());\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"scriptInstance",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "counter|code=CN_USG_ACCUM_C|type=USAGE|target=CUST|calendar=MONTHLY|desc=Accumulates quantities on the Customer",
									"request": {
										"method": "POST",
										"header": [
											{
												"value": "application/json",
												"key": "Content-Type"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"counterTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "counter|CN_USG_COUNTER|Counter",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"code\" : \"{{request.label.1}}\",\r\n  \"description\" : \"{{request.label.2}}\",\r\n  \"calendar\": \"MONTHLY\",\r\n  \"unity\": null,\r\n  \"type\": \"USAGE\",\r\n  \"ceiling\": 100,\r\n  \"disabled\": false,\r\n  \"counterLevel\": \"SI\",\r\n  \"ceilingExpressionEl\": null\r\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"counterTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "charge|CH_USG_UNIT|Charge unit",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{request.label.2}}\",\n    \"invoiceSubCategory\": \"CMP_DATA\",\n    \"taxClassCode\": \"REDUCED\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"UNIT\",\n    \"priority\": 10,\n    \"triggerNextCharge\": false\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"usageChargeTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "pp|code=PP_USG_UNIT|charge=CH_USG_UNIT",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"eventCode\": \"{{charge}}\",\n    \"amountWithoutTax\": 1,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": null,\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"pricePlan",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "se|code=SE_USG_UNIT|desc=Unit usage service",
									"event": [
										{
											"script": {
												"id": "b6638f5c-3f39-45cd-a59f-3a6b3ca55ea6",
												"exec": [
													""
												],
												"type": "text/javascript"
											},
											"listen": "prerequest"
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"value": "application/json",
												"key": "Content-Type"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": []\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_UNIT\",\n                \"wallets\": null,\n                \"counterTemplate\": null,\n                \"accumulatorCounterTemplates\": {\n                \t\"counterTemplate\": [\n                \t\t\"CN_USG_ACCUM_C\"\n                \t]\n                }\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"serviceTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "of|code=OF",
									"request": {
										"method": "POST",
										"header": [
											{
												"value": "application/json",
												"key": "Content-Type"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{template.label}} offer {{$timestamp}}\",\n    \"disabled\": false,\n    \"lifeCycleStatus\": \"ACTIVE\",\n    \"bomCode\": null,\n    \"offerTemplateCategoryCode\": null,\n    \"offerServiceTemplate\": [\n        {\n            \"serviceTemplate\": {\n                \"code\": \"SE_USG_UNIT\",\n                \"customFields\": null\n            },\n            \"mandatory\": false,\n            \"incompatibleServiceTemplate\": []\n        }\n    ],\n    \"customFields\": null\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"catalog",
												"offerTemplate",
												"createOrUpdate"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Account",
					"item": [
						{
							"name": "C|Jean|Bonnot",
							"event": [
								{
									"script": {
										"id": "1bcd5ff8-3b33-4fd3-95b7-50cd2825f09d",
										"exec": [
											"var parts = pm.variables.get(\"request.label\").split(\"|\");",
											"var index = pm.globals.get(\"index\");",
											"",
											"if (typeof index === 'undefined') {",
											"    console.log(\"index global variable is undefined -> setting to \\\"00\\\"\");",
											"    pm.globals.set(\"index\", \"00\");",
											"    index = \"00\";",
											"}",
											"",
											"var prefix = pm.variables.get(\"template.code\") + \"-\";",
											"var suffix = \" \" + prefix + index;",
											"",
											"switch (parts.length) {",
											"    case 1:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[0] + suffix);",
											"        pm.globals.set(\"account.firstname\", \"\");",
											"        pm.globals.set(\"account.lastname\", \"\");",
											"        break;",
											"    case 2:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + suffix);",
											"        pm.globals.set(\"account.firstname\", \"\");",
											"        pm.globals.set(\"account.lastname\", \"\");",
											"        break;",
											"    case 3:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + \" \" + parts[2] + suffix);",
											"        pm.globals.set(\"account.firstname\", parts[1]);",
											"        pm.globals.set(\"account.lastname\", parts[2]);",
											"        break;",
											"    case 4:",
											"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
											"        pm.globals.set(\"account.description\", parts[1] + suffix);",
											"        pm.globals.set(\"account.firstname\", parts[2]);",
											"        pm.globals.set(\"account.lastname\", parts[3]);",
											"        break;",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									},
									"listen": "prerequest"
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"value": "application/json",
										"key": "Content-Type"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"crmAccountType\" : \"C_UA\",\r\n  \"crmParentCode\" : \"{{seller.code}}\",\r\n  \"code\" : \"{{account.code}}\",\r\n  \"description\": \"{{account.description}}\",\r\n  \"name\" : {\r\n    \"title\" : \"MR\",\r\n    \"firstName\" : \"{{account.firstname}}\",\r\n    \"lastName\" : \"{{account.lastname}}\"\r\n  },\r\n  \"subscriptionDate\": \"2018-01-10\",\r\n  \"jobTitle\": \"Ruler of the known Universe\",\r\n  \"vatNo\": \"FR12345678901234\",\r\n  \"registrationNo\": \"12354678901234\",\r\n  \"address\" : {\r\n    \"address1\" : \"3 rue passante\",\r\n    \"address2\" : \"Btiment A\",\r\n    \"address3\" : \"Bureau D42\",\r\n    \"zipCode\" : \"99999\",\r\n    \"city\" : \"METROVILLE\",\r\n    \"country\" : \"FR\"\r\n  },\r\n  \"contactInformation\" : {\r\n    \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n    \"mobile\" : \"+33123546789\",\r\n    \"phone\":\"+33123546789\"\r\n  },\r\n  \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n  \"language\" : \"FRA\",\r\n  \"paymentMethod\" : \"CHECK\",\r\n  \"customerCategory\" : \"CLIENT\",\r\n  \"currency\" : \"EUR\",\r\n  \"billingCycle\" : \"CYC_INV_MT_1\",\r\n  \"country\" : \"FR\",\r\n  \"electronicBilling\" : \"true\",\r\n  \"customFields\": null\r\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdateCRMAccountHierarchy",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdateCRMAccountHierarchy"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "workflow",
					"item": [
						{
							"name": "CE",
							"item": [
								{
									"name": "CE CE_TEST_1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "536ae242-1272-4515-9f3b-5f6234f83202",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n     \"code\": \"CE_TEST_1\",\r\n        \"description\": \"Entit personnalis TEST\",\r\n        \"disabled\": false,\r\n        \"name\": \" TEST_1\",\r\n        \"field\": [\r\n            {\r\n                \"code\": \"test1\",\r\n                \"description\": \"Description\",\r\n                \"disabled\": false,\r\n                \"fieldType\": \"STRING\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": false,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"maxValue\": 100,\r\n                \"indexType\": \"STORE_ONLY\"\r\n            },\r\n\t\t\t {\r\n              \r\n                \"code\": \"test2\",\r\n                \"description\": \"Destinataire\",\r\n                \"disabled\": false,\r\n                \"fieldType\": \"STRING\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": true,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"maxValue\": 50,\r\n                \"indexType\": \"INDEX\"\r\n            },\r\n            {\r\n                \"code\": \"test3\",\r\n                \"description\": \"Rinitailiser les Nb d'essai\",\r\n                \"disabled\": false,\r\n                \"languageDescriptions\": [],\r\n                \"fieldType\": \"BOOLEAN\",\r\n                \"accountLevel\": \"CE_CE_TICKET_ZENDESK\",\r\n                \"appliesTo\": \"CE_CE_TICKET_ZENDESK\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": false,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"defaultValue\": true,\r\n                \"indexType\": \"STORE_ONLY\"\r\n            }\r\n           \r\n        ],\r\n        \"action\": []\r\n    }",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/entityCustomization/entity/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"entityCustomization",
												"entity",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "FILL|CE_TEST_1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "df67dffe-51fb-42e1-95e1-2bc4aabf5591",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"cetCode\": \"CE_TEST_1\",\n    \"code\":\"test_1\",\n    \"description\":\"Test 1\",\n    \"customFields\": {\n    \t\"customField\":[\n        {\n                \"code\": \"test1\",\n                \"description\":\"description\",\n                \"stringValue\": \"Bonjour, Un ticket de teste \"\n             \n        },{\n                \"code\": \"test2\",\n                \"stringValue\": \"4\"\n             \n        },{\n                \"code\": \"test3\",\n                \"stringValue\": \"Subject\"\n             \n        }\n        \n    ]\n}\n}\n",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/customEntityInstance/{{request.label.1}}/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"customEntityInstance",
												"{{request.label.1}}",
												"createOrUpdate"
											]
										},
										"description": "Injection des codes articles dans la base"
									},
									"response": []
								},
								{
									"name": "CE CE_TEST_2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "35c4f162-45a8-4319-a35c-26042a2e14e6",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n     \"code\": \"CE_TEST_2\",\r\n        \"description\": \"Entit personnalis TEST\",\r\n        \"disabled\": false,\r\n        \"name\": \" TEST_2\",\r\n        \"field\": [\r\n            {\r\n                \"code\": \"test1\",\r\n                \"description\": \"Description\",\r\n                \"disabled\": false,\r\n                \"fieldType\": \"STRING\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": false,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"maxValue\": 100,\r\n                \"indexType\": \"STORE_ONLY\"\r\n            },\r\n\t\t\t {\r\n              \r\n                \"code\": \"test2\",\r\n                \"description\": \"Destinataire\",\r\n                \"disabled\": false,\r\n                \"fieldType\": \"STRING\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": true,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"maxValue\": 50,\r\n                \"indexType\": \"INDEX\"\r\n            },\r\n            {\r\n                \"code\": \"test3\",\r\n                \"description\": \"Rinitailiser les Nb d'essai\",\r\n                \"disabled\": false,\r\n                \"languageDescriptions\": [],\r\n                \"fieldType\": \"BOOLEAN\",\r\n                \"accountLevel\": \"CE_CE_TICKET_ZENDESK\",\r\n                \"appliesTo\": \"CE_CE_TICKET_ZENDESK\",\r\n                \"useInheritedAsDefaultValue\": false,\r\n                \"storageType\": \"SINGLE\",\r\n                \"valueRequired\": false,\r\n                \"uniqueConstraint\": false,\r\n                \"versionable\": false,\r\n                \"triggerEndPeriodEvent\": false,\r\n                \"allowEdit\": true,\r\n                \"hideOnNew\": false,\r\n                \"defaultValue\": true,\r\n                \"indexType\": \"STORE_ONLY\"\r\n            }\r\n           \r\n        ],\r\n        \"action\": []\r\n    }",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/entityCustomization/entity/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"entityCustomization",
												"entity",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "FILL|CE_TEST_2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6b72619d-0bab-454e-a5bf-306cdd0ddad8",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"cetCode\": \"CE_TEST_2\",\n    \"code\":\"test_2\",\n    \"description\":\"Test 2\",\n    \"customFields\": {\n    \t\"customField\":[\n        {\n                \"code\": \"test1\",\n                \"description\":\"description\",\n                \"stringValue\": \"Bonjour, Un ticket de teste \"\n             \n        },{\n                \"code\": \"test2\",\n                \"stringValue\": \"4\"\n             \n        },{\n                \"code\": \"test3\",\n                \"stringValue\": \"Subject\"\n             \n        }\n        \n    ]\n}\n}\n",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/customEntityInstance/{{request.label.1}}/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"customEntityInstance",
												"{{request.label.1}}",
												"createOrUpdate"
											]
										},
										"description": "Injection des codes articles dans la base"
									},
									"response": []
								},
								{
									"name": "Create Workflow|WF_TEST_1",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"targetEntityClass\": \"org.meveo.model.customEntities.CustomEntityInstance\",\r\n    \"targetCetCode\": \"CE_TEST_1\",\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"workflow Customer TEST 1\",\r\n    \"status\": [ \r\n    \t{ \"code\": \"A\", \"description\": \"A\" },\r\n    \t{ \"code\": \"B\", \"description\": \"B\" },\r\n    \t{ \"code\": \"C\", \"description\": \"C\" },\r\n    \t{ \"code\": \"D\", \"description\": \"D\" },\r\n    \t{ \"code\": \"E\", \"description\": \"E\" },\r\n    \t{ \"code\": \"F\", \"description\": \"F\" },\r\n    \t{ \"code\": \"G\", \"description\": \"G\" },\r\n    \t{ \"code\": \"H\", \"description\": \"H\" }\r\n    ],\r\n    \"initStatus\": \"A\",\r\n    \"transition\": [\r\n    \t\t{ \"fromStatus\": \"A\", \"toStatus\": \"B\", \"description\": \"T1\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\"},\r\n    \t\t{ \"fromStatus\": \"B\", \"toStatus\": \"C\", \"description\": \"T2\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"C\", \"toStatus\": \"D\", \"description\": \"T3\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"D\", \"toStatus\": \"E\", \"description\": \"T4\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"E\", \"toStatus\": \"F\", \"description\": \"T5\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" }\r\n    \t\r\n    \t\t\r\n    \r\n    \r\n    \r\n    ]\r\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Workflow Job|WF_TEST_1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4845d9f5-a550-4a69-b3d6-64d3573be421",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"active\": \"false\",\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Customer Workflow Job\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            {\r\n                \"code\": \"gwfJob_generic_wf\",\r\n                \"entityReferenceValue\": { \"code\" : \"{{request.label.1}}\", \"classname\": \"org.meveo.model.generic.wf.GenericWorkflow\" }\r\n            }\r\n        ]\r\n    },\r\n    \"timerCode\": \"Daily-midnight\",\r\n    \"jobCategory\": \"MISC\",\r\n    \"jobTemplate\": \"GenericWorkflowJob\"\r\n    \r\n}\r\n",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/jobInstance/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"jobInstance",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Run Job|WF_TEST_1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "103fcd25-53ef-4638-804c-089aebcb7da8",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"",
													"postman.setGlobalVariable(\"jobRun.id\", jsonData.actionStatus.message);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d194e06d-c738-4fa8-a090-f15648a5f241",
												"exec": [
													"pm.globals.set(\"task.code\", pm.variables.get(\"request.label.1\"));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"code\":\"{{request.label.1}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/job/execute",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"execute"
											]
										}
									},
									"response": []
								},
								{
									"name": "Job Report|WF_TEST_1|wait=5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "63c56e9c-33e8-4661-8e48-c0de0cbc1fb7",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"var task=pm.variables.get(\"task.code\");",
													"",
													"if( typeof jsonData.jobExecutionResultDto.endDate !== \"undefined\" && jsonData.jobExecutionResultDto.done === true ){",
													"    tests[\"is.done.\"+task] = true;",
													"    tests[\"is.jobNoWarning\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithWarning === 0;",
													"    tests[\"is.jobNoError\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithError === 0;",
													"    if( ! (tests[\"is.jobNoWarning\"] && tests[\"is.jobNoError\"]) ){",
													"        console.log(\"Errors have occured, check job \"+task+\" report.\");",
													"    }",
													"} else {",
													"    postman.setNextRequest(pm.variables.get(\"task.wait\"));",
													"    tests[\"is.not.done.yet.\"+task] = true;",
													"    console.log(\"Not done yet (\"+task+\").\");",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "99595c3b-42bd-4915-857d-e9c4cb147b85",
												"exec": [
													"pm.globals.set(\"task.wait\", pm.variables.get(\"request.label\"));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"url": {
											"raw": "{{opencell.url}}/job/jobReport?id={{jobRun.id}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"jobReport"
											],
											"query": [
												{
													"key": "id",
													"value": "{{jobRun.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "find History Workflow|WF_TEST_1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "68eca24a-de41-43d9-ac94-be9894ae486c",
												"exec": [
													"\r",
													"pm.test(\"check workflow\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.workflowHistory[0].transitionName).to.eql(\"T1\");\r",
													"    pm.expect(jsonData.workflowHistory[1].transitionName).to.eql(\"T2\");\r",
													"\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/history?entityInstanceCode=test_1&workflowCode=WF_TEST_1",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"history"
											],
											"query": [
												{
													"key": "entityInstanceCode",
													"value": "test_1"
												},
												{
													"key": "workflowCode",
													"value": "WF_TEST_1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "find History Workflow|WF_TEST_2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dd76cb24-2839-41d0-8d13-e51b1419d21d",
												"exec": [
													"\r",
													"pm.test(\"check workflow\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.workflowHistory.length).to.eql(0);\r",
													"\r",
													"\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/history?entityInstanceCode=test_2&workflowCode={{request.label.1}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"history"
											],
											"query": [
												{
													"key": "entityInstanceCode",
													"value": "test_2"
												},
												{
													"key": "workflowCode",
													"value": "{{request.label.1}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2d2d3461-b95c-4a3c-911a-0ced4f31f537",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "57277bff-f857-4c42-a5f0-7295e86626d9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "T1-T3-T8",
							"item": [
								{
									"name": "Create Workflow|WF_T1_T3_T8",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"targetEntityClass\": \"org.meveo.model.crm.Customer\",\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"workflow Customer\",\r\n    \"status\": [ \r\n    \t{ \"code\": \"A\", \"description\": \"A\" },\r\n    \t{ \"code\": \"B\", \"description\": \"B\" },\r\n    \t{ \"code\": \"C\", \"description\": \"C\" },\r\n    \t{ \"code\": \"D\", \"description\": \"D\" },\r\n    \t{ \"code\": \"E\", \"description\": \"E\" },\r\n    \t{ \"code\": \"F\", \"description\": \"F\" },\r\n    \t{ \"code\": \"G\", \"description\": \"G\" },\r\n    \t{ \"code\": \"H\", \"description\": \"H\" }\r\n    ],\r\n    \"initStatus\": \"A\",\r\n    \"transition\": [\r\n    \t\t{ \"fromStatus\": \"A\", \"toStatus\": \"B\", \"description\": \"T1\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\"},\r\n    \t\t{ \"fromStatus\": \"A\", \"toStatus\": \"C\", \"description\": \"T2\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"com.opencellsoft.script.ActionScriptExample1\" },\r\n    \t{ \"fromStatus\": \"B\", \"toStatus\": \"F\", \"description\": \"T3\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"B\", \"toStatus\": \"E\", \"description\": \"T4\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"C\", \"toStatus\": \"D\", \"description\": \"T5\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"D\", \"toStatus\": \"G\", \"description\": \"T7\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"E\", \"toStatus\": \"G\", \"description\": \"T6\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"F\", \"toStatus\": \"H\", \"description\": \"T8\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"G\", \"toStatus\": \"H\", \"description\": \"T9\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" }\r\n    \t\r\n    \t\r\n    \t\t\r\n    \r\n    \r\n    \r\n    ]\r\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Workflow Job|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e56b17e5-4f0e-4468-9851-f553a30c8777",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"active\": \"false\",\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Customer Workflow Job\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            {\r\n                \"code\": \"gwfJob_generic_wf\",\r\n                \"entityReferenceValue\": { \"code\" : \"{{request.label.1}}\", \"classname\": \"org.meveo.model.generic.wf.GenericWorkflow\" }\r\n            }\r\n        ]\r\n    },\r\n    \"timerCode\": \"Daily-midnight\",\r\n    \"jobCategory\": \"MISC\",\r\n    \"jobTemplate\": \"GenericWorkflowJob\"\r\n    \r\n}\r\n",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/jobInstance/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"jobInstance",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Run Job|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "372e1694-1127-43f6-ad3b-86aa55a70a41",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"",
													"postman.setGlobalVariable(\"jobRun.id\", jsonData.actionStatus.message);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "191a3ed2-4489-4fec-9137-4a13fc91a85d",
												"exec": [
													"pm.globals.set(\"task.code\", pm.variables.get(\"request.label.1\"));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"code\":\"{{request.label.1}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/job/execute",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"execute"
											]
										}
									},
									"response": []
								},
								{
									"name": "Job Report|WF_T1_T3_T8|wait=5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5c9c9db8-5b7a-49f5-8861-a49d05ea2298",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"var task=pm.variables.get(\"task.code\");",
													"",
													"if( typeof jsonData.jobExecutionResultDto.endDate !== \"undefined\" && jsonData.jobExecutionResultDto.done === true ){",
													"    tests[\"is.done.\"+task] = true;",
													"    tests[\"is.jobNoWarning\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithWarning === 0;",
													"    tests[\"is.jobNoError\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithError === 0;",
													"    if( ! (tests[\"is.jobNoWarning\"] && tests[\"is.jobNoError\"]) ){",
													"        console.log(\"Errors have occured, check job \"+task+\" report.\");",
													"    }",
													"} else {",
													"    postman.setNextRequest(pm.variables.get(\"task.wait\"));",
													"    tests[\"is.not.done.yet.\"+task] = true;",
													"    console.log(\"Not done yet (\"+task+\").\");",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "86985c26-e59d-42d7-aab7-1dc3728fdb89",
												"exec": [
													"pm.globals.set(\"task.wait\", pm.variables.get(\"request.label\"));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"url": {
											"raw": "{{opencell.url}}/job/jobReport?id={{jobRun.id}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"jobReport"
											],
											"query": [
												{
													"key": "id",
													"value": "{{jobRun.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "find History Workflow|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f30b3c14-46c6-458f-a676-b35bd420554e",
												"exec": [
													"\r",
													"pm.test(\"check workflow\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.workflowHistory[0].transitionName).to.eql(\"T1\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/history?entityInstanceCode={{account.code}}&workflowCode={{request.label.1}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"history"
											],
											"query": [
												{
													"key": "entityInstanceCode",
													"value": "{{account.code}}"
												},
												{
													"key": "workflowCode",
													"value": "{{request.label.1}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Run Job - Again|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "281d3a81-27ae-4cdc-83e9-ab623df20700",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"",
													"postman.setGlobalVariable(\"jobRun.id\", jsonData.actionStatus.message);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e42dad36-1fe5-43d1-b9d1-3727678ed081",
												"exec": [
													"pm.globals.set(\"task.code\", pm.variables.get(\"request.label.1\"));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"code\":\"{{request.label.1}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/job/execute",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"execute"
											]
										}
									},
									"response": []
								},
								{
									"name": "Job Report  - Again|WF_T1_T3_T8|wait=5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "30991f84-b92d-45a9-801b-0b17c53268ae",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"var task=pm.variables.get(\"task.code\");",
													"",
													"if( typeof jsonData.jobExecutionResultDto.endDate !== \"undefined\" && jsonData.jobExecutionResultDto.done === true ){",
													"    tests[\"is.done.\"+task] = true;",
													"    tests[\"is.jobNoWarning\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithWarning === 0;",
													"    tests[\"is.jobNoError\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithError === 0;",
													"    if( ! (tests[\"is.jobNoWarning\"] && tests[\"is.jobNoError\"]) ){",
													"        console.log(\"Errors have occured, check job \"+task+\" report.\");",
													"    }",
													"} else {",
													"    postman.setNextRequest(pm.variables.get(\"task.wait\"));",
													"    tests[\"is.not.done.yet.\"+task] = true;",
													"    console.log(\"Not done yet (\"+task+\").\");",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6436541c-f35d-496a-94f7-f8ddee3f8c36",
												"exec": [
													"pm.globals.set(\"task.wait\", pm.variables.get(\"request.label\"));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"url": {
											"raw": "{{opencell.url}}/job/jobReport?id={{jobRun.id}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"jobReport"
											],
											"query": [
												{
													"key": "id",
													"value": "{{jobRun.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "find History Workflow - Again|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "99f72aca-a330-4c82-a534-a53c85666afd",
												"exec": [
													"\r",
													"pm.test(\"check workflow\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.workflowHistory[0].transitionName).to.eql(\"T1\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/history?entityInstanceCode={{account.code}}&workflowCode={{request.label.1}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"history"
											],
											"query": [
												{
													"key": "entityInstanceCode",
													"value": "{{account.code}}"
												},
												{
													"key": "workflowCode",
													"value": "{{request.label.1}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "update Workflow|WF_T1_T3_T8",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"targetEntityClass\": \"org.meveo.model.crm.Customer\",\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"workflow Customer\",\r\n    \"status\": [ \r\n    \t{ \"code\": \"A\", \"description\": \"A\" },\r\n    \t{ \"code\": \"B\", \"description\": \"B\" },\r\n    \t{ \"code\": \"C\", \"description\": \"C\" },\r\n    \t{ \"code\": \"D\", \"description\": \"D\" },\r\n    \t{ \"code\": \"E\", \"description\": \"E\" },\r\n    \t{ \"code\": \"F\", \"description\": \"F\" },\r\n    \t{ \"code\": \"G\", \"description\": \"G\" },\r\n    \t{ \"code\": \"H\", \"description\": \"H\" }\r\n    ],\r\n    \"initStatus\": \"A\",\r\n    \"transition\": [\r\n    \t\t{ \"fromStatus\": \"A\", \"toStatus\": \"B\", \"description\": \"T1\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\"},\r\n    \t\t{ \"fromStatus\": \"A\", \"toStatus\": \"C\", \"description\": \"T2\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"com.opencellsoft.script.ActionScriptExample1\" },\r\n    \t{ \"fromStatus\": \"B\", \"toStatus\": \"F\", \"description\": \"T3\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"B\", \"toStatus\": \"E\", \"description\": \"T4\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"C\", \"toStatus\": \"D\", \"description\": \"T5\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"D\", \"toStatus\": \"G\", \"description\": \"T7\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"E\", \"toStatus\": \"G\", \"description\": \"T6\", \"conditionEl\": \"#{false}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"F\", \"toStatus\": \"H\", \"description\": \"T8\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" },\r\n    \t{ \"fromStatus\": \"G\", \"toStatus\": \"H\", \"description\": \"T9\", \"conditionEl\": \"#{true}\", \"actionScriptCode\": \"\" }\r\n    \t\r\n    \t\r\n    \t\t\r\n    \r\n    \r\n    \r\n    ]\r\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Run|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1d368591-1811-4363-8657-c8b7b5f2da5a",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"",
													"postman.setGlobalVariable(\"jobRun.id\", jsonData.actionStatus.message);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "493abe32-01ec-4630-9dab-79899a896c5a",
												"exec": [
													"pm.globals.set(\"task.code\", pm.variables.get(\"request.label.1\"));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"type": "any"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"code\":\"{{request.label.1}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/job/execute",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"execute"
											]
										}
									},
									"response": []
								},
								{
									"name": "Job Report|WF_T1_T3_T8|wait=5",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8b1416e8-a68f-4011-828c-706517972221",
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
													"var task=pm.variables.get(\"task.code\");",
													"",
													"if( typeof jsonData.jobExecutionResultDto.endDate !== \"undefined\" && jsonData.jobExecutionResultDto.done === true ){",
													"    tests[\"is.done.\"+task] = true;",
													"    tests[\"is.jobNoWarning\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithWarning === 0;",
													"    tests[\"is.jobNoError\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithError === 0;",
													"    if( ! (tests[\"is.jobNoWarning\"] && tests[\"is.jobNoError\"]) ){",
													"        console.log(\"Errors have occured, check job \"+task+\" report.\");",
													"    }",
													"} else {",
													"    postman.setNextRequest(pm.variables.get(\"task.wait\"));",
													"    tests[\"is.not.done.yet.\"+task] = true;",
													"    console.log(\"Not done yet (\"+task+\").\");",
													"}",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "155f09e5-5f72-44ba-8ef4-492819bd2fb8",
												"exec": [
													"pm.globals.set(\"task.wait\", pm.variables.get(\"request.label\"));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "username",
													"value": "{{opencell.username}}",
													"type": "string"
												},
												{
													"key": "password",
													"value": "{{opencell.password}}",
													"type": "string"
												},
												{
													"key": "saveHelperData",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "showPassword",
													"value": false,
													"type": "boolean"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"url": {
											"raw": "{{opencell.url}}/job/jobReport?id={{jobRun.id}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"job",
												"jobReport"
											],
											"query": [
												{
													"key": "id",
													"value": "{{jobRun.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "find History Workflow|WF_T1_T3_T8",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f05ac0a8-f41c-493e-8be4-bf05576f2b5b",
												"exec": [
													"\r",
													"pm.test(\"check workflow\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.workflowHistory[0].transitionName).to.eql(\"T1\");\r",
													"    pm.expect(jsonData.workflowHistory[1].transitionName).to.eql(\"T3\");\r",
													"    pm.expect(jsonData.workflowHistory[2].transitionName).to.eql(\"T8\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{opencell.url}}/admin/genericWorkflow/history?entityInstanceCode={{account.code}}&workflowCode={{request.label.1}}",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"admin",
												"genericWorkflow",
												"history"
											],
											"query": [
												{
													"key": "entityInstanceCode",
													"value": "{{account.code}}"
												},
												{
													"key": "workflowCode",
													"value": "{{request.label.1}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"auth": {
				"type": "basic",
				"basic": [
					{
						"key": "password",
						"value": "{{opencell.password}}",
						"type": "string"
					},
					{
						"key": "username",
						"value": "{{opencell.username}}",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "eb047730-0873-4a0f-b732-9abed615e4a5",
						"type": "text/javascript",
						"exec": [
							"var now = new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for (let i = 0; i < parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\" + i, parts[i]);",
							"",
							"    if (parts[i].indexOf(\"=\") != -1) {",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "b3292a44-2262-4b93-988a-74c62de21bf5",
						"type": "text/javascript",
						"exec": [
							"var wait = pm.variables.get(\"wait\");",
							"",
							"if (wait > 0) {",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + wait + \" seconds...\");",
							"    setTimeout(function () { }, wait * 1000);",
							"}",
							"",
							"if (pm.response.code == 401) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \" + pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"} else {",
							"    tests[\"is.success\"] = (pm.response.code == 200 || pm.response.code == 204);",
							"}",
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5291 - [API] Missing List APIs",
			"item": [
				{
					"name": "Filter on UsageChargeTemplate",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8e164b9a-2f95-494d-a81a-f740f1438536",
								"exec": [
									"pm.test(\"Check total Number Of Records\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.paging.totalNumberOfRecords).to.eql(10);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 1rst template\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[0].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 2nd template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[1].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 3rd template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[2].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 4rd template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[3].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 5th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[4].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 6th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[5].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 7th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[6].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 8th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[7].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 9th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[8].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});\r",
									"pm.test(\"Check Invoice invoiceSubCategory for the 10th template \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.usageChargeTemplates.usageChargeTemplates[9].invoiceSubCategory).to.eql(\"CLASSIC_USAGE_TIER\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"fullTextFilter\" : null,\r\n\t\"filters\" : {\r\n\t\t\"invoiceSubCategory.code\": \"CLASSIC_USAGE_TIER\"\r\n\t},\r\n\t\"fields\" : null,\r\n\t\"offset\" : null,\r\n\t\"limit\" : null,\r\n\t\"sortBy\" : \"code\",\r\n\t\"sortOrder\" : \"DESCENDING\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/catalog/usageChargeTemplate/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"catalog",
								"usageChargeTemplate",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "Filter on InvoiceSubCategory",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "964bd2ec-5dca-48f6-8d1c-35bc019c5ad7",
								"exec": [
									"pm.test(\"Check total Number Of Records\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.paging.totalNumberOfRecords).to.eql(1);\r",
									"});\r",
									"\r",
									"pm.test(\"Check invoiceSubCategory's description\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.invoiceSubCategories.invoiceSubCategory[0].description).to.eql(\"Commission\");\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"fullTextFilter\" : null,\r\n\t\"filters\" : {\r\n\t\t\"invoiceCategory.description\": \"Commission\"\r\n\t},\r\n\t\"fields\" : null,\r\n\t\"offset\" : null,\r\n\t\"limit\" : null,\r\n\t\"sortBy\" : \"code\",\r\n\t\"sortOrder\" : \"DESCENDING\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoiceSubCategory/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoiceSubCategory",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "Filter on InvoiceCategory",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "15efb648-76b0-4af5-aa8d-359662fa9e6f",
								"exec": [
									"pm.test(\"Check total Number Of Records\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.paging.totalNumberOfRecords).to.eql(1);\r",
									"});\r",
									"\r",
									"pm.test(\"Check invoiceSubCategory's description\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.invoiceCategories.invoiceCategory[0].code).to.eql(\"CLASSIC_COMMISSION\");\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"fullTextFilter\" : null,\r\n\t\"filters\" : {\r\n\t\t\"code\": \"CLASSIC_COMMISSION\"\r\n\t},\r\n\t\"fields\" : null,\r\n\t\"offset\" : null,\r\n\t\"limit\" : null,\r\n\t\"sortBy\" : \"code\",\r\n\t\"sortOrder\" : \"DESCENDING\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoiceCategory/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoiceCategory",
								"list"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5307 - Improve db contraint error message",
			"item": [
				{
					"name": "Create CT",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4abb618b-e022-4e03-946f-fc79025a8a40",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"CT_TEST_C\",\r\n    \"description\": \"CT_TEST_C\",\r\n    \"disabled\": false,\r\n    \"name\": \"CT_TEST_C\",\r\n    \"storeAsTable\": true,\r\n    \"field\": [\r\n        {\r\n            \"code\": \"CF_TEST\",\r\n            \"description\": \"CF_TEST\",\r\n            \"disabled\": false,\r\n            \"languageDescriptions\": [],\r\n            \"fieldType\": \"LONG\",\r\n            \"accountLevel\": \"CT_TEST_C\",\r\n            \"appliesTo\": \"CT_TEST_C\",\r\n            \"defaultValue\": \"0\",\r\n            \"useInheritedAsDefaultValue\": false,\r\n            \"storageType\": \"SINGLE\",\r\n            \"valueRequired\": false,\r\n            \"versionable\": false,\r\n            \"triggerEndPeriodEvent\": false,\r\n            \"allowEdit\": true,\r\n            \"hideOnNew\": false,\r\n            \"guiPosition\": \"tab:Test:0;field:1\",\r\n            \"uniqueConstraint\": true,\r\n            \"indexType\": \"INDEX_NOT_ANALYZE\"\r\n        },\r\n        {\r\n            \"code\": \"CF_TEST_1\",\r\n            \"description\": \"CF_TEST_1\",\r\n            \"disabled\": false,\r\n            \"languageDescriptions\": [],\r\n            \"fieldType\": \"LONG\",\r\n            \"accountLevel\": \"CT_TEST_C\",\r\n            \"appliesTo\": \"CT_TEST_C\",\r\n            \"useInheritedAsDefaultValue\": false,\r\n            \"storageType\": \"SINGLE\",\r\n            \"valueRequired\": false,\r\n            \"versionable\": false,\r\n            \"triggerEndPeriodEvent\": false,\r\n            \"allowEdit\": true,\r\n            \"hideOnNew\": false,\r\n            \"uniqueConstraint\": true,\r\n            \"guiPosition\": \"tab:Test:0;field:2\",\r\n            \"indexType\": \"INDEX_NOT_ANALYZE\"\r\n        },\r\n        {\r\n            \"code\": \"CF_TEST_2\",\r\n            \"description\": \"CF_TEST_2\",\r\n            \"disabled\": false,\r\n            \"languageDescriptions\": [],\r\n            \"fieldType\": \"DOUBLE\",\r\n            \"accountLevel\": \"CT_TEST\",\r\n            \"appliesTo\": \"CT_TEST_C\",\r\n            \"useInheritedAsDefaultValue\": false,\r\n            \"storageType\": \"SINGLE\",\r\n            \"valueRequired\": false,\r\n            \"versionable\": false,\r\n            \"triggerEndPeriodEvent\": false,\r\n            \"allowEdit\": true,\r\n            \"hideOnNew\": false,\r\n            \"uniqueConstraint\": true,\r\n            \"guiPosition\": \"tab:Test:0;field:3\",\r\n            \"indexType\": \"INDEX_NOT_ANALYZE\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/entityCustomization/entity/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"entityCustomization",
								"entity",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create CT instance 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "afe29eb0-aa74-4747-8101-cb898e4afe93",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"customTableCode\":\"CT_TEST_C\",\r\n \r\n\"record\":[\r\n \r\n{\"id\":1,\"values\":{\"CF_TEST\":\"11\",\"CF_TEST_1\":\"11\",\"CF_TEST_2\":\"11\"}}\r\n]}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/customTable/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"customTable",
								"createOrUpdate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create CT instance 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9a0d4e96-4333-4504-b22f-6844b429971a",
								"exec": [
									"pm.test(\"Test FAIL Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.status).to.eql(\"FAIL\");\r",
									"});\r",
									"pm.test(\"Test Error Code\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorCode).to.eql(\"ENTITY_ALREADY_EXISTS_EXCEPTION\");\r",
									"});\r",
									"pm.test(\"Check Message\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.message).to.eql(\"cf_test, cf_test_1, cf_test_2 field(s) must be unique. A record with value(s) '11, 11, 11.000000000000' already exists\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"customTableCode\":\"CT_TEST_C\",\r\n \r\n\"record\":[\r\n \r\n{\"id\":2,\"values\":{\"CF_TEST\":\"11\",\"CF_TEST_1\":\"11\",\"CF_TEST_2\":\"11\"}}\r\n]}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/customTable/createOrUpdate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"customTable",
								"createOrUpdate"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5315 - [API] POST /invoice ratedTransactionsToLink",
			"item": [
				{
					"name": "ratedTransactionsToLink   ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ffb47ebb-e559-4d4e-8fd6-32420d0cb4bf",
								"exec": [
									"pm.test(\"Check that the  API response is  200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"pm.test(\"Status code name has string\", function () {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{opencell.password}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{opencell.username}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ratedTransactionsToLink\": [168],\r\n    \"returnXml\": true,\r\n    \"invoiceType\": \"ADJ\",\r\n    \"billingAccountCode\": \"DEMO.CLASSIC\",\r\n    \"dueDate\": \"2020-10-13\",\r\n    \"invoiceDate\": \"2020-10-13\",\r\n    \"invoiceMode\": \"DETAILLED\",\r\n    \"categoryInvoiceAgregate\": [\r\n        {\r\n            \"categoryInvoiceCode\": \"SUBSCRIPTION\",\r\n            \"description\": \"SUBSCRIPTION\",\r\n            \"subCategoryInvoiceAgregateDto\": [\r\n                {\r\n                    \"description\": \"SUB_DATA\",\r\n                    \"invoiceSubCategoryCode\": \"SUB_DATA\",\r\n                    \"amountWithoutTax\": \"100\",\r\n                    \"amountTax\": \"20\",\r\n                    \"amountWithTax\": \"120\",\r\n                    \"ratedTransaction\": [\r\n                        {\r\n                            \"code\": \"WS_BASE_OS_OTHER\",\r\n                            \"unitAmountWithoutTax\": \"100\",\r\n                            \"amountWithoutTax\": \"100\",\r\n                            \"quantity\": \"1\",\r\n                            \"description\": \"API\",\r\n                            \"usageDate\": \"2020-10-13\",\r\n                            \"taxCode\": \"TAX_00\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5388 - Invoice notifications",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Create calendar for BC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a9475714-caba-4f0b-972d-ea74120176dd",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{testCode}}_CAL_5388_BC\",\n  \"description\": \"Monthly (1st of the month)\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JANUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"FEBRUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MARCH\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"APRIL\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MAY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JUNE\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JULY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"AUGUST\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"SEPTEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"OCTOBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"NOVEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"DECEMBER\"\n\t  }\n  ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create calendar for Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "df71fdf1-090f-4a35-a302-a27e9e6f1924",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_CAL_5388_REC\",\n    \"description\": \"1 day period\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create BillingCycle 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ecfce43d-3edc-463b-a6b9-df3558ecb571",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_BC_5388_1\",\r\n\t\"description\": \"Monthly Invoice Cycle 1\",\r\n\t\"transactionDateDelay\": \"0\",\r\n\t\"invoiceDateProductionDelay\": \"0\",\r\n\t\"dueDateDelay\": \"0\",\r\n\t\"invoiceDateDelay\": \"0\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5388_BC\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billingCycle",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Seller",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8bd50362-3ed0-44f6-ab76-9faa309e9679",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\r\n    \t\"code\": \"{{testCode}}_SELLER_5388\",\r\n    \t\"currencyCode\": \"EUR\",\r\n    \t\"languageCode\": \"FRA\"\r\n    }"
								},
								"url": {
									"raw": "{{opencell.url}}/seller/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"seller",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Class",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "617817ec-6ea7-45a2-833d-f4f0ecfa0793",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{testCode}}_taxClass_5388\",\r\n    \"description\": \"Tax class\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/taxClass/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxClass",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Category",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "85a02ae0-f2c6-4864-809a-70566c77f6f8",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\":\"{{testCode}}_taxCategory_5388\",\r\n\t\"description\":\"Tax category\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "tax|{{testCode}}_TAX_5388_20|VAT 20%|20|445710000",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "745625c8-63d0-4746-b00d-2c02e53444ea",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{request.label.1}}\",\n  \"description\": \"{{request.label.2}}\",\n  \"percent\": \"{{request.label.3}}\",\n  \"accountingCode\": \"{{request.label.4}}\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/tax/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"tax",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Mapping",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "04d3002e-ec22-4db4-89ad-604f9dcf3cc6",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"accountTaxCategoryCode\": \"{{testCode}}_taxCategory_5388\",\r\n    \"chargeTaxClassCode\": \"{{testCode}}_taxClass_5388\",\r\n    \"taxCode\": \"{{testCode}}_TAX_5388_20\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/taxMapping/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxMapping",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "INV_CATEGORY|{{testCode}}_INV_CAT_5388",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8d29270f-c2f4-4740-a228-1f3b8088ceae",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"code\": \"{{request.label.1}}\",\n\t\"description\": \"Invoice category\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoiceCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "INV_CATEGORY|{{testCode}}_INV_CAT_5388|{{testCode}}_INV_SUBCAT_5388",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "99746698-2252-4c63-a3c8-31b6f9c644b4",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"code\": \"{{request.label.2}}\",\n\t\"invoiceCategory\": \"{{request.label.1}}\",\n\t\"accountingCode\": \"701000000\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoiceSubCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "43d22623-fc12-490e-9f1c-3e24c8625bb0",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_REC_5388\",\r\n\t\"invoiceSubCategory\": \"{{testCode}}_INV_SUBCAT_5388\",\r\n\t\"disabled\": \"false\",\r\n\t\"amountEditable\": \"true\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5388_REC\",\r\n\t\"applyInAdvance\": \"true\",\r\n\t\"durationTermInMonth\": \"4\",\r\n\t\"roundingModeDtoEnum\": \"NEAREST\",\r\n\t\"taxClassCode\" : \"{{testCode}}_taxClass_5388\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"recurringChargeTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Service",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c33ce07a-e5cf-4ab3-9835-fb437ffed712",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_SERVICE_5388\",\r\n\t\"serviceChargeTemplateRecurrings\": {\r\n\t\t\"serviceChargeTemplateRecurring\": [\r\n\t\t\t{\r\n\t\t\t\t\"code\": \"{{testCode}}_REC_5388\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"serviceTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Offer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "931dc30f-b594-49eb-8265-28a5f34ac138",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_OFFER_5388\",\n    \"name\": \"{{testCode}}_OFFER_5388\",\n    \"disabled\": \"false\",\n    \"offerServiceTemplate\": [\n        {\n            \"serviceTemplate\": {\n                \"code\": \"{{testCode}}_SERVICE_5388\"\n            }\n        }\n    ],\n    \"lifeCycleStatus\": \"ACTIVE\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"offerTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Price Plan  Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6c512939-77ee-4639-adfe-40d2a4debc5f",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_REC_5388\",\r\n\t\"eventCode\": \"{{testCode}}_REC_5388\",\r\n\t\"amountWithoutTax\": \"1\",\r\n\t\"amountWithTax\": \"1.2\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"pricePlan",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateOrUpdate Account Hierarchy 1 SUCCESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7d5be7df-a283-406a-9588-bd293727e4f9",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"email\": \"test@test.com\",\r\n\t\"customerCode\": \"{{testCode}}_CH_5388_1\",\r\n\t\"sellerCode\": \"{{testCode}}_SELLER_5388\",\r\n\t\"customerBrandCode\": \"{{testCode}}_CB\",\r\n\t\"customerCategoryCode\": \"{{testCode}}_CC\",\r\n\t\"currencyCode\": \"USD\",\r\n\t\"countryCode\": \"US\",\r\n\t\"languageCode\": \"ENG\",\r\n\t\"billingCycleCode\": \"{{testCode}}_BC_5388_1\",\r\n\t\"titleCode\": \"MR\",\r\n\t\"firstName\": \"created\",\r\n\t\"lastName\": \"TEST\",\r\n\t\"phoneNumber\": \"+102354749\",\r\n\t\"address1\": \"Address1\",\r\n\t\"address2\": \"Address2\",\r\n\t\"zipCode\": \"4050\",\r\n\t\"city\": \"Los Banos\",\r\n\t\"taxCategoryCode\":\"{{testCode}}_taxCategory_5388\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Subscription 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fe4b0e73-9ed4-4e45-85cb-2274a4b7d4b7",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8d16ffa8-371c-4e1b-9634-fabcf460ac9b",
										"exec": [
											"var moment = require('moment');",
											"",
											"var todayMinus2Month = moment().startOf('month').add(-2, 'month').zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\")",
											"pm.variables.set(\"todayMinus2Month\", todayMinus2Month);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{testCode}}_SUB_5388_1\",\r\n    \"userAccount\": \"UA_{{testCode}}_CH_5388_1\",\r\n    \"offerTemplate\": \"{{testCode}}_OFFER_5388\",\r\n    \"subscriptionDate\": \"{{todayMinus2Month}}}\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Activate services 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0570d802-ae9c-4cf3-a2b5-378a2d635938",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5d64b80b-b603-4237-a5d8-85d9500e0ea2",
										"exec": [
											"var moment = require('moment');",
											"",
											"var todayMinus2Month = moment().startOf('month').add(-2, 'month').zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\")",
											"pm.variables.set(\"todayMinus2Month\", todayMinus2Month);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"subscription\": \"{{testCode}}_SUB_5388_1\",\n    \"servicesToActivate\": {\n        \"service\": [\n            {\n                \"code\": \"{{testCode}}_SERVICE_5388\",\n                \"quantity\": \"1\",\n                \"subscriptionDate\": \"{{todayMinus2Month}}}\"\n            }\n        ]\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/activateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"activateServices"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create script",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3c60834c-3a3d-413c-bc9b-91de7acf00a2",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.message).to.eql();",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/xml",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "         \t\n\n<ScriptInstance code=\"org.meveo.test.InvoiceNotifications{{testCode}}Script\">\n    <type>JAVA</type>\n    <script>\n        <![CDATA[\n\t\t\tpackage org.meveo.test;\t\t\t\n\t\t\timport java.util.Map;\n\t\t\timport java.math.BigDecimal;\n\t\t\timport org.meveo.admin.exception.BusinessException;\n\t\t\timport org.meveo.model.admin.User;\n\t\t\timport org.meveo.model.crm.Provider;\n\t\t\timport org.slf4j.Logger;\n\t\t\timport org.slf4j.LoggerFactory;\n\t\t\timport org.meveo.service.script.Script;\n\t\t\timport org.meveo.model.billing.Invoice;\n\t\t\t\n\t\t\tpublic class InvoiceNotifications{{testCode}}Script extends Script {\n\t\t\t  \t\n\t\t\t\tpublic void execute(Map<String,Object> context) throws BusinessException{\n\t\t\t\t\tInvoice invoice = (Invoice)context.get(Script.CONTEXT_ENTITY_OR_EVENT);\n\t\t\t\t\tinvoice.setComment((invoice.getComment()==null?\"\":invoice.getComment())+\" \"+context.get(\"comment\"));\n\t\t\t\t}\n\t\t\t}\n\t\t   ]]>\n            \n    \n    </script>\n</ScriptInstance>"
								},
								"url": {
									"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"scriptInstance",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add Invoice number assigned notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "24af6b7e-2a9b-46d4-ba42-bd306ceaabf8",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_NOTIF_5388_INVOICE_NUMBER_ASSIGNED\",\n    \"disabled\": false,\n    \"classNameFilter\": \"org.meveo.model.billing.Invoice\",\n    \"eventTypeFilter\": \"INVOICE_NUMBER_ASSIGNED\",\n    \"scriptInstanceCode\": \"org.meveo.test.InvoiceNotifications{{testCode}}Script\",\n    \"scriptParams\": {\n        \"comment\": \"invoice_number_assigned\"\n    },\n    \"priority\": 1,\n    \"active\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/notification/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add Invoice xml generated notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da9785f1-0a7d-4c8c-9cae-5fe92b54989b",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_NOTIF_5388_INVOICE_XML_GENERATED\",\n    \"disabled\": false,\n    \"classNameFilter\": \"org.meveo.model.billing.Invoice\",\n    \"eventTypeFilter\": \"XML_GENERATED\",\n    \"scriptInstanceCode\": \"org.meveo.test.InvoiceNotifications{{testCode}}Script\",\n    \"scriptParams\": {\n        \"comment\": \"xml_generated\"\n    },\n    \"priority\": 1,\n    \"active\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/notification/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add Invoice pdf generated notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "00e5c266-5dbd-436e-a5a8-0d183dd29e6c",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_NOTIF_5388_INVOICE_PDF_GENERATED\",\n    \"disabled\": false,\n    \"classNameFilter\": \"org.meveo.model.billing.Invoice\",\n    \"eventTypeFilter\": \"PDF_GENERATED\",\n    \"scriptInstanceCode\": \"org.meveo.test.InvoiceNotifications{{testCode}}Script\",\n    \"scriptParams\": {\n        \"comment\": \"pdf_generated\"\n    },\n    \"priority\": 1,\n    \"active\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/notification/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"createOrUpdate"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test",
					"item": [
						{
							"name": "Check wallet operations for account 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1f580a5a-0a2b-4748-9f04-5a4e267b4283",
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    var expected = moment().zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\");\r",
											"    pm.expect(expected).is.to.equal(moment(jsonData.data[0].operationDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"subscription.code\": \"{{testCode}}_SUB_5388_1\"\n    },\n    \"limit\":1,\n    \"sortBy\": \"operationDate\",\n    \"sortOrder\":\"DESCENDING\",\n    \"genericFields\":[\"id\",\"code\", \"description\", \"operationDate\", \"startDate\", \"endDate\", \"amountWithoutTax\", \"quantity\", \"status\"]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/WalletOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"WalletOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Execute RT job",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "672c5e8b-7a22-47fa-b05a-0de55b1d9e45",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.message).to.eql(jsonData.jobExecutionResultDto.id+\"\");",
											"});",
											"",
											"setTimeout(function(){",
											"          console.log(\"Sleeping for 5 seconds before next request.\");",
											"  }, 5000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"RT_Job\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/job/execute",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"execute"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check rated transactions status Open",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "267f4f17-68d9-46ea-a327-c69d91396eca",
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    var expected = moment().zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\");\r",
											"    pm.expect(expected).is.to.equal(moment(jsonData.data[0].usageDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\"));\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"subscription.code\": \"{{testCode}}_SUB_5388_1\",\n        \"status\":\"OPEN\"\n    },\n    \"limit\":1,\n    \"sortBy\": \"usageDate\",\n    \"sortOrder\":\"DESCENDING\",\n    \"genericFields\":[\"id\",\"code\", \"description\", \"usageDate\", \"startDate\", \"endDate\", \"amountWithoutTax\", \"quantity\", \"status\"]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/RatedTransaction",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"RatedTransaction"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Billing run",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d5b3918-71c3-47e9-958e-a4b07aed979f",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"billingCycleCode\": \"{{testCode}}_BC_5388_1\",\n    \"billingRunTypeEnum\": \"FULL_AUTOMATIC\",\n    \"referenceDate\": \"NEXT_INVOICE_DATE\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/invoicing/createBillingRun",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"invoicing",
										"createBillingRun"
									]
								}
							},
							"response": []
						},
						{
							"name": "Execute Invoicing job",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e1ce6ca3-08e5-4499-af49-9af8cd88c151",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.message).to.eql(jsonData.jobExecutionResultDto.id+\"\");",
											"});",
											"",
											"setTimeout(function(){}, 10000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"INV_JOB\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/job/execute",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"execute"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Invoice",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c4edbba5-d630-4b09-81b5-f95a5a2e46d4",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\" invoice_number_assigned\").is.to.equal(jsonData.data[0].comment);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"billingAccount.code\": \"BA_{{testCode}}_CH_5388_1\"\n    },\n    \"limit\":1,\n    \"sortBy\": \"id\",\n    \"sortOrder\":\"DESCENDING\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/Invoice",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"Invoice"
									]
								}
							},
							"response": []
						},
						{
							"name": "Execute XML job",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "571d302a-60ff-4f1b-9ea3-ebe4746bf259",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.message).to.eql(jsonData.jobExecutionResultDto.id+\"\");",
											"});",
											"",
											"setTimeout(function(){}, 10000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"XML_JOB\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/job/execute",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"execute"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Invoice after XML",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "324d588f-5a1a-4d64-ba30-2ef07a5fb53f",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\" invoice_number_assigned xml_generated\").is.to.equal(jsonData.data[0].comment);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"billingAccount.code\": \"BA_{{testCode}}_CH_5388_1\"\n    },\n    \"limit\":1,\n    \"sortBy\": \"id\",\n    \"sortOrder\":\"DESCENDING\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/Invoice",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"Invoice"
									]
								}
							},
							"response": []
						},
						{
							"name": "Execute PDF job",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c74b12ff-4016-4ea6-9fee-19f42a419319",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.message).to.eql(jsonData.jobExecutionResultDto.id+\"\");",
											"});",
											"",
											"setTimeout(function(){}, 10000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"PDF_JOB\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/job/execute",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"execute"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Invoice after PDF",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "64495e26-2189-4bc2-9847-b6086f06444f",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\" invoice_number_assigned xml_generated pdf_generated\").is.to.equal(jsonData.data[0].comment);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"billingAccount.code\": \"BA_{{testCode}}_CH_5388_1\"\n    },\n    \"limit\":1,\n    \"sortBy\": \"id\",\n    \"sortOrder\":\"DESCENDING\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/Invoice",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"Invoice"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Cleanup",
					"item": [
						{
							"name": "Delete Invoice number assigned notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "91f2d53e-edde-4fa5-8cb4-2c361c36e5db",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{opencell.url}}/notification/{{testCode}}_NOTIF_5388_INVOICE_NUMBER_ASSIGNED",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"{{testCode}}_NOTIF_5388_INVOICE_NUMBER_ASSIGNED"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Invoice XML generated notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "60bd9022-5eee-4187-ae3f-ea79ca0a844f",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{opencell.url}}/notification/{{testCode}}_NOTIF_5388_INVOICE_XML_GENERATED",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"{{testCode}}_NOTIF_5388_INVOICE_XML_GENERATED"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Invoice PDF generated notification",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "516faf81-c14d-45a7-ad55-7049f79832ff",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{opencell.url}}/notification/{{testCode}}_NOTIF_5388_INVOICE_PDF_GENERATED",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"notification",
										"{{testCode}}_NOTIF_5388_INVOICE_PDF_GENERATED"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "81621413-bf60-4303-a4bd-60391081b645",
						"type": "text/javascript",
						"exec": [
							"pm.globals.set(\"timestamp.iso\", (new Date()).toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"}",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "07a9745d-ae58-457e-90d5-3809ad30ea39",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5389 - [API] Get /invoice : missing invoice status",
			"item": [
				{
					"name": "POST /invoice/list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "72e556aa-655c-4d2c-9bd4-ce3f1b4080dd",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Field Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.invoices[0].status).to.eql(\"GENERATED\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET /invoice/list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b7b9996a-179b-4f96-9f8c-c25cee240637",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Field Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.invoices[0].status).to.eql(\"GENERATED\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice/list",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "33232df4-15f0-4b04-a908-963fade038f0",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Field Status\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.invoice.status).to.eql(\"GENERATED\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "opencell.superadmin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "opencell.superadmin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/invoice?invoiceNumber=000000001",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"invoice"
							],
							"query": [
								{
									"key": "invoiceNumber",
									"value": "000000001"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5398 - ServiceTemplate update API should not require any fields",
			"item": [
				{
					"name": "Update service template",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{opencell.password}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{opencell.username}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\":\"4_SE_CLASSIC_COMMISSION\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{opencell.url}}/catalog/serviceTemplate",
							"host": [
								"{{opencell.url}}"
							],
							"path": [
								"catalog",
								"serviceTemplate"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5402 - BA update API",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Create calendar for BC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4fe48e64-5cc5-420e-8f41-863074edb83b",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{testCode}}_CAL_5402_BC\",\n  \"description\": \"Monthly (1st of the month)\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JANUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"FEBRUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MARCH\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"APRIL\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MAY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JUNE\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JULY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"AUGUST\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"SEPTEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"OCTOBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"NOVEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"DECEMBER\"\n\t  }\n  ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create BillingCycle 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cb619312-0366-40d3-b3e4-374ad31a75af",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_BC_5402_1\",\r\n\t\"description\": \"Monthly Invoice Cycle 1\",\r\n\t\"transactionDateDelay\": \"0\",\r\n\t\"invoiceDateProductionDelay\": \"0\",\r\n\t\"dueDateDelay\": \"0\",\r\n\t\"invoiceDateDelay\": \"0\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5402_BC\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billingCycle",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Seller",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5ff2e786-706b-46bf-99db-8a3c934ff397",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\r\n    \t\"code\": \"{{testCode}}_SELLER_5402\",\r\n    \t\"currencyCode\": \"EUR\",\r\n    \t\"languageCode\": \"FRA\"\r\n    }"
								},
								"url": {
									"raw": "{{opencell.url}}/seller/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"seller",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Category",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da2c6c51-3f4b-4188-97fa-57a9eeea9549",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\":\"{{testCode}}_taxCategory_5402\",\r\n\t\"description\":\"Tax category\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateOrUpdate Account Hierarchy 1 SUCCESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "af905aea-e2e3-4b2f-8dd9-6e27a1fc6b23",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"email\": \"test@test.com\",\r\n\t\"customerCode\": \"{{testCode}}_CH_5402_1\",\r\n\t\"sellerCode\": \"{{testCode}}_SELLER_5402\",\r\n\t\"customerBrandCode\": \"{{testCode}}_CB\",\r\n\t\"customerCategoryCode\": \"{{testCode}}_CC\",\r\n\t\"currencyCode\": \"USD\",\r\n\t\"countryCode\": \"US\",\r\n\t\"languageCode\": \"ENG\",\r\n\t\"billingCycleCode\": \"{{testCode}}_BC_5402_1\",\r\n\t\"titleCode\": \"MR\",\r\n\t\"firstName\": \"created\",\r\n\t\"lastName\": \"TEST\",\r\n\t\"phoneNumber\": \"+102354749\",\r\n\t\"address1\": \"Address1\",\r\n\t\"address2\": \"Address2\",\r\n\t\"zipCode\": \"4050\",\r\n\t\"city\": \"Los Banos\",\r\n\t\"taxCategoryCode\":\"{{testCode}}_taxCategory_5402\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdate"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test",
					"item": [
						{
							"name": "Check BA",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8fc465fb-1eb5-4c30-9348-e948a43d8010",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"MR\").is.to.equal(jsonData.billingAccount.name.title);\r",
											"    pm.expect(\"created\").is.to.equal(jsonData.billingAccount.name.firstName);\r",
											"    pm.expect(\"TEST\").is.to.equal(jsonData.billingAccount.name.lastName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount?billingAccountCode=BA_{{testCode}}_CH_5402_1",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									],
									"query": [
										{
											"key": "billingAccountCode",
											"value": "BA_{{testCode}}_CH_5402_1"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update BA - last name",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bee3a8fb-a635-4b82-b540-30032b6ea7b7",
										"exec": [
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"SUCCESS\").is.to.equal(jsonData.status);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"BA_{{testCode}}_CH_5402_1\",\n    \"name\": {\n        \"lastName\": \"Changed\"\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check BA after update - last name",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9749377f-8243-47b1-9cc0-8555a17ea2ad",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"MR\").is.to.equal(jsonData.billingAccount.name.title);\r",
											"    pm.expect(\"created\").is.to.equal(jsonData.billingAccount.name.firstName);\r",
											"    pm.expect(\"Changed\").is.to.equal(jsonData.billingAccount.name.lastName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount?billingAccountCode=BA_{{testCode}}_CH_5402_1",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									],
									"query": [
										{
											"key": "billingAccountCode",
											"value": "BA_{{testCode}}_CH_5402_1"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update BA - title",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "36c3e60e-2c1b-411b-8eb2-8447a81551db",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"SUCCESS\").is.to.equal(jsonData.status);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"BA_{{testCode}}_CH_5402_1\",\n    \"name\": {\n    \t\"title\":\"\"\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check BA after update - title",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50434e5f-35e2-48ed-af6c-24974293c1ab",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(null).is.to.equal(jsonData.billingAccount.name.title);\r",
											"    pm.expect(\"created\").is.to.equal(jsonData.billingAccount.name.firstName);\r",
											"    pm.expect(\"Changed\").is.to.equal(jsonData.billingAccount.name.lastName);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount?billingAccountCode=BA_{{testCode}}_CH_5402_1",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									],
									"query": [
										{
											"key": "billingAccountCode",
											"value": "BA_{{testCode}}_CH_5402_1"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update BA - delete name",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7b760654-ce4e-41f4-8a67-3b2eeaef67ff",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"SUCCESS\").is.to.equal(jsonData.status);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"BA_{{testCode}}_CH_5402_1\",\n    \"name\": {\n        \"title\": \"\",\n        \"firstName\": \"\",\n        \"lastName\": \"\"\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check BA after update",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5d1f65cf-d761-447e-8bd4-3aa87eb30f25",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(undefined).is.to.equal(jsonData.billingAccount.name);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount?billingAccountCode=BA_{{testCode}}_CH_5402_1",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									],
									"query": [
										{
											"key": "billingAccountCode",
											"value": "BA_{{testCode}}_CH_5402_1"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "4457252e-acab-4ebb-b27d-40dc244749a7",
						"type": "text/javascript",
						"exec": [
							"pm.globals.set(\"timestamp.iso\", (new Date()).toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"}"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "cefafbe2-ac4b-4ae2-8fb9-a4f7f7ec6948",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5404 - Order WO by startDate before aggregation",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Settings",
							"item": [
								{
									"name": "Provider & Seller",
									"item": [
										{
											"name": "Seller hierarchy",
											"item": [
												{
													"name": "S|MAIN_SELLER|Opencell",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"code\" : \"{{request.label.1}}\",\r\n\t\"description\" : \"{{request.label.2}}\",\r\n    \"currencyCode\": \"EUR\",\r\n    \"countryCode\": \"FR\",\r\n    \"languageCode\": \"ENG\",\r\n    \"address\": {\r\n        \"address1\": \"14 rue Crespin du Gast\",\r\n        \"address2\": \"Esc. A\",\r\n        \"address3\": null,\r\n        \"zipCode\": \"75011\",\r\n        \"city\": \"PARIS\",\r\n        \"country\": \"FR\",\r\n        \"state\": null\r\n    },\r\n    \"contactInformation\": {\r\n        \"email\": \"billing@opencellsoft.com\",\r\n        \"phone\": \"0123456789\",\r\n        \"mobile\": \"0678912345\",\r\n        \"fax\": null\r\n    }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "S|S_LVL1|Seller level 1|MAIN_SELLER",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Proxy-Authorization",
																"value": "{{proxy.auth}}"
															},
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"code\" : \"{{request.label.1}}\",\n\t\"description\" : \"{{request.label.2}}\",\n\t\"parentSeller\" : \"{{request.label.3}}\",\n\t\"currencyCode\" : \"EUR\",\n\t\"countryCode\" : \"FR\",\n\t\"languageCode\" : \"FRA\",\n    \"contactInformation\": null,\n    \"address\": {\n        \"address1\": \"52 rue Klber\",\n        \"address2\": null,\n        \"address3\": null,\n        \"zipCode\": \"92300\",\n        \"city\": \"Levallois-Perret\",\n        \"country\": \"FR\",\n        \"state\": null\n    },\n    \"invoiceTypeSequences\": {\n        \"COM\": {\n            \"prefixEL\": \"{{request.label.1}}\",\n            \"sequenceSize\": 6\n        }\n    },\n    \"customFields\": { \"customField\": []}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "S|S_LVL2|Seller level 2|S_LVL1",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"code\" : \"{{request.label.1}}\",\n\t\"description\" : \"{{request.label.2}}\",\n\t\"parentSeller\" : \"{{request.label.3}}\",\n\t\"currencyCode\" : \"EUR\",\n\t\"countryCode\" : \"FR\",\n\t\"languageCode\" : \"FRA\",\n    \"contactInformation\": null,\n    \"registrationNo\": \"REG999999999\",\n    \"vatNo\": \"VAT999999999\",\n    \"address\": {\n        \"address1\": \"52 rue Klber\",\n        \"address2\": null,\n        \"address3\": null,\n        \"zipCode\": \"92300\",\n        \"city\": \"Levallois-Perret\",\n        \"country\": \"FR\",\n        \"state\": null\n    },\n    \"customFields\": { \"customField\": []}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "CFT|code=CF_PROV_MATRIX_MULTI|target=Provider|type=MULTI_VALUE|storage=MATRIX",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{testCode}}\",\n    \"description\": \"Custom field {{storage}} of {{inputType}} on {{target}}\",\n    \"languageDescriptions\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"[fr] Champ personnalis {{storage}} de {{inputType}} sur {{target}}\"\n        },\n        {\n            \"languageCode\": \"ENG\",\n            \"description\": \"[en] Custom field {{storage}} of {{inputType}} on {{target}}\"\n        }\n    ],\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"useInheritedAsDefaultValue\": false,\n    \"storageType\": \"{{storage}}\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n\t\"guiPosition\": \"tab:CustomTab|ENG=CustomTab(en)|FRA=CustomTab(fr):0;fieldGroup:CustomGroup|ENG=CustomGroup(en)|FRA=CustomGroup(fr):0;field:0\",\n    \"applicableOnEl\": \"#{ true }\",\n    \"matrixColumn\": [\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 1,\n            \"code\": \"inputString\",\n            \"label\": \"Input string\",\n            \"keyType\": \"STRING\"\n        },\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 2,\n            \"code\": \"inputRON\",\n            \"label\": \"Input RON\",\n            \"keyType\": \"RON\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 1,\n            \"code\": \"outputLong\",\n            \"label\": \"Output long\",\n            \"keyType\": \"LONG\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 2,\n            \"code\": \"outputDouble\",\n            \"label\": \"Output double\",\n            \"keyType\": \"DOUBLE\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 3,\n            \"code\": \"outputString\",\n            \"label\": \"Output string\",\n            \"keyType\": \"STRING\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "providerCF|code=CF_PROV_MATRIX_MULTI",
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"customFields\": {\n        \"customField\": [\n                {\n                    \"code\": \"{{testCode}}\",\n                    \"mapValue\": {\n                        \"AAA|<0.0\": {\n                            \"value\": \"0|0.0|Zero\"\n                        },\n                        \"AAA|0.0<111.1\": {\n                            \"value\": \"1|1.1|One\"\n                        },\n                        \"AAA|111.1<\": {\n                            \"value\": \"2|2.2|Two\"\n                        },\n                        \"BBB|0.0<111.1\": {\n                            \"value\": \"3|3.3|Three\"\n                        },\n                        \"BBB|111.1<\": {\n                            \"value\": \"4|4.4|Four\"\n                        }\n                    }\n                }\n        ]\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/provider/updateProviderCF",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"updateProviderCF"
													]
												}
											},
											"response": []
										},
										{
											"name": "Update Provider",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{provider.code}}\",\n    \"description\": \"{{template.label}}\",\n    \"enterprise\": \"true\",\n    \"rounding\": 6,\n    \"roundingMode\": \"NEAREST\",\n    \"invoiceRounding\": 2,\n    \"invoiceRoundingMode\": \"NEAREST\",\n    \"invoiceConfiguration\": {\n        \"displaySubscriptions\": \"true\",\n        \"displayServices\": \"true\",\n        \"displayOffers\": \"true\",\n        \"displayEdrs\": \"true\",\n        \"displayProvider\": \"true\",\n        \"displayCfAsXML\": \"true\",\n        \"displayPricePlans\": \"true\",\n        \"displayDetail\": \"true\",\n        \"displayChargesPeriods\": \"true\",\n        \"displayFreeTransacInInvoice\": \"true\",\n        \"displayBillingCycle\": \"true\",\n        \"displayOrders\": \"true\"\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/provider/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CF_PROV_PROJECT_VERSION",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "a5cdcc22-3886-43ac-ab1f-7c92f205a9b9",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label}}_{{$timestamp}}\",\r\n    \"description\": \"{{project.code}} {{project.type}} {{project.version}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"Provider\",\r\n    \"defaultValue\": \"{{timestamp.iso}}\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false,\r\n    \"guiPosition\": \"tab:Project versions:999\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Calendars",
									"item": [
										{
											"name": "CAL_PERIOD_MONTHLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_YEARLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 12,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_DAILY_ONCE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 1\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 5,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 2,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_MONTHLY_1ST",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "6ae86e1f-35bb-4b5b-a576-e5a30317c073",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"1st of the month\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n  {\n    \"day\": \"1\",\n    \"month\": \"JANUARY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"FEBRUARY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"MARCH\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"APRIL\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"MAY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"JUNE\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"JULY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"AUGUST\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"SEPTEMBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"OCTOBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"NOVEMBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"DECEMBER\"\n  }\n  ]\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 5,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 2,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Billing cycles",
									"item": [
										{
											"name": "BC_PERIOD_DAILY_ONCE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"One day period, only once\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"0\",\n  \"invoicingThreshold\": 0.01,\n  \"calendar\": \"CAL_PERIOD_DAILY_ONCE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "BC_MONTHLY_1ST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"Monthly 1st\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"1\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"CAL_MONTHLY_1ST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "BC_MONTHLY_PERIOD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"Monthly period\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"2\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"CAL_PERIOD_MONTHLY\",\n  \"referenceDate\": \"NEXT_INVOICE_DATE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Taxes",
									"item": [
										{
											"name": "Tax rates",
											"item": [
												{
													"name": "tax|code=TAX_20|desc=VAT 20%|percentage=20|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "7a3b04ea-0ecd-4cb0-86ef-8fa4bf8bbd07",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=TAX_10|desc=VAT 10%|percentage=10|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "bbe3b993-6c0b-4936-8c27-23f985836512",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=NO_TAX|desc=No tax|percentage=0|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "4646fa3e-d9b6-48f7-9772-16dca472dad8",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax categories (account)",
											"item": [
												{
													"name": "taxCat|code=REGULAR|desc=Regular accounts",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "50ea6825-e2b9-4b59-a23e-b91d9d08ea59",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxCat|code=EXEMPTED|desc=Exempted accounts",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "65023687-357a-4e1e-94c2-31e521f8b247",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax classes (charge)",
											"item": [
												{
													"name": "taxClass|code=NORMAL|desc=Product with normal tax",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "bc3d00aa-820f-4e5c-8c0b-e39a36b907c1",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=REDUCED|desc=Products with reduced tax",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "ab5d12b9-440d-40c4-bd15-23582f6da69c",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=NO_TAX|desc=Products with no VAT",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "5ebf603f-cbe0-4d63-b5bf-da2cd76e7a45",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax mapping",
											"item": [
												{
													"name": "taxMapping|priority=100|taxCat=EXEMPTED|taxClass=|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "92b66078-bdfe-4556-a3d2-887eb004da14",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=20|taxCat=REGULAR|taxClass=NO_TAX|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "eaed8cea-d722-405d-be1a-be6755bcf305",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=1|taxCat=REGULAR|taxClass=NORMAL|buyer=|tax=TAX_20",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "29475afd-6f7d-4867-a607-15418f9d736b",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=2|taxCat=REGULAR|taxClass=REDUCED|buyer=|tax=TAX_10",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "864d5ee9-1e6d-4fcc-b766-0cfafe2796d0",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=10|taxCat=REGULAR|taxClass=NORMAL|buyer=US|tax=TAX_10",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "59ad2685-d7ae-4a13-ac28-0d0c29a1afda",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Account",
									"item": [
										{
											"name": "title|code=MR|desc=Mr",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"isCompany\": \"false\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/account/title/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"title",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "custCat|code=CLIENT|taxCat=REGULAR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"Client\",\r\n    \"taxCategoryCode\": \"{{taxCat}}\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/account/customer/createOrUpdateCategory",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"customer",
														"createOrUpdateCategory"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Invoice",
									"item": [
										{
											"name": "Invoice Categories",
											"item": [
												{
													"name": "ICAT_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_PRD\",\n  \"description\": \"Product category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_PRD\",\n  \"description\": \"Product sub-category\",\n  \"invoiceCategory\": \"ICAT_PRD\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_REC",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_REC\",\n  \"description\": \"Recurring category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_REC",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_REC\",\n  \"description\": \"Recurring default sub-category\",\n  \"invoiceCategory\": \"ICAT_REC\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_OSH",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_OSH\",\n  \"description\": \"One shot category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OSS",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OSS\",\n  \"description\": \"Oneshot Subscription sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OST",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OST\",\n  \"description\": \"Oneshot Termination sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OSO",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OSO\",\n  \"description\": \"Oneshot Other sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_USG",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_USG\",\n  \"description\": \"Usage category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_USG",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_USG\",\n  \"description\": \"Usage default sub-category\",\n  \"invoiceCategory\": \"ICAT_USG\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "invoiceType|code=COM|desc=Invoice",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\": \"{{code}}\",\r\n  \"description\": \"{{desc}}\",\r\n  \"occTemplateCode\": \"INV_STD\",\r\n  \"occTemplateNegativeCode\": null,\r\n  \"billingTemplateName\": \"default\",\r\n  \"sequenceDto\": {\r\n    \"prefixEL\": \"#{invoice.invoiceType.code}-{{template.code}}-#{invoice.seller.code}-#{mv:formatDate(invoice.getInvoiceDate(),'yyyyMMdd')}-\",\r\n    \"sequenceSize\": 4,\r\n    \"currentInvoiceNb\":null\r\n  },\r\n  \"xmlFilenameEL\": \"XML_#{invoice.billingAccount.code}_#{invoice.invoiceNumber}\",\r\n  \"pdfFilenameEL\": \"PDF_#{invoice.billingAccount.code}_#{invoice.invoiceNumber}\",\r\n  \"sellerSequence\": null,\r\n  \"appliesTo\": [\r\n    \"COM\",\r\n    \"ADJ\"\r\n  ],\r\n  \"matchingAuto\": false,\r\n  \"useSelfSequence\": true\r\n}\r\n",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/invoiceType/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"invoiceType",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Termination reasons",
									"item": [
										{
											"name": "TR_NONE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"TR_NONE\",\n\t\"description\": \"Termination with no action (no fees, no reimbursment)\",\n\t\"applyAgreement\": false,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": false,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_AGREEMENT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"TR_AGREEMENT\",\n\t\"description\": \"Termination with Charge Agreement\",\n\t\"applyAgreement\": true,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": false,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_REIMBURSE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Termination with Reimbursment\",\n    \"applyAgreement\": false,\n    \"applyReimbursment\": true,\n    \"applyTerminationCharges\": false,\n    \"reimburseOneshots\": true,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_FEE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{request.label}}\",\n\t\"description\": \"Termination fee\",\n\t\"applyAgreement\": false,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": true,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Notifications",
									"item": [
										{
											"name": "SCRIPT|CreateAccess|Creates an access on Subscription creation",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b5653ead-f599-4db0-aab4-4fd4dc164b36",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.admin.User;\r\nimport org.meveo.model.billing.Subscription;\r\nimport org.meveo.model.mediation.Access;\r\n\r\nimport org.meveo.service.medina.impl.AccessService;\r\nimport org.meveo.service.script.Script;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class CreateAccess extends Script {    \r\n    private static final Logger log = LoggerFactory.getLogger(CreateAccess.class);        \r\n\r\n    private AccessService accessService = (AccessService) getServiceInterface(\"AccessService\");\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context={}\", context);\r\n\r\n        Subscription subscription = (Subscription) context.get(\"entity\");\r\n        if(subscription == null){\r\n            throw new BusinessException(\"subscription is null\");\r\n        }\r\n        log.debug(\"subscription={}\", subscription);\r\n\r\n        Access access = new Access();\r\n        access.setSubscription(subscription);\r\n        access.setAccessUserId(subscription.getCode());\r\n        access.setStartDate(null);\r\n        access.setEndDate(null);\r\n        accessService.create(access);\r\n    }\r\n}]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "notifSubscriptionCreate",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"updatedCode\": null,\r\n    \"code\": \"subscriptionCreate\",\r\n    \"classNameFilter\": \"org.meveo.model.billing.Subscription\",\r\n    \"eventTypeFilter\": \"CREATED\",\r\n    \"elFilter\": \"\",\r\n    \"scriptInstanceCode\": \"org.meveo.service.script.CreateAccess\",\r\n    \"scriptParams\": {\r\n      \"entity\": \"#{event}\"\r\n    },\r\n    \"counterTemplate\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/notification/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"notification",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Channels",
									"item": [
										{
											"name": "chan|code=PHONE|desc=Telephone",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=EMAIL|desc=E-mail",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=WEB|desc=Online store",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=RETAIL|desc=Retail store",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "aggregationMatrix",
									"item": [
										{
											"name": "CF WalletOperation",
											"item": [
												{
													"name": "cf_wo_option_tarifaire_fournisseur",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "d31ae131-8424-473c-a616-d0c3f4697ba8",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label}}\",\r\n    \"description\": \"option tarifaire fournisseur\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"WalletOperation\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_wo_id_operation_de_traitement",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "3fbaee31-1b14-4689-976c-9077ec32b15d",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label}}\",\r\n    \"description\": \"operation de traitement\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"WalletOperation\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_wo_niveau_elec_verte|niveau elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "d44d9012-f3ed-4353-abc7-343da3018e76",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"WalletOperation\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_wo_origine_elec_verte|origine elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "a9646936-5669-48ec-8807-6e99a8cb6d3d",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"WalletOperation\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_wo_techno_elec_verte|Techno elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "1cd0ae93-8bf4-4df1-be53-6fcdcb09ba90",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"WalletOperation\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "CF RatedTransaction",
											"item": [
												{
													"name": "cf_rt_niveau_elec_verte|niveau elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "0a725cff-d83b-4e46-87a5-ef59b216a26f",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"RatedTransaction\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_rt_origine_elec_verte|origine elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "8e14346f-afee-4f43-b69c-0bc56fb3da5e",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"RatedTransaction\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "cf_rt_techno_elec_verte|Techno elec verte",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "f58faa5e-64ea-4a05-ab60-81134a20d47a",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{request.label.0}}\",\r\n    \"description\": \"{{request.label.1}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"RatedTransaction\",\r\n    \"defaultValue\": \"\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false\r\n}\r\n"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "aggregation ABO ENErGIE",
											"item": [
												{
													"name": "Create|WalletOperationAggregationSettings|code=aggreg_abo_energie",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "fd2424ae-5e27-4db2-9b22-654bcd1c3e54",
																"exec": [
																	"\r",
																	"var jsonData = pm.response.json();\r",
																	"pm.globals.set(\"aggregationId\", jsonData.id);\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\":\"{{code}}\",\r\n    \"globalAggregation\":false,\r\n    \"periodAggregation\":true,\r\n    \"periodEndDateIncluded\":false,\r\n    \"aggregationRounding\":1,\r\n    \"aggregationRoundingMode\":\"NEAREST\",\r\n    \"additionalOrderBy\":\"id\"\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=invoiceSubCategory|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=tax|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=taxClass|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=amountWithoutTax|action=SUM|value=|alias=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"groupBy\":\"SIGN\",\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=amountWithTax|action=SUM|value=|alias=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"groupBy\":\"SIGN\",\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=amountTax|action=SUM|value=|alias=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"groupBy\":\"SIGN\",\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=edr|action=EMPTY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":true,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=unitAmountWithoutTax|action=AVG|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=unitAmountWithTax|action=AVG|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=unitAmountTax|action=AVG|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=code|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=cf_wo_option_tarifaire_fournisseur|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"customField\":true,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=cf_wo_id_operation_de_traitement|action=KEY|value=|alias=parameter1",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"customField\":true,\r\n    \"alias\":\"parameter1\",\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=endDate|action=MAX|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=startDate|action=MIN|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=operationDate|action=MIN|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=seller|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create|WalletOperationAggregationLine|field=subscription.userAccount.billingAccount|action=KEY|value=",
													"request": {
														"method": "POST",
														"header": [],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"field\":\"{{field}}\",\r\n    \"action\":\"{{action}}\",\r\n    \"value\":\"{{value}}\",\r\n    \"required\":false,\r\n    \"aggregationSettings\":{\r\n        \"id\":{{aggregationId}}\r\n    }\r\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{opencell.url}}/v2/generic/{{request.label.1}}",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"v2",
																"generic",
																"{{request.label.1}}"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Filters",
									"item": [],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Catalog",
							"item": [
								{
									"name": "Rating scripts",
									"item": [
										{
											"name": "SCRIPT|LogContext|Logs the context",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "711b89ac-c7d8-4119-a828-62ac5d7cd873",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Map;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class LogContext extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogContext.class);\r\n    \r\n    @Override\r\n    public void execute(Map<String, Object> context) {\r\n        log.trace(\"EXECUTE context {}\", context);\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|code=ThrowException|desc=Throws an exception with WO content",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "a169610c-0b1e-49f5-8af0-b4ec83e24bf1",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{code}}</code>\r\n        <description>{{desc}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\n\r\n/**\r\n * A Rating Script that throws an exception with WO content\r\n * @author schambrin\r\n */\r\npublic class ThrowException extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ThrowException.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context {}\", context);\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n\t\tString msg = \"WalletOperation {\"\r\n\t\t\t+\"code:\"+wo.getCode()+\", \"\r\n\t\t\t+\"description:\"+wo.getDescription()+\", \"\r\n\t\t\t+\"operationDate:\"+wo.getOperationDate()+\", \"\r\n\t\t\t+\"amountWithoutTax:\"+wo.getAmountWithoutTax()+\", \"\r\n\t\t\t+\"tax:\"+wo.getTax()+\", \"\r\n\t\t\t+\"tax_percent:\"+wo.getTaxPercent()\r\n\t\t\t+\"}\";\r\n        log.error(msg);\r\n        throw new BusinessException(msg);\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|InfiniteLoop|Locks into an infinite loop",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4d560d2f-4562-4ddb-8648-e8e6ac14afee",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Map;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class InfiniteLoop extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(InfiniteLoop.class);\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> context) {\r\n        log.debug(\"EXECUTE context {}\", context);\r\n        log.info(\"CONTEXT_ENTITY={}\", context.get(Script.CONTEXT_ENTITY));\r\n        try {\r\n            while (true) {\r\n                log.trace(\"[RATING] Sleeping 5s...\");\r\n                Thread.sleep(5000);\r\n            }\r\n        } catch (java.lang.InterruptedException e) {\r\n            log.warn(\"Interrupted !!!\");\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.RatingSetTax|Forces tax on WO",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0f305ffe-0523-4ffa-a704-8f1dedf1bc12",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * A Rating Script to force a tax\r\n * @author schambrin\r\n */\r\npublic class RatingSetTax extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(RatingSetTax.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context {}\", context);\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"edr.taxCode={}\",wo.getEdr().getParameter5());\r\n            Tax tax = taxService.findByCode(wo.getEdr().getParameter5());\r\n            \r\n            if( tax != null){\r\n                log.info(\"override tax={}\", tax);\r\n                wo.setTax(tax);\r\n                wo.setTaxPercent(tax.getPercent());\r\n                ratingService.calculateAmounts(wo,wo.getUnitAmountWithoutTax(),null);\r\n            }\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.LogWalletOperation|Logs the WalletOperation",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "601809e3-1afe-47f1-87ca-9639939fe22c",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.dto.billing.WalletOperationDto;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * Logs the WalletOperation\r\n * @author schambrin\r\n */\r\npublic class LogWalletOperation extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogWalletOperation.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"wo={}\",new WalletOperationDto(wo));\r\n        \tlog.info(\"wo.tax={}\", wo.getTax());\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.RatingError|Throws an error if parameter2 is ERROR",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0e40c40a-048f-4943-b29c-6f43042acaee",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\n\r\n/**\r\n * A Rating Script that throws an exception if param2 is ERROR\r\n * takes param3 as error message\r\n * @author schambrin\r\n */\r\npublic class RatingError extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(RatingError.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        // log.info(\"EXECUTE context {}\", context);\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        if( \"ERROR\".equals(wo.getParameter2()) ){\r\n            // log.error(\"message: {}\",wo.getParameter3());\r\n            throw new BusinessException(wo.getParameter3());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "OfferTemplateCategory",
									"item": [
										{
											"name": "ocat|code=OCAT_ROOT|parent=",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"Offer category {{code}}\",\n    \"disabled\": false,\n    \"name\": \"OCat {{code}}\",\n    \"offerTemplateCategoryCode\": \"{{parent}}\",\n    \"active\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplateCategory/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplateCategory",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "ocat|code=OCAT_CHILD|parent=OCAT_ROOT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"Offer category {{code}}\",\n    \"disabled\": false,\n    \"name\": \"OCat {{code}}\",\n    \"offerTemplateCategoryCode\": \"{{parent}}\",\n    \"active\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplateCategory/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplateCategory",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Custom Fields",
									"item": [
										{
											"name": "Service",
											"item": [
												{
													"name": "CF_SE_DOUBLE (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE\",\n    \"description\": \"A double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"1.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE\",\n    \"description\": \"A double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"useInheritedAsDefaultValue\": false,\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"2.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE_VERSION (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE_VERSION\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"1.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE_VERSION (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE_VERSION\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"useInheritedAsDefaultValue\": true,\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"2.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING_TEMPLATE_ONLY (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING_TEMPLATE_ONLY\",\n    \"description\": \"A String on service template only\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"from service template\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING_INSTANCE_ONLY (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING_INSTANCE_ONLY\",\n    \"description\": \"A String on service instance only\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"from service instance\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING\",\n    \"description\": \"A String from service template\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"from service template\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING\",\n    \"description\": \"A String from service instance\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"from service instance\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_TIER_PRICE (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_TIER_PRICE\",\n    \"description\": \"Tiered pricing\",\n    \"languageDescriptions\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"Tarif par tranches\"\n        },\n        {\n            \"languageCode\": \"ENG\",\n            \"description\": \"Tiered pricing\"\n        }\n    ],\n    \"fieldType\": \"MULTI_VALUE\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"useInheritedAsDefaultValue\": true,\n    \"storageType\": \"MATRIX\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n\t\"guiPosition\": \"tab:Pricing|ENG=Pricing|FRA=Tarification:0;fieldGroup:Price|ENG=Price|FRA=Prix:0;field:40\",\n    \"applicableOnEl\": \"#{ true }\",\n    \"matrixColumn\": [\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 1,\n            \"code\": \"tier\",\n            \"label\": \"Tier\",\n            \"keyType\": \"STRING\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 1,\n            \"code\": \"volume\",\n            \"label\": \"Volume\",\n            \"keyType\": \"LONG\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 2,\n            \"code\": \"price\",\n            \"label\": \"Price\",\n            \"keyType\": \"DOUBLE\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 3,\n            \"code\": \"label\",\n            \"label\": \"Label\",\n            \"keyType\": \"STRING\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CFT|code=CF_SE_MAP_RON_DOUBLE|target=ServiceTemplate|type=DOUBLE|storage=MAP|desc=Map [RON]=Double",
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"fieldType\": \"{{type}}\",\r\n    \"appliesTo\": \"{{target}}\",\r\n    \"defaultValue\": 1.0,\r\n    \"storageType\": \"{{storage}}\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"triggerEndPeriodEvent\": false,\r\n    \"calendar\": null,\r\n    \"cacheValueTimeperiod\": null,\r\n    \"entityClazz\": null,\r\n    \"listValues\": null,\r\n    \"allowEdit\": true,\r\n    \"hideOnNew\": false,\r\n    \"maxValue\": null,\r\n    \"minValue\": null,\r\n    \"regExp\": null,\r\n    \"cacheValue\": false,\r\n    \"mapKeyType\": \"RON\",\r\n    \"applicableOnEl\": null,\r\n    \"indexType\": null,\r\n    \"matrixColumn\": null,\r\n    \"fieldCode\": null,\r\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\r\n  }"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CFT|code=CF_SE_MAP_RON_DOUBLE|target=ServiceInstance|type=DOUBLE|storage=MAP|desc=Map [RON]=Double",
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"fieldType\": \"{{type}}\",\r\n    \"appliesTo\": \"{{target}}\",\r\n    \"defaultValue\": null,\r\n    \"storageType\": \"{{storage}}\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"triggerEndPeriodEvent\": false,\r\n    \"calendar\": null,\r\n    \"cacheValueTimeperiod\": null,\r\n    \"entityClazz\": null,\r\n    \"listValues\": null,\r\n    \"allowEdit\": true,\r\n    \"hideOnNew\": false,\r\n    \"maxValue\": null,\r\n    \"minValue\": null,\r\n    \"regExp\": null,\r\n    \"cacheValue\": false,\r\n    \"mapKeyType\": \"RON\",\r\n    \"applicableOnEl\": null,\r\n    \"indexType\": null,\r\n    \"matrixColumn\": null,\r\n    \"fieldCode\": null,\r\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\r\n  }"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "OfferTemplate",
											"item": [
												{
													"name": "CF|code=CF_OF_STRING|target=OfferTemplate|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"A {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "ProductTemplate",
											"item": [
												{
													"name": "CF|code=CF_PR_STRING|target=ProductTemplate|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"A {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Counters",
									"item": [
										{
											"name": "counter|CN_USG_COUNTER_3|Counter 3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\" : \"{{request.label.1}}\",\r\n  \"description\" : \"{{request.label.2}}\",\r\n  \"calendar\": \"CAL_MONTHLY_1ST\",\r\n  \"unity\": null,\r\n  \"type\": \"USAGE\",\r\n  \"ceiling\": 100,\r\n  \"disabled\": false,\r\n  \"counterLevel\": \"SI\",\r\n  \"ceilingExpressionEl\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|CN_USG_COUNTER_4|Counter 4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\" : \"{{request.label.1}}\",\r\n  \"description\" : \"{{request.label.2}}\",\r\n  \"calendar\": \"CAL_MONTHLY_1ST\",\r\n  \"unity\": null,\r\n  \"type\": \"USAGE\",\r\n  \"ceiling\": 100,\r\n  \"disabled\": false,\r\n  \"counterLevel\": \"SI\",\r\n  \"ceilingExpressionEl\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_USG_ACCUM_C|type=USAGE|target=CUST|calendar=CAL_MONTHLY_1ST|desc=Accumulates quantities on the Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_EUR_ACCUM_C|type=USAGE_AMOUNT|target=CUST|calendar=CAL_MONTHLY_1ST|desc=Accumulates amounts on the Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_MULTI_ACCUM_C|type=MULTI_VALUE|target=CUST|calendar=MONTHLY|desc=Accumulates quantity for Param2 on Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"USAGE\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true,\n    \"accumulatorType\": \"{{type}}\",\n    \"filterEl\": \"#{ true }\",\n    \"keyEl\": \"#{ op.parameter2 }\",\n    \"valueEl\": \"#{ op.quantity }\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Charges",
									"item": [
										{
											"name": "CH_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_PRD\",\n    \"description\": \"Product\",\n    \"invoiceSubCategory\": \"ISCAT_PRD\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalogManagement/productChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalogManagement",
														"productChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_2MONTHS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_DAILY\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_MONTHLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_MONTHLY\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ARR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_REC_ARR\",\n    \"description\": \"Recurring charge ARREAR\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": false,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_2DAYS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT|Charge unit 1",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{request.label.2}}\",\n    \"invoiceSubCategory\": \"ISCAT_USG\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"UNIT\",\n    \"priority\": 10\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_2|Charge unit 2",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit2\",\r\n    \"ratingUnitDescription\": \"unit2\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT2\",\r\n    \"triggerNextCharge\": true,\r\n    \"priority\": 20\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_2_bis|Charge unit 2 bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit2\",\r\n    \"ratingUnitDescription\": \"unit2\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT2\",\r\n    \"triggerNextCharge\": true,\r\n    \"priority\": 21\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_3|Charge unit 3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit3\",\r\n    \"ratingUnitDescription\": \"unit3\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT3\",\r\n    \"priority\": 30\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_3_bis|Charge unit 3 bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit3\",\r\n    \"ratingUnitDescription\": \"unit3\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT3\",\r\n    \"priority\": 31\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_4|Charge unit 4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit4\",\r\n    \"ratingUnitDescription\": \"unit4\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT4\",\r\n    \"priority\": 40\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH|code=USG_RON|desc=Charge RON",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.0}}_{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"invoiceSubCategory\": \"ISCAT_USG\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"RON\",\n    \"priority\": 10\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_5MONTHS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_5DAYS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OSS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Subscription\",\n    \"oneShotChargeTemplateType\": \"SUBSCRIPTION\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OSS\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Termination\",\n    \"oneShotChargeTemplateType\": \"TERMINATION\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OST\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OSO",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Other\",\n    \"oneShotChargeTemplateType\": \"OTHER\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OSO\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_REC_ADV\",\n    \"description\": \"Recurring charge ADVANCE\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "recurringCharge|CH_REC_ADV|true",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"Recurring charge ADVANCE\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ {{request.label.2}} }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Price Plans",
									"item": [
										{
											"name": "PP_REC_ADV",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_REC_ADV\",\n    \"eventCode\": \"CH_REC_ADV\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_OSS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_OSS\",\n    \"eventCode\": \"CH_OSS\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\",\n    \"scriptInstance\": null\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_OST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_OST\",\n    \"eventCode\": \"CH_OST\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\",\n    \"scriptInstance\": null\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_2MONTHS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_PRD\",\n    \"eventCode\": \"CH_PRD\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_5DAYS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_MONTHLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_MONTHLY\",\n    \"amountWithoutTax\": 100.123456789\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_DAILY\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ARR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_REC_ARR\",\n    \"eventCode\": \"CH_REC_ARR\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT\",\n    \"eventCode\": \"CH_USG_UNIT\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT 2",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_2\",\n    \"eventCode\": \"CH_USG_UNIT_2\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 2 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_2_bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_2_bis\",\n    \"eventCode\": \"CH_USG_UNIT_2_bis\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 2.5 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_3\",\n    \"eventCode\": \"CH_USG_UNIT_3\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 3 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_3_bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_3_bis\",\n    \"eventCode\": \"CH_USG_UNIT_3_bis\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 3.5 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_4\",\n    \"eventCode\": \"CH_USG_UNIT_4\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 4 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP|code=USG_RON",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.0}}_{{code}}\",\n    \"eventCode\": \"CH_{{code}}\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValueByKey(serviceInstance, 'CF_SE_MAP_RON_DOUBLE', op.quantity) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_5MONTHS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_2DAYS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Services",
									"item": [
										{
											"name": "RESET SERVICE LIST (DO NOT EDIT)",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "a04c4e17-baa4-4fd9-b38f-c8f76eee1f8c",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "HEAD",
												"header": [],
												"url": {
													"raw": "{{opencell.url}}/provider",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_OSS|desc=One-shot subscription service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "9403a02c-7ed9-49f9-92c8-e26cb4440eed",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": {\r\n      \"serviceChargeTemplateSubscription\": [\r\n        { \"code\": \"CH_OSS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												},
												"description": "Should stay first of the list (see script)"
											},
											"response": []
										},
										{
											"name": "SE|code=SE_OST|desc=One-shot termination service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "56b8b871-48a7-4416-8b67-e343e57a0441",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 15.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": {\r\n      \"serviceChargeTemplateSubscription\": [\r\n        { \"code\": \"CH_OST\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												},
												"description": "Should stay first of the list (see script)"
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV|desc=Recurring service ADVANCE",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "39bf81a9-dfed-4146-87a5-f96db96e6ed2",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_UNIT|desc=Unit usage service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "6d89e330-f48b-4a54-b3fd-c0ca7919906d",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_DOUBLE\",\n                \"doubleValue\": 3\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_UNIT\",\n                \"wallets\": null,\n                \"counterTemplate\": null,\n                \"accumulatorCounterTemplates\": {\n                \t\"counterTemplate\": [\n                \t\t\"CN_USG_ACCUM_C\",\n                \t\t\"CN_EUR_ACCUM_C\",\n                \t\t\"CN_MULTI_ACCUM_C\"\n                \t]\n                }\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_UNIT_2_3_4|desc=Unit usage service 2, 3, 4",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "619c0450-def5-4636-9135-b469f409ce94",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": {\r\n      \"serviceChargeTemplateUsage\": [\r\n        { \"code\": \"CH_USG_UNIT_2\" },\r\n        { \"code\": \"CH_USG_UNIT_2_bis\" },\r\n        { \"code\": \"CH_USG_UNIT_3\", \"counterTemplate\":\"CN_USG_COUNTER_3\" },\r\n        { \"code\": \"CH_USG_UNIT_3_bis\" },\r\n        { \"code\": \"CH_USG_UNIT_4\", \"counterTemplate\":\"CN_USG_COUNTER_4\" }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_RON|desc=RON usage service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "d872adec-feb8-43d4-8e65-d9e716f05934",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_MAP_RON_DOUBLE\",\n                \"mapValue\": {\n\"0<10\":   { \"value\": 2.0 },\n\"10<100\": { \"value\": 3.0 },\n\"100<\":   { \"value\": 4.0 }\n                }\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_RON\",\n                \"wallets\": null,\n                \"counterTemplate\": null\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ARR|desc=Recurring service ARREAR",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "8154eaac-d25b-425f-a63c-0e9a02ad3661",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ARR\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIODS_DAY|desc=Recurring service ADVANCE DAY PERIODS",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "1f268019-9d63-4ca1-8bd4-2d2aad22aefd",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_DAILY\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_2DAYS\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_5DAYS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIODS_MONTH|desc=Recurring service ADVANCE MONTH PERIODS",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "da27d81f-d9d4-452f-887b-5495fb593b67",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_MONTHLY\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_2MONTHS\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_5MONTHS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIOD_DAILY|desc=Recurring service ADVANCE DAILY",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "0fb30956-29ab-4c2a-a2b8-179fb6f0124e",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_DAILY\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"id": "9281961c-e1c7-4ef3-88d0-b571d5987b4e",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"id": "d70b9897-e7e4-41b6-ba87-034941f31c13",
												"exec": [
													"var services;",
													"var serviceCode;",
													"if(pm.info.requestName==='RESET SERVICE LIST (DO NOT EDIT)') {",
													"    services = \"\";",
													"} else {",
													"    services = pm.globals.get(\"offer.services\");",
													"    serviceCode = pm.globals.get(\"code\");",
													"    if(services === \"\") {",
													"        services = '{\"serviceTemplate\":{\"code\":\"'+serviceCode+'\",\"customFields\":null},\"mandatory\":false,\"incompatibleServiceTemplate\":[]}';",
													"    } else {",
													"        services += '\\n,{\"serviceTemplate\":{\"code\":\"'+serviceCode+'\",\"customFields\":null},\"mandatory\":false,\"incompatibleServiceTemplate\":[]}';",
													"    }",
													"}",
													"",
													"pm.globals.set(\"offer.services\", services);",
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Products and Bundles",
									"item": [
										{
											"name": "PR_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\": \"PR_PRD\",\r\n  \"description\": \"Product\",\r\n  \"name\": \"A product has no name (or has it)\",\r\n  \"validFrom\": null,\r\n  \"validTo\": null,\r\n  \"lifeCycleStatus\": \"ACTIVE\",\r\n  \"customFields\": null,\r\n  \"imageBase64\": null,\r\n  \"businessProductModel\": null,\r\n  \"offerTemplateCategory\": null,\r\n  \"productChargeTemplate\": [ { \"code\": \"CH_PRD\" } ],\r\n  \"walletTemplate\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalogManagement/productTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalogManagement",
														"productTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Offers",
									"item": [
										{
											"name": "OF|code=OF",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{template.label}} offer {{$timestamp}}\",\n    \"disabled\": false,\n    \"lifeCycleStatus\": \"ACTIVE\",\n    \"bomCode\": null,\n    \"offerTemplateCategoryCode\": null,\n    \"offerProductTemplate\": [\n        {\n            \"productTemplate\": {\n                \"code\": \"PR_PRD\"\n            }\n        }\n    ],\n    \"offerServiceTemplate\": [\n{{offer.services}}\n    ],\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_OF_STRING\",\n                \"stringValue\": \"From OfferTemplate {{code}}\"\n            }\n        ]\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "OF|code=OF_EMPTY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\":\"{{code}}\",\r\n    \"description\":\"{{template.label}} empty offer {{$timestamp}}\",\r\n    \"disabled\":false,\r\n    \"lifeCycleStatus\":\"ACTIVE\",\r\n    \"bomCode\":null,\r\n    \"offerTemplateCategoryCode\":null,\r\n    \"offerProductTemplate\": null,\r\n    \"offerServiceTemplate\":null,\r\n    \"customFields\": {\r\n    \t\"customField\": [\r\n    \t\t{\r\n    \t\t\t\"code\": \"CF_OF_STRING\",\r\n    \t\t\t\"stringValue\": \"From OfferTemplate {{code}}\"\r\n    \t\t}\r\n    \t]\r\n    }\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "BxM",
									"item": [
										{
											"name": "BSM",
											"item": [
												{
													"name": "BSM_OSS",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"BSM_OSS\",\r\n    \"description\": \"BSM Subscription fee\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"SE_OSS\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "BSM_REC_ADV",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"BSM_REC_ADV\",\r\n    \"description\": \"BSM Recurring Advance\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"SE_REC_ADV\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bsm|code=BSM_USG_UNIT|desc=BSM unit usage|service=SE_USG_UNIT",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"{{service}}\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "BPM",
											"item": [
												{
													"name": "bpm|code=BPM_PRD|desc=BPM product|target=PR_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"license\": \"COM\",\r\n    \"productTemplate\": { \"code\": \"{{target}}\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessProductModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessProductModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "BOM",
											"item": [
												{
													"name": "bom|code=BOM_SERVICE|desc=BOM based on offer OF|offer=OF",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": { \"code\": \"{{offer}}\" },\n\t\"moduleItems\": null\n}\n\n"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|install|code=BOM_SERVICE",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|code=BOM_BSM|desc=BOM with BSMs|offer=OF_EMPTY",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": {\n        \"code\": \"{{offer}}\"\n    },\n    \"moduleItems\": [\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_REC_ADV\"\n            }\n        },\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_USG_UNIT\"\n            }\n        },\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_OSS\"\n            }\n        },\n        {\n            \"businessProductModel\": {\n                \"code\": \"BPM_PRD\"\n            }\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|install|code=BOM_BSM",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|code=BOM_EMPTY|desc=BOM on an empty offer|offer=OF_EMPTY",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": {\n        \"code\": \"{{offer}}\"\n    },\n    \"moduleItems\": []\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "installBOM|code=BOM_EMPTY",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Discount plan",
									"item": [
										{
											"name": "Discount plan",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DP_DISCOUNT_PLAN\",\r\n    \"description\": \"Discount plan description\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "Discount plan item (percent 50%)",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DPI_DISCOUNT_PLAN_50P\",\r\n    \"discountPlanCode\": \"DP_DISCOUNT_PLAN\",\r\n    \"invoiceCategoryCode\": \"ICAT_OSH\",\r\n    \"invoiceSubCategoryCode\": \"ISCAT_OSO\",\r\n    \"accountingCode\": \"ACCT_CODE\",\r\n    \"expressionEl\": \"#{ true }\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"PERCENTAGE\",\r\n    \"discountValue\": 50,\r\n    \"discountValueEL\": \"#{ 50 }\",\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "Discount plan item (fixed 10)",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DPI_DISCOUNT_PLAN_10F\",\r\n    \"discountPlanCode\": \"DP_DISCOUNT_PLAN\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"FIXED\",\r\n    \"discountValue\": 10,\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlan|DP_FIXED_200",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Discount plan {{request.label.1}}\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlanItem|DP_FIXED_200|DPI_FIXED_200|FIXED|200",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.2}}\",\r\n    \"discountPlanCode\": \"{{request.label.1}}\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"{{request.label.3}}\",\r\n    \"discountValue\": {{request.label.4}},\r\n    \"discountValueEL\": \"#{amount}\",\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlan|DP_GLOBAL_10P",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Discount plan {{request.label.1}}\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlanItem|DP_GLOBAL_10P|DPI_GLOBAL_10P|PERCENTAGE|10",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.2}}\",\r\n    \"discountPlanCode\": \"{{request.label.1}}\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"{{request.label.3}}\",\r\n    \"discountValue\": {{request.label.4}},\r\n    \"discountValueEL\": null,\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Accounts",
					"item": [
						{
							"name": "Default",
							"item": [
								{
									"name": "C|Jean|Bonnot",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "c16295f5-dd5a-410f-b9a3-c86910650fcb",
												"exec": [
													"var parts = pm.variables.get(\"request.label\").split(\"|\");",
													"var index = pm.globals.get(\"index\");",
													"",
													"if (typeof index === 'undefined') {",
													"    console.log(\"index global variable is undefined -> setting to \\\"00\\\"\");",
													"    pm.globals.set(\"index\", \"00\");",
													"    index = \"00\";",
													"}",
													"",
													"var prefix = pm.variables.get(\"template.code\") + \"-\";",
													"var suffix = \" \" + prefix + index;",
													"",
													"switch (parts.length) {",
													"    case 1:",
													"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
													"        pm.globals.set(\"account.description\", parts[0] + suffix);",
													"        pm.globals.set(\"account.firstname\", \"\");",
													"        pm.globals.set(\"account.lastname\", \"\");",
													"        break;",
													"    case 2:",
													"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
													"        pm.globals.set(\"account.description\", parts[1] + suffix);",
													"        pm.globals.set(\"account.firstname\", \"\");",
													"        pm.globals.set(\"account.lastname\", \"\");",
													"        break;",
													"    case 3:",
													"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
													"        pm.globals.set(\"account.description\", parts[1] + \" \" + parts[2] + suffix);",
													"        pm.globals.set(\"account.firstname\", parts[1]);",
													"        pm.globals.set(\"account.lastname\", parts[2]);",
													"        break;",
													"    case 4:",
													"        pm.globals.set(\"account.code\", prefix + parts[0] + index);",
													"        pm.globals.set(\"account.description\", parts[1] + suffix);",
													"        pm.globals.set(\"account.firstname\", parts[2]);",
													"        pm.globals.set(\"account.lastname\", parts[3]);",
													"        break;",
													"}",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"crmAccountType\" : \"C_UA\",\r\n  \"crmParentCode\" : \"{{seller.code}}\",\r\n  \"code\" : \"{{account.code}}\",\r\n  \"description\": \"{{account.description}}\",\r\n  \"name\" : {\r\n    \"title\" : \"MR\",\r\n    \"firstName\" : \"{{account.firstname}}\",\r\n    \"lastName\" : \"{{account.lastname}}\"\r\n  },\r\n  \"subscriptionDate\": \"2018-01-10\",\r\n  \"jobTitle\": \"Ruler of the known Universe\",\r\n  \"vatNo\": \"FR12345678901234\",\r\n  \"registrationNo\": \"12354678901234\",\r\n  \"address\" : {\r\n    \"address1\" : \"3 rue passante\",\r\n    \"address2\" : \"Btiment A\",\r\n    \"address3\" : \"Bureau D42\",\r\n    \"zipCode\" : \"99999\",\r\n    \"city\" : \"METROVILLE\",\r\n    \"country\" : \"FR\"\r\n  },\r\n  \"contactInformation\" : {\r\n    \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n    \"mobile\" : \"+33123546789\"\r\n  },\r\n  \"email\" : \"stephane.chambrin@opencellsoft.com\",\r\n  \"language\" : \"FRA\",\r\n  \"paymentMethod\" : \"CHECK\",\r\n  \"customerCategory\" : \"CLIENT\",\r\n  \"currency\" : \"EUR\",\r\n  \"billingCycle\" : \"BC_MONTHLY_1ST\",\r\n  \"country\" : \"FR\",\r\n  \"electronicBilling\" : \"true\",\r\n  \"customFields\": null\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdateCRMAccountHierarchy",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"account",
												"accountHierarchy",
												"createOrUpdateCRMAccountHierarchy"
											]
										}
									},
									"response": []
								},
								{
									"name": "SU|OF|MAIN_SELLER|2019-12-15T01:23:45.678Z",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"id": "6f74ce9d-94ec-4a91-870a-dd802772d19c",
												"exec": [
													"pm.globals.set(\"subscription.code\", pm.globals.get(\"account.code\")+\"-\"+pm.globals.get(\"request.label.0\"));",
													"pm.globals.set(\"subscription.date\", pm.globals.get(\"request.label.3\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"code\": \"{{subscription.code}}\",\r\n    \"description\": \"Souscription {{subscription.code}}\",\r\n    \"userAccount\": \"{{account.code}}\",\r\n    \"offerTemplate\": \"{{request.label.1}}\",\r\n    \"seller\": \"{{request.label.2}}\",\r\n    \"subscriptionDate\": \"{{request.label.3}}\",\r\n    \"terminationDate\": null,\r\n    \"endAgreementDate\": \"2019-01-01\",\r\n    \"status\": null,\r\n    \"terminationReason\": null,\r\n    \"customFields\": null\r\n}\r\n"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "SU|OF|S_LVL2|2020-03-15T01:23:45.678Z",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"id": "fff84b83-f1fa-4c59-ae9c-d7858e6b39dc",
												"exec": [
													"pm.globals.set(\"subscription.code\", pm.globals.get(\"account.code\")+\"-\"+pm.globals.get(\"request.label.0\"));",
													"pm.globals.set(\"subscription.date\", pm.globals.get(\"request.label.3\"));",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"code\": \"{{subscription.code}}\",\r\n    \"description\": \"Souscription {{subscription.code}}\",\r\n    \"userAccount\": \"{{account.code}}\",\r\n    \"offerTemplate\": \"{{request.label.1}}\",\r\n    \"seller\": \"{{request.label.2}}\",\r\n    \"subscriptionDate\": \"{{request.label.3}}\",\r\n    \"terminationDate\": null,\r\n    \"endAgreementDate\": \"2019-01-01\",\r\n    \"status\": null,\r\n    \"terminationReason\": null,\r\n    \"customFields\": null\r\n}\r\n"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"createOrUpdate"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|SE_OSS|{{subscription.date}}",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{request.label.2}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 100\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|SE_OST|{{subscription.date}}",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{request.label.2}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 100\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|SE_REC_ADV|{{subscription.date}}",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"description\": \"SE_REC_ADV OVERRIDE\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{request.label.2}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 100.123456789\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|SE_USG_UNIT|{{subscription.date}}",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{request.label.2}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 0.30\r\n                },\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE_VERSION\",\r\n                    \"valuePeriodPriority\": 1,\r\n                    \"doubleValue\": 10\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "updatesServices|SE_USG_UNIT|{{subscription.date}}",
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscriptionCode\" : \"{{subscription.code}}\",\r\n  \"serviceToUpdate\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE_VERSION\",\r\n                    \"valuePeriodPriority\": 2,\r\n                    \"valuePeriodStartDate\": \"2020-04-19\",\r\n                    \"doubleValue\": 5\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/updateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"updateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|code=SE_USG_RON|date={{subscription.date}}",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{code}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{date}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n\t            {\r\n\t                \"code\": \"CF_SE_MAP_RON_DOUBLE\",\r\n\t                \"mapValue\": {\r\n\"0<10\":   { \"value\": 20.0 },\r\n\"10<100\": { \"value\": 30.0 },\r\n\"100<\":   { \"value\": 40.0 }\r\n\t                }\r\n\t            }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices REC ARR",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"SE_REC_ARR\",\r\n        \"description\": \"SE_REC_ARR OVERRIDE\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{subscription.date}}\",\r\n        \"rateUntilDate\": \"2019-03-16\",\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 10\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices REC PERIODS",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"SE_REC_ADV_PERIODS_MONTH\",\r\n        \"description\": \"SE_REC_ADV_PERIODS_MONTH OVERRIDE\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{subscription.date}}\",\r\n        \"rateUntilDate\": \"2018-01-31\",\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 100.00\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "activateServices|SE_USG_UNIT_2_3_4",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscription\" : \"{{subscription.code}}\",\r\n  \"servicesToActivate\" : {\r\n    \"service\" : [ {\r\n        \"code\": \"{{request.label.1}}\",\r\n        \"quantity\": 1,\r\n        \"subscriptionDate\": \"{{subscription.date}}\",\r\n        \"rateUntilDate\": null,\r\n        \"customFields\": {\r\n            \"customField\": [\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE\",\r\n                    \"doubleValue\": 0.33\r\n                },\r\n                {\r\n                    \"code\": \"CF_SE_DOUBLE_VERSION\",\r\n                    \"valuePeriodPriority\": 1,\r\n                    \"doubleValue\": 1\r\n                }\r\n            ]\r\n        }\r\n    } ]\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/activateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"activateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "setBillingAccountDiscountPlan|{{account.code}}|DP_FIXED_200",
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{account.description}} [{{$timestamp}}]\",\n\t\"billingCycle\" : \"BC_MONTHLY_1ST\",\n\t\"language\" : \"FRA\",\n\t\"country\" : \"FR\",\n    \"discountPlanForInstantiation\": [\n        {\n            \"code\": \"{{request.label.2}}\",\n            \"startDate\": null,\n            \"endDate\": null,\n            \"defaultDuration\": null,\n            \"durationUnit\": null\n        }\n    ]\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/account/billingAccount",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"account",
												"billingAccount"
											]
										}
									},
									"response": []
								},
								{
									"name": "setBillingAccountDiscountPlan|{{account.code}}|DP_GLOBAL_10P",
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{account.description}} [{{$timestamp}}]\",\n\t\"billingCycle\" : \"BC_MONTHLY_1ST\",\n\t\"language\" : \"FRA\",\n\t\"country\" : \"FR\",\n    \"discountPlanForInstantiation\": [\n        {\n            \"code\": \"{{request.label.2}}\",\n            \"startDate\": null,\n            \"endDate\": null,\n            \"defaultDuration\": null,\n            \"durationUnit\": null\n        }\n    ]\n}"
										},
										"url": {
											"raw": "{{opencell.url}}/account/billingAccount",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"account",
												"billingAccount"
											]
										}
									},
									"response": []
								},
								{
									"name": "terminateService|SE_REC_ADV|{{subscription.date}}|TR_REIMBURSE",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscriptionCode\" : \"{{subscription.code}}\",\r\n  \"terminationDate\" : \"{{request.label.2}}\",\r\n  \"terminationReason\" : \"{{request.label.3}}\",\r\n  \"services\" : [\"{{request.label.1}}\"]\r\n}\r\n"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/terminateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"terminateServices"
											]
										}
									},
									"response": []
								},
								{
									"name": "terminateService|SE_OSS|{{subscription.date}}|TR_NONE",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"subscriptionCode\" : \"{{subscription.code}}\",\r\n  \"terminationDate\" : \"{{request.label.2}}\",\r\n  \"terminationReason\" : \"{{request.label.3}}\",\r\n  \"services\" : [\"{{request.label.1}}\"]\r\n}\r\n"
										},
										"url": {
											"raw": "{{opencell.url}}/billing/subscription/terminateServices",
											"host": [
												"{{opencell.url}}"
											],
											"path": [
												"billing",
												"subscription",
												"terminateServices"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests",
					"item": [
						{
							"name": "chargeCDR|p1=UNIT|p2=AAA|p3=100|qtt=10|isVirtual=false",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{timestamp.iso}};{{qtt}};{{subscription.code}};{{p1}};{{p2}};{{p3}}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/mediation/chargeCdr?returnWalletOperations=true&isVirtual={{isVirtual}}&rateTriggeredEdr=true&maxDepth=0",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"mediation",
										"chargeCdr"
									],
									"query": [
										{
											"key": "returnWalletOperations",
											"value": "true"
										},
										{
											"key": "isVirtual",
											"value": "{{isVirtual}}"
										},
										{
											"key": "rateTriggeredEdr",
											"value": "true"
										},
										{
											"key": "maxDepth",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "applyOneshotCharge|CH_OSO|{{subscription.code}}|100.123456789",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"subscription\": \"{{request.label.2}}\",\r\n  \"oneShotCharge\": \"{{request.label.1}}\",\r\n  \"amountWithoutTax\": {{request.label.3}},\r\n  \"operationDate\": \"{{$timestamp}}000\",\r\n  \"description\": null,\r\n  \"criteria1\": null,\r\n  \"criteria2\": null,\r\n  \"criteria3\": null\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/applyOneShotChargeInstance",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"applyOneShotChargeInstance"
									]
								}
							},
							"response": []
						},
						{
							"name": "RT_Job_aboEnergie",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "616d77af-f925-4ae9-a4de-45b18b40d95e",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n        \"code\": \"RT_Job_aboEnergie\",\n        \"disabled\": false,\n        \"jobCategory\": \"INVOICING\",\n        \"jobTemplate\": \"RatedTransactionsJob\",\n        \"active\": true,\n        \"customFields\": {\n            \"customField\": [\n                {\n                    \"code\": \"waitingMillis\",\n                    \"description\": \"Waiting before next launch (ms\",\n                    \"fieldType\": \"LONG\",\n                    \"longValue\": 0,\n                    \"guiPosition\": \"tab:Configuration:0;fieldGroup:Configuration:0;field:1\"\n                },\n                {\n                    \"code\": \"nbRuns\",\n                    \"description\": \"Number of parallel execution\",\n                    \"fieldType\": \"LONG\",\n                    \"longValue\": -1,\n                    \"guiPosition\": \"tab:Configuration:0;fieldGroup:Configuration:0;field:0\"\n                },\n                {\n                    \"code\": \"woAggregationSettings\",\n                    \"description\": \"Activate aggregation\",\n                    \"fieldType\": \"ENTITY\",\n                    \"entityReferenceValue\": {\n                        \"classname\": \"org.meveo.model.billing.WalletOperationAggregationSettings\",\n                        \"classnameCode\": null,\n                        \"code\": \"aggreg_abo_energie\"\n                    },\n                    \"guiPosition\": \"tab:Configuration:0;fieldGroup:Aggregation Settings:1;field:0\"\n                }\n            ]\n        },\n        \"limitToSingleNode\": true,\n        \"verboseReport\": true\n    }"
								},
								"url": {
									"raw": "{{opencell.url}}/jobInstance/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"jobInstance",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get WO before  RT",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "21bb4dcd-ff1c-4bc9-a30a-1be7f0786bdb",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"pm.test(\"Is sucsess\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(\"Total WO\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.paging.totalNumberOfRecords).to.eql(14);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "opencell.admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "opencell.admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{opencell.url}}/billing/wallet/operation/list",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"wallet",
										"operation",
										"list"
									]
								}
							},
							"response": []
						},
						{
							"name": "run RT_Job_aboEnergie",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fa2c9a7c-448f-428c-9efd-e09a1fd44ec7",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											"postman.setGlobalVariable(\"jobRun.id\", jsonData.actionStatus.message);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"type": "any"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"code\":\"RT_Job_aboEnergie\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/job/execute",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"execute"
									]
								}
							},
							"response": []
						},
						{
							"name": "Job Report|RT|wait=5",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bd16d67b-3547-4462-a372-d1d14023234c",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.actionStatus.status === \"SUCCESS\";",
											"var task=pm.variables.get(\"task.code\");",
											"",
											"if( typeof jsonData.jobExecutionResultDto.endDate !== \"undefined\" && jsonData.jobExecutionResultDto.done === true ){",
											"    tests[\"is.done.\"+task] = true;",
											"    tests[\"is.jobNoWarning\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithWarning === 0;",
											"    tests[\"is.jobNoError\"] = jsonData.jobExecutionResultDto.nbItemsProcessedWithError === 0;",
											"    if( ! (tests[\"is.jobNoWarning\"] && tests[\"is.jobNoError\"]) ){",
											"        console.log(\"Errors have occured, check job \"+task+\" report.\");",
											"    }",
											"} else {",
											"    postman.setNextRequest(pm.variables.get(\"task.wait\"));",
											"    tests[\"is.not.done.yet.\"+task] = true;",
											"    console.log(\"Not done yet (\"+task+\").\");",
											"}",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e7640c13-2443-4aad-9c71-ff09a3b45992",
										"exec": [
											"pm.globals.set(\"task.wait\", pm.variables.get(\"request.label\"));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"url": {
									"raw": "{{opencell.url}}/job/jobReport?id={{jobRun.id}}",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"job",
										"jobReport"
									],
									"query": [
										{
											"key": "id",
											"value": "{{jobRun.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get RT OPEN",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8b4cd789-d26f-460b-bb2e-8610e6cdbb5a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"pm.test(\"Is sucsess\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.actionStatus.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(\"Total before removing Zero WO\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.paging.totalNumberOfRecords).to.eql(6);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "opencell.admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "opencell.admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"filters\":{\n\t\t\"status\":\"OPEN\"\n\t}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{opencell.url}}/billing/ratedTransaction/list?query=status:OPEN",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"ratedTransaction",
										"list"
									],
									"query": [
										{
											"key": "query",
											"value": "status:OPEN"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "df1d689d-ebbe-4665-873b-c7efe5ac4892",
						"type": "text/javascript",
						"exec": [
							"var now=new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"",
							"    if(parts[i].indexOf(\"=\") != -1 ){",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							"// Token auth",
							"var token = pm.variables.get(\"access_token\");",
							"//console.log(\"token=\"+token);",
							"",
							"if(!token || token === \"\" ) {",
							"    console.log(\"token is not defined\");",
							"    // Set some environment variables to use in the access token request. ",
							"    var client_id = pm.environment.get(\"client.id\") || \"opencell-web\";",
							"    var client_secret = pm.environment.get(\"client.secret\") || \"afe07e5a-68cb-4fb0-8b75-5b6053b07dc3\";",
							"    var opencell_url = pm.environment.get(\"opencell.base\");",
							"    var username = pm.environment.get(\"opencell.username\") || \"opencell.admin\";",
							"    var password = pm.environment.get(\"opencell.password\") || \"opencell.admin\";",
							"    var CryptoJS = require(\"crypto-js\")",
							"    // Encrypt the Client ID and Secret in base64 ",
							"    var rawStr = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret)",
							"    var client_cred = CryptoJS.enc.Base64.stringify(rawStr)",
							"    // Now let's get a new oauth2 access_token and set it in a variable ",
							"    pm.sendRequest(",
							"        { ",
							"            url: opencell_url + '/auth/realms/opencell/protocol/openid-connect/token', ",
							"            method: 'POST', ",
							"            header: ",
							"            { ",
							"                //'Authorization': 'Basic ' + client_cred, ",
							"                'Cache-Control': 'no-cache', ",
							"                'Content-Type': 'application/x-www-form-urlencoded' ",
							"            }, body: ",
							"            { ",
							"                mode: 'urlencoded', ",
							"                urlencoded: ",
							"                [",
							"                    { ",
							"                        key: \"client_id\", ",
							"                        value: client_id ",
							"                    }, ",
							"                    { ",
							"                        key: \"username\", ",
							"                        value: username ",
							"                    },",
							"                    { ",
							"                        key: \"password\", ",
							"                        value: password ",
							"                    },",
							"                    { ",
							"                        key: \"grant_type\", ",
							"                        value: \"password\" ",
							"                    },",
							"                    { ",
							"                        key: \"client_secret\", ",
							"                        value: client_secret",
							"                    },",
							"                ] ",
							"            } ",
							"        }, ",
							"        function (err, response) { ",
							"            //console.log(\"AUTH_RETURN_CODE\", err);",
							"            //console.log(\"AUTH_RESPONSE\", response);",
							"            const jsonResponse = response.json();",
							"            console.log(\"Saving token to variables\")",
							"            pm.variables.set(\"access_token\", jsonResponse.access_token); ",
							"        }",
							"        );",
							"} else{",
							"    console.log(\"token already exists\");",
							"}",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "139170b9-1354-49b1-8972-8c7cddfc3466",
						"type": "text/javascript",
						"exec": [
							"var wait = pm.variables.get(\"wait\");",
							"",
							"if (wait > 0) {",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + wait + \" seconds...\");",
							"    setTimeout(function () { }, wait * 1000);",
							"}",
							"",
							"if (pm.response.code == 401) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \" + pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"} else {",
							"    tests[\"is.success\"] = (pm.response.code == 200 || pm.response.code == 204);",
							"}",
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5411 - Customer account balance",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Create calendar for BC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9e0140ce-6a70-4226-9aa6-2d39534e5289",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{testCode}}_CAL_5411_BC\",\n  \"description\": \"Monthly (1st of the month)\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JANUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"FEBRUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MARCH\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"APRIL\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MAY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JUNE\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JULY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"AUGUST\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"SEPTEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"OCTOBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"NOVEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"DECEMBER\"\n\t  }\n  ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create BillingCycle 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "922ee0fe-b5aa-4b3e-b0d3-2f01eee82f07",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_BC_5411_1\",\r\n\t\"description\": \"Monthly Invoice Cycle 1\",\r\n\t\"transactionDateDelay\": \"0\",\r\n\t\"invoiceDateProductionDelay\": \"0\",\r\n\t\"dueDateDelay\": \"0\",\r\n\t\"invoiceDateDelay\": \"0\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5411_BC\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billingCycle",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Seller",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "edd8f6e3-aea6-4fb7-a504-053213bec069",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\r\n    \t\"code\": \"{{testCode}}_SELLER_5411\",\r\n\t\t\"description\":\"Seller 5411\",\r\n    \t\"countryCode\": \"{{counrty_code}}\",\r\n    \t\"languageCode\": \"{{language}}\"\r\n    }"
								},
								"url": {
									"raw": "{{opencell.url}}/seller/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"seller",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Category",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "36723013-2ac5-4181-bdf1-eb3460701236",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\":\"{{testCode}}_taxCategory_5411\",\r\n\t\"description\":\"Tax category\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateOrUpdate Account Hierarchy 1 SUCCESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "73d5534d-7a24-406e-ad60-08e436fddfa5",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"email\": \"{{test_email}}\",\r\n\t\"customerCode\": \"{{testCode}}_CH_5411_1\",\r\n\t\"sellerCode\": \"{{testCode}}_SELLER_5411\",\r\n\t\"customerBrandCode\": \"{{testCode}}_CB\",\r\n\t\"customerCategoryCode\": \"{{testCode}}_CC\",\r\n\t\"currencyCode\": \"{{currency}}\",\r\n\t\"countryCode\": \"{{counrty_code}}\",\r\n\t\"languageCode\": \"{{language}}\",\r\n\t\"billingCycleCode\": \"{{testCode}}_BC_5411_1\",\r\n\t\"titleCode\": \"MR\",\r\n\t\"firstName\": \"{{first_name}}\",\r\n\t\"lastName\": \"{{last_name}}\",\r\n\t\"phoneNumber\": \"{{phone}}\",\r\n\t\"address1\": \"{{address}}\",\r\n\t\"address2\": \"{{address}}\",\r\n\t\"zipCode\": \"{{zip_code}}\",\r\n\t\"city\": \"{{city}}\",\r\n\t\"taxCategoryCode\":\"{{testCode}}_taxCategory_5411\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create accounting code 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "de32007f-3b4e-43e2-a872-7741e693d2db",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_AccountingCode_1\",\n    \"description\": \"Accounting code 1\",\n    \"chartOfAccountTypeEnum\": \"EXPENSE\",\n    \"chartOfAccountViewTypeEnum\": \"REGULAR\",\n    \"reportingAccount\": \"sales\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/accountingCode",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"accountingCode"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create accounting code 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "182a5aa6-f056-427c-9f8b-d1a828d14ccc",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_AccountingCode_2\",\n    \"description\": \"Accounting code 2\",\n    \"chartOfAccountTypeEnum\": \"EXPENSE\",\n    \"chartOfAccountViewTypeEnum\": \"REGULAR\",\n    \"reportingAccount\": \"sales\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/accountingCode",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"accountingCode"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 1 - 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2533c9b3-696e-4f2c-8a72-7fa9575e40f9",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C1</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>1</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>1</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>{{testCode}}_AccountingCode_2</code>\n    <description>{{testCode}}_AccountingCode_2</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create debit account op 1 - 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c771f891-67da-40f2-ac13-c9ae178ceac9",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>DEBIT</transactionCategory>\n    <reference>D1</reference>\n    <accountCode>{{testCode}}_AccountingCode_1</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_1</accountCodeClientSide>\n    <amount>2</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>2</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>{{testCode}}_AccountingCode_1</code>\n    <description>Fact test</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 2 - 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d3b8210d-d6c9-43a7-84a7-8206694bb06c",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.environment.set('creditOP',jsonData.message);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C2</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>3</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>3</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>FOR_MATCH_20</code>\n    <description>FOR_MATCH_20</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create debit account op 2 - 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b3d15746-507c-43ed-8e7c-af7b187762c6",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.environment.set('debitOP',jsonData.message);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>DEBIT</transactionCategory>\n    <reference>D2</reference>\n    <accountCode>{{testCode}}_AccountingCode_1</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_1</accountCodeClientSide>\n    <amount>3</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>3</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>{{testCode}}_AccountingCode_1</code>\n    <description>Fact test</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create debit account op 3 - 5",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bbbf2653-6307-4224-aa17-b737c37c724f",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>DEBIT</transactionCategory>\n    <reference>D3</reference>\n    <accountCode>{{testCode}}_AccountingCode_1</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_1</accountCodeClientSide>\n    <amount>5</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>5</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>{{testCode}}_AccountingCode_1</code>\n    <description>Fact test</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 4 - 10 Litigation",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ef915ef0-6894-4f5f-9932-12b014e42d3b",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>2017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>2017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C3</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>10</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>10</unMatchingAmount>\n    <matchingStatus>I</matchingStatus>\n    <code>LITIGATION1</code>\n    <description>LITIGATION1</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <excludedFromDunning>false</excludedFromDunning>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 5 - 15 future date",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da830fb6-2e6e-4250-9ff7-44e8f3e20aa1",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>3017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>3017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C3</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>15</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>15</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>FUTURE_DATE</code>\n    <description>Future Date</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <otherCreditAndCharge>\n        <operationDate>3017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 6 - 20  past date",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5fa6ff8e-e9a7-484f-b009-f6e8dc459134",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>1017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>1017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C3</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>20</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>20</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>PAST_DATE</code>\n    <description>Past Date</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <otherCreditAndCharge>\n        <operationDate>1017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create credit account op 7 - 25 future due date, past tx date",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cb21fb3e-210e-498a-aa4a-211ee4fbc1ac",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<AccountOperation>\n    <dueDate>3017-10-31</dueDate>\n    <type>OCC</type>\n    <transactionDate>1017-10-13</transactionDate>\n    <transactionCategory>CREDIT</transactionCategory>\n    <reference>C3</reference>\n    <accountCode>{{testCode}}_AccountingCode_2</accountCode>\n    <accountCodeClientSide>{{testCode}}_AccountingCode_2</accountCodeClientSide>\n    <amount>25</amount>\n    <matchingAmount>0</matchingAmount>\n    <unMatchingAmount>25</unMatchingAmount>\n    <matchingStatus>O</matchingStatus>\n    <code>X1234</code>\n    <description>Future due date, past tx date</description>\n    <customerAccount>CA_{{testCode}}_CH_5411_1</customerAccount>\n    <otherCreditAndCharge>\n        <operationDate>2017-10-13</operationDate>\n    </otherCreditAndCharge>\n</AccountOperation>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Match operations debit and credit 2-3",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7302273d-855f-4548-be2f-f61508ba5abc",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<MatchOperationRequest>\n    <customerAccountCode>CA_{{testCode}}_CH_5411_1</customerAccountCode>\n    <accountOperations>\n        <accountOperation>\n            <id>{{creditOP}}</id>\n        </accountOperation>\n        <accountOperation>\n            <id>{{debitOP}}</id>\n        </accountOperation>\n    </accountOperations>\n</MatchOperationRequest>"
								},
								"url": {
									"raw": "{{opencell.url}}/accountOperation/matchOperations",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"accountOperation",
										"matchOperations"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test",
					"item": [
						{
							"name": "Check CA",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a0ff0491-c423-48e1-bb31-f11f947e51ce",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(-24).is.to.equal(jsonData.customerAccount.balance);\r",
											"    pm.expect(-14).is.to.equal(jsonData.customerAccount.totalInvoiceBalance);\r",
											"    pm.expect(-49).is.to.equal(jsonData.customerAccount.accountBalance);\r",
											"    pm.expect(-56).is.to.equal(jsonData.customerAccount.creditBalance);\r",
											"    pm.expect(-64).is.to.equal(jsonData.customerAccount.totalBalance);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{opencell.url}}/account/customerAccount?customerAccountCode=CA_{{testCode}}_CH_5411_1",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"customerAccount"
									],
									"query": [
										{
											"key": "customerAccountCode",
											"value": "CA_{{testCode}}_CH_5411_1"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5419 - [api] Make sure PaymentScheduleTemplate can be configure using API",
			"item": [],
			"description": "# Introduction\r\n\r\nThis configuration file is designed to be a basis for all configurations provided by Opencell.\r\nIt merely contains most common general settings and a catalog of services implementing various rating models.\r\n\r\n# Configuring Opencell\r\n\r\nThere are 2 main ways for configuring ***Opencell***:\r\n* GUI (*Administration GUI* and *Marketing Manager*)\r\n* API (all Opencell configuration and operations can be performed using our extensive API library)\r\n\r\nThe most flexible way is using APIs which currently are available as **Rest** and **Soap**.\r\nThe **Soap** API are deprecated, so will won't mention them anymore.\r\n\r\n## Tools\r\n\r\nAny tools able to send HTTP requests will do.\r\nOne could even just script *curl* calls using shell script.\r\nBut of course, a more user friendly tool will make things easier.\r\n\r\nHere at ***Opencell***, we prefer **Postman** (https://getpostman.com):\r\n* it has a modern, friendly interface\r\n* Sets of API request can be organized into collections, themselves structured into a folder tree.\r\n* Collections can be exported as _JSON_ files or shared with other team members using collaboration features (payed version)\r\n* it allows to uses variables at different levels (collection, environement, global) and to execute *Javascript* scripts before and after executing API calls which allows great flexibility and API response testing.\r\n\r\n\r\n\r\n# Configuration documentation guidelines\r\n\r\nIn order to document our configuration, we make full used of the internal documentation capabilities of the Markdown fields on Postman Objects\r\n\r\n## Default template for *Collection* documentation\r\n\r\n## Default template for *Folder* documentation\r\n\r\n## Default template for *Request* documentation\r\n\r\n\r\n\r\n# Tips & guidelines\r\n\r\nHere follow a few tips for understanding this collection.\r\n\r\n## Collection pre-request script\r\n\r\n```javascript\r\npm.globals.set(\"timestamp.iso\", (new Date()).toISOString());\r\npm.globals.set(\"request.label\", pm.info.requestName);\r\n\r\nvar parts = pm.info.requestName.split(\"|\");\r\n\r\nfor(let i=0; i<parts.length; i++) {\r\n    pm.globals.set(\"request.label.\"+i, parts[i]);\r\n}\r\n```\r\n\r\n## Configuration guidelines\r\n\r\n## Entities\r\n\r\n<entity>_<project_code>_XXX\r\n\r\n### Custom Fields\r\n\r\nCF_<entity>_<project_code>_ XXX\r\n\r\n<entity> will be discarded for inherited\r\n\r\n#### Custom field visibility\r\n\r\nSE_<entity>_<project_code>_<markers>_XXX\r\n\r\n<markers> are used in CFT.applicableOnEl to show CFT on entities\r\n\r\n\r\n## Entity abbreviation\r\n\r\n| code  | entity                        |\r\n|:-----:|:------------------------------|\r\n|   P   | Provider                      |\r\n|   S   | Seller                        |\r\n|   C   | Customer                      |\r\n|  CA   | Customer Account              |\r\n|  BA   | Billing Account               |\r\n|  UA   | User Account                  |\r\n|  SU   | Subscription                  |\r\n|  AP   | Access Point                  |\r\n|  OF   | Offer Template                |\r\n|  SE   | Service Template and Instance |\r\n|  CH   | Charge Template               |\r\n|  PP   | Price Plan                    |\r\n|  CN   | Counter                       |\r\n| ICAT  | Invoice Category              |\r\n| ISCAT | Invoice SubCategory           |\r\n|  CAL  | Calendar                      |\r\n|  BC   | Billing Cycle                 |\r\n",
			"auth": {
				"type": "oauth2",
				"oauth2": [
					{
						"key": "accessToken",
						"value": "{{access_token}}",
						"type": "string"
					},
					{
						"key": "addTokenTo",
						"value": "header",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d06e6aff-e1d5-4462-a7b2-a4f9c4671c36",
						"type": "text/javascript",
						"exec": [
							"var now=new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"",
							"    if(parts[i].indexOf(\"=\") != -1 ){",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							"// Token auth",
							"var token = pm.variables.get(\"access_token\");",
							"//console.log(\"token=\"+token);",
							"",
							"if(!token || token === \"\" ) {",
							"    console.log(\"token is not defined\");",
							"    // Set some environment variables to use in the access token request. ",
							"    var client_id = pm.environment.get(\"client.id\") || \"opencell-web\";",
							"    var client_secret = pm.environment.get(\"client.secret\") || \"afe07e5a-68cb-4fb0-8b75-5b6053b07dc3\";",
							"    var opencell_url = pm.environment.get(\"opencell.base\");",
							"    var username = pm.environment.get(\"opencell.username\") || \"opencell.admin\";",
							"    var password = pm.environment.get(\"opencell.password\") || \"opencell.admin\";",
							"    var CryptoJS = require(\"crypto-js\")",
							"    // Encrypt the Client ID and Secret in base64 ",
							"    var rawStr = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret)",
							"    var client_cred = CryptoJS.enc.Base64.stringify(rawStr)",
							"    // Now let's get a new oauth2 access_token and set it in a variable ",
							"    pm.sendRequest(",
							"        { ",
							"            url: opencell_url + '/auth/realms/opencell/protocol/openid-connect/token', ",
							"            method: 'POST', ",
							"            header: ",
							"            { ",
							"                //'Authorization': 'Basic ' + client_cred, ",
							"                'Cache-Control': 'no-cache', ",
							"                'Content-Type': 'application/x-www-form-urlencoded' ",
							"            }, body: ",
							"            { ",
							"                mode: 'urlencoded', ",
							"                urlencoded: ",
							"                [",
							"                    { ",
							"                        key: \"client_id\", ",
							"                        value: client_id ",
							"                    }, ",
							"                    { ",
							"                        key: \"username\", ",
							"                        value: username ",
							"                    },",
							"                    { ",
							"                        key: \"password\", ",
							"                        value: password ",
							"                    },",
							"                    { ",
							"                        key: \"grant_type\", ",
							"                        value: \"password\" ",
							"                    },",
							"                    { ",
							"                        key: \"client_secret\", ",
							"                        value: client_secret",
							"                    },",
							"                ] ",
							"            } ",
							"        }, ",
							"        function (err, response) { ",
							"            //console.log(\"AUTH_RETURN_CODE\", err);",
							"            //console.log(\"AUTH_RESPONSE\", response);",
							"            const jsonResponse = response.json();",
							"            console.log(\"Saving token to variables\")",
							"            pm.variables.set(\"access_token\", jsonResponse.access_token); ",
							"        }",
							"        );",
							"} else{",
							"    console.log(\"token already exists\");",
							"}",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "2f04e106-5ec8-4f45-970b-5e1039ab7267",
						"type": "text/javascript",
						"exec": [
							"var wait = pm.variables.get(\"wait\");",
							"",
							"if (wait > 0) {",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + wait + \" seconds...\");",
							"    setTimeout(function () { }, wait * 1000);",
							"}",
							"",
							"if (pm.response.code == 401) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \" + pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"} else {",
							"    tests[\"is.success\"] = (pm.response.code == 200 || pm.response.code == 204);",
							"}",
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5423 - [catalog] createOfferFromBOM removes counter from service",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Settings",
							"item": [
								{
									"name": "Provider & Seller",
									"item": [
										{
											"name": "Seller hierarchy",
											"item": [
												{
													"name": "S|MAIN_SELLER|Opencell",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\t\"code\" : \"{{request.label.1}}\",\r\n\t\"description\" : \"{{request.label.2}}\",\r\n    \"currencyCode\": \"EUR\",\r\n    \"countryCode\": \"FR\",\r\n    \"languageCode\": \"ENG\",\r\n    \"address\": {\r\n        \"address1\": \"14 rue Crespin du Gast\",\r\n        \"address2\": \"Esc. A\",\r\n        \"address3\": null,\r\n        \"zipCode\": \"75011\",\r\n        \"city\": \"PARIS\",\r\n        \"country\": \"FR\",\r\n        \"state\": null\r\n    },\r\n    \"contactInformation\": {\r\n        \"email\": \"billing@opencellsoft.com\",\r\n        \"phone\": \"0123456789\",\r\n        \"mobile\": \"0678912345\",\r\n        \"fax\": null\r\n    }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "S|S_LVL1|Seller level 1|MAIN_SELLER",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Proxy-Authorization",
																"value": "{{proxy.auth}}"
															},
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"code\" : \"{{request.label.1}}\",\n\t\"description\" : \"{{request.label.2}}\",\n\t\"parentSeller\" : \"{{request.label.3}}\",\n\t\"currencyCode\" : \"EUR\",\n\t\"countryCode\" : \"FR\",\n\t\"languageCode\" : \"FRA\",\n    \"contactInformation\": null,\n    \"address\": {\n        \"address1\": \"52 rue Klber\",\n        \"address2\": null,\n        \"address3\": null,\n        \"zipCode\": \"92300\",\n        \"city\": \"Levallois-Perret\",\n        \"country\": \"FR\",\n        \"state\": null\n    },\n    \"invoiceTypeSequences\": {\n        \"COM\": {\n            \"prefixEL\": \"{{request.label.1}}\",\n            \"sequenceSize\": 6\n        }\n    },\n    \"customFields\": { \"customField\": []}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "S|S_LVL2|Seller level 2|S_LVL1",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"code\" : \"{{request.label.1}}\",\n\t\"description\" : \"{{request.label.2}}\",\n\t\"parentSeller\" : \"{{request.label.3}}\",\n\t\"currencyCode\" : \"EUR\",\n\t\"countryCode\" : \"FR\",\n\t\"languageCode\" : \"FRA\",\n    \"contactInformation\": null,\n    \"registrationNo\": \"REG999999999\",\n    \"vatNo\": \"VAT999999999\",\n    \"address\": {\n        \"address1\": \"52 rue Klber\",\n        \"address2\": null,\n        \"address3\": null,\n        \"zipCode\": \"92300\",\n        \"city\": \"Levallois-Perret\",\n        \"country\": \"FR\",\n        \"state\": null\n    },\n    \"customFields\": { \"customField\": []}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/seller/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"seller",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "CFT|code=CF_PROV_MATRIX_MULTI|target=Provider|type=MULTI_VALUE|storage=MATRIX",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"Custom field {{storage}} of {{type}} on {{target}}\",\n    \"languageDescriptions\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"[fr] Champ personnalis {{storage}} de {{type}} sur {{target}}\"\n        },\n        {\n            \"languageCode\": \"ENG\",\n            \"description\": \"[en] Custom field {{storage}} of {{type}} on {{target}}\"\n        }\n    ],\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"useInheritedAsDefaultValue\": false,\n    \"storageType\": \"{{storage}}\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n\t\"guiPosition\": \"tab:CustomTab|ENG=CustomTab(en)|FRA=CustomTab(fr):0;fieldGroup:CustomGroup|ENG=CustomGroup(en)|FRA=CustomGroup(fr):0;field:0\",\n    \"applicableOnEl\": \"#{ true }\",\n    \"matrixColumn\": [\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 1,\n            \"code\": \"inputString\",\n            \"label\": \"Input string\",\n            \"keyType\": \"STRING\"\n        },\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 2,\n            \"code\": \"inputRON\",\n            \"label\": \"Input RON\",\n            \"keyType\": \"RON\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 1,\n            \"code\": \"outputLong\",\n            \"label\": \"Output long\",\n            \"keyType\": \"LONG\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 2,\n            \"code\": \"outputDouble\",\n            \"label\": \"Output double\",\n            \"keyType\": \"DOUBLE\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 3,\n            \"code\": \"outputString\",\n            \"label\": \"Output string\",\n            \"keyType\": \"STRING\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "providerCF|code=CF_PROV_MATRIX_MULTI",
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"customFields\": {\n        \"customField\": [\n                {\n                    \"code\": \"{{code}}\",\n                    \"mapValue\": {\n                        \"AAA|<0.0\": {\n                            \"value\": \"0|0.0|Zero\"\n                        },\n                        \"AAA|0.0<111.1\": {\n                            \"value\": \"1|1.1|One\"\n                        },\n                        \"AAA|111.1<\": {\n                            \"value\": \"2|2.2|Two\"\n                        },\n                        \"BBB|0.0<111.1\": {\n                            \"value\": \"3|3.3|Three\"\n                        },\n                        \"BBB|111.1<\": {\n                            \"value\": \"4|4.4|Four\"\n                        }\n                    }\n                }\n        ]\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/provider/updateProviderCF",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"updateProviderCF"
													]
												}
											},
											"response": []
										},
										{
											"name": "Update Provider",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{provider.code}}\",\n    \"description\": \"{{template.label}}\",\n    \"enterprise\": \"true\",\n    \"rounding\": 6,\n    \"roundingMode\": \"NEAREST\",\n    \"invoiceRounding\": 2,\n    \"invoiceRoundingMode\": \"NEAREST\",\n    \"invoiceConfiguration\": {\n        \"displaySubscriptions\": \"true\",\n        \"displayServices\": \"true\",\n        \"displayOffers\": \"true\",\n        \"displayEdrs\": \"true\",\n        \"displayProvider\": \"true\",\n        \"displayCfAsXML\": \"true\",\n        \"displayPricePlans\": \"true\",\n        \"displayDetail\": \"true\",\n        \"displayChargesPeriods\": \"true\",\n        \"displayFreeTransacInInvoice\": \"true\",\n        \"displayBillingCycle\": \"true\",\n        \"displayOrders\": \"true\"\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/provider/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CF_PROV_PROJECT_VERSION",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "5edb4ac9-277e-4857-bd29-a672931cf450",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label}}_{{$timestamp}}\",\r\n    \"description\": \"{{project.code}} {{project.type}} {{project.version}}\",\r\n    \"fieldType\": \"STRING\",\r\n    \"appliesTo\": \"Provider\",\r\n    \"defaultValue\": \"{{timestamp.iso}}\",\r\n    \"storageType\": \"SINGLE\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"allowEdit\": false,\r\n    \"hideOnNew\": false,\r\n    \"cacheValue\": false,\r\n    \"guiPosition\": \"tab:Project versions:999\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"customFieldTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Calendars",
									"item": [
										{
											"name": "CAL_PERIOD_MONTHLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_YEARLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 12,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_DAILY_ONCE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 1\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 5,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 2,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_MONTHLY_1ST",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "5b6a40e2-5be7-418b-9d51-fb1717cedbb8",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"1st of the month\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n  {\n    \"day\": \"1\",\n    \"month\": \"JANUARY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"FEBRUARY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"MARCH\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"APRIL\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"MAY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"JUNE\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"JULY\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"AUGUST\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"SEPTEMBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"OCTOBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"NOVEMBER\"\n  },\n  {\n    \"day\": \"1\",\n    \"month\": \"DECEMBER\"\n  }\n  ]\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 1,\n    \"periodUnit\": \"DAY_OF_MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 5,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CAL_PERIOD_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"calendarType\": \"PERIOD\",\n    \"periodLength\": 2,\n    \"periodUnit\": \"MONTH\",\n    \"nbPeriods\": 0\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/calendar/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"calendar",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Billing cycles",
									"item": [
										{
											"name": "script|invoicing.SplitInvoice|Splits invoice by RT.parameter2",
											"request": {
												"method": "POST",
												"header": [
													{
														"value": "application/xml",
														"type": "text",
														"name": "Content-Type",
														"key": "Content-Type"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.invoicing;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.lang.String;\r\nimport java.util.Arrays;\r\nimport java.math.BigInteger;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.apache.commons.collections4.MapUtils;\r\nimport org.meveo.commons.utils.StringUtils;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.admin.util.pagination.PaginationConfiguration;\r\n\r\nimport org.meveo.model.admin.Seller;\r\nimport org.meveo.model.billing.BillingRun;\r\nimport org.meveo.model.billing.BillingAccount;\r\nimport org.meveo.model.billing.RatedTransaction;\r\nimport org.meveo.model.billing.InvoiceType;\r\nimport org.meveo.model.billing.RatedTransactionGroup;\r\nimport org.meveo.model.billing.BillingCycle;\r\nimport org.meveo.model.payments.PaymentMethod;\r\n\r\nimport org.meveo.service.admin.impl.SellerService;\r\nimport org.meveo.service.billing.impl.BillingAccountService;\r\nimport org.meveo.service.billing.impl.InvoiceTypeService;\r\n\r\n/**\r\n * Dispatch RTs per invoicingGroup on RTparameter2 A different invoice will be\r\n * produced for each value of RT.parameter2\r\n * \r\n * @author schambrin\r\n */\r\npublic class SplitInvoice extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SplitInvoice.class);\r\n\r\n    SellerService sellerService = (SellerService) getServiceInterface(\"SellerService\");\r\n    BillingAccountService billingAccountService = (BillingAccountService) getServiceInterface(\"BillingAccountService\");\r\n    InvoiceTypeService invoiceTypeService = (InvoiceTypeService) getServiceInterface(\"InvoiceTypeService\");\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.trace(\"EXECUTE context {}\", context);\r\n        context.entrySet().stream().forEach(entry -> {\r\n            log.info(\"{}={}\", entry.getKey(), entry.getValue());\r\n        });\r\n\r\n        InvoiceType invoiceType = (InvoiceType) context.get(\"invoiceType\");\r\n        PaymentMethod paymentMethod = (PaymentMethod) context.get(\"paymentMethod\");\r\n        BillingAccount billingAccount = billingAccountService\r\n                .refreshOrRetrieve((BillingAccount) context.get(\"CONTEXT_ENTITY\"));\r\n        BillingRun billingRun = (BillingRun) context.get(\"br\");\r\n\r\n        Seller seller = billingAccount.getCustomerAccount().getCustomer().getSeller() != null\r\n                ? billingAccount.getCustomerAccount().getCustomer().getSeller()\r\n                : sellerService.findByCode(\"MAIN_SELLER\");\r\n\r\n        BillingCycle billingCycle = billingAccount.getBillingCycle();\r\n        PaymentMethod defaultPaymentMethod = billingAccount.getCustomerAccount().getPreferredPaymentMethod();\r\n\r\n        List<RatedTransaction> allRT = (List<RatedTransaction>) context.get(\"ratedTransactions\");\r\n        Map<String, RatedTransactionGroup> invoices = new HashMap<String, RatedTransactionGroup>();\r\n\r\n        // Dispatch RTs\r\n        allRT.stream().forEach(rt -> {\r\n            String invoicingGroup = rt.getParameter2();\r\n\r\n            // Add new invoicingGroup if missing\r\n            if (!invoices.containsKey(invoicingGroup)) {\r\n                RatedTransactionGroup rtGroup = new RatedTransactionGroup(billingAccount, seller, billingCycle,\r\n                        invoiceType, false/* prepaid */ );\r\n                rtGroup.setPaymentMethod(paymentMethod);\r\n                rtGroup.setInvoiceKey(rtGroup.getInvoiceKey() + \"_\" + invoicingGroup);\r\n                invoices.put(invoicingGroup, rtGroup);\r\n            }\r\n\r\n            invoices.get(invoicingGroup).getRatedTransactions().add(rt);\r\n        });\r\n\r\n        invoices.entrySet().stream().forEach(invoice -> {\r\n            log.info(\"BillingAccount[{}], InvoiceType[{}], InvoicingGroup[{}] => {} RTs\",\r\n                    invoice.getValue().getBillingAccount().getCode(), invoiceType.getCode(), invoice.getKey(),\r\n                    invoice.getValue().getRatedTransactions().size());\r\n        });\r\n\r\n        // Returns the list to the invoicing process\r\n        context.put(Script.RESULT_VALUE, new ArrayList(invoices.values()));\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "BC_PERIOD_DAILY_ONCE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"One day period, only once\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"0\",\n  \"invoicingThreshold\": 0.01,\n  \"calendar\": \"CAL_PERIOD_DAILY_ONCE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "BC_MONTHLY_1ST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"Monthly 1st\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"1\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"CAL_MONTHLY_1ST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "BC_MONTHLY_PERIOD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"code\": \"{{request.label}}\",\n  \"description\": \"Monthly period\",\n  \"billingTemplateName\": null,\n  \"invoiceDateDelay\": \"0\",\n  \"dueDateDelay\": \"30\",\n  \"invoiceDateProductionDelay\": \"0\",\n  \"transactionDateDelay\": \"2\",\n  \"invoicingThreshold\": null,\n  \"calendar\": \"CAL_PERIOD_MONTHLY\",\n  \"referenceDate\": \"NEXT_INVOICE_DATE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billingCycle",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Taxes",
									"item": [
										{
											"name": "Tax rates",
											"item": [
												{
													"name": "tax|code=TAX_20|desc=VAT 20%|percentage=20|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "a9c24674-2fcc-4f8e-8236-78909cdb4de2",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=TAX_10|desc=VAT 10%|percentage=10|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "c5c3d3ab-22a1-4e07-84f0-f4c07c1d3832",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "tax|code=NO_TAX|desc=No tax|percentage=0|accCode=445710000",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "4d444d41-18d4-481b-a3c4-38828a068922",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"{{code}}\",\n  \"description\": \"{{desc}}\",\n  \"percent\": \"{{percentage}}\",\n  \"accountingCode\": \"{{accCode}}\",\n  \"languageDescriptions\": [\n  {\n    \"languageCode\": \"FRA\",\n    \"description\": \"{{desc}}\"\n  }\n  ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/tax/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"tax",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax categories (account)",
											"item": [
												{
													"name": "taxCat|code=REGULAR|desc=Regular accounts",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "ee343e50-fcbf-42d5-a4e6-a19506acdf23",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxCat|code=EXEMPTED|desc=Exempted accounts",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "473d1c8d-98b2-48cb-9ebf-fb661b2c08ff",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax classes (charge)",
											"item": [
												{
													"name": "taxClass|code=NORMAL|desc=Product with normal tax",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "7339f449-6bc0-431d-841b-2e00659aa4b6",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=REDUCED|desc=Products with reduced tax",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "4feca63a-03aa-4a5a-a18a-227ecbdc3b61",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxClass|code=NO_TAX|desc=Products with no VAT",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "92d28ed5-6ff8-4403-9e74-16403dddd090",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"descriptionI18n\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"{{desc}}\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxClass/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxClass",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Tax mapping",
											"item": [
												{
													"name": "taxMapping|priority=100|taxCat=EXEMPTED|taxClass=|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "2789a589-aaff-4d58-8b70-beb5f0bf3492",
																"exec": [
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=20|taxCat=REGULAR|taxClass=NO_TAX|buyer=|tax=NO_TAX",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "a949e227-7975-4664-a572-8db67668c0d5",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=1|taxCat=REGULAR|taxClass=NORMAL|buyer=|tax=TAX_20",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "31ad0878-d235-40a4-9b84-7d9e469e1389",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=2|taxCat=REGULAR|taxClass=REDUCED|buyer=|tax=TAX_10",
													"event": [
														{
															"script": {
																"type": "text/javascript",
																"id": "107edfb1-881c-4bd3-a0b7-b870f5c25654",
																"exec": [
																	""
																]
															},
															"listen": "prerequest"
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												},
												{
													"name": "taxMapping|priority=10|taxCat=REGULAR|taxClass=NORMAL|buyer=US|tax=TAX_10",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"type": "text/javascript",
																"id": "d598cb70-ef0c-460d-baa5-da036c15733f",
																"exec": [
																	""
																]
															}
														}
													],
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"accountTaxCategoryCode\": \"{{taxCat}}\",\n    \"chargeTaxClassCode\": \"{{taxClass}}\",\n    \"buyerCountryCode\": \"{{buyer}}\",\n    \"taxCode\": \"{{tax}}\",\n    \"priority\": {{priority}}\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/taxMapping",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"taxMapping"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Account",
									"item": [
										{
											"name": "title|code=MR|desc=Mr",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"isCompany\": \"false\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/account/title/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"title",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "custCat|code=CLIENT|taxCat=REGULAR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"Client\",\r\n    \"taxCategoryCode\": \"{{taxCat}}\"\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/account/customer/createOrUpdateCategory",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"account",
														"customer",
														"createOrUpdateCategory"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Invoice",
									"item": [
										{
											"name": "Invoice Categories",
											"item": [
												{
													"name": "ICAT_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_PRD\",\n  \"description\": \"Product category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_PRD\",\n  \"description\": \"Product sub-category\",\n  \"invoiceCategory\": \"ICAT_PRD\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_REC",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_REC\",\n  \"description\": \"Recurring category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_REC",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_REC\",\n  \"description\": \"Recurring default sub-category\",\n  \"invoiceCategory\": \"ICAT_REC\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_OSH",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_OSH\",\n  \"description\": \"One shot category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OSS",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OSS\",\n  \"description\": \"Oneshot Subscription sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OST",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OST\",\n  \"description\": \"Oneshot Termination sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_OSO",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_OSO\",\n  \"description\": \"Oneshot Other sub-category\",\n  \"invoiceCategory\": \"ICAT_OSH\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ICAT_USG",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ICAT_USG\",\n  \"description\": \"Usage category\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "ISCAT_USG",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"code\": \"ISCAT_USG\",\n  \"description\": \"Usage default sub-category\",\n  \"invoiceCategory\": \"ICAT_USG\",\n  \"customFields\": null\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"invoiceSubCategory",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "invoiceType|code=COM|desc=Invoice",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\": \"{{code}}\",\r\n  \"description\": \"{{desc}}\",\r\n  \"occTemplateCode\": \"INV_STD\",\r\n  \"occTemplateNegativeCode\": null,\r\n  \"billingTemplateName\": \"default\",\r\n  \"sequenceDto\": {\r\n    \"prefixEL\": \"#{invoice.invoiceType.code}-{{template.code}}-#{invoice.seller.code}-#{mv:formatDate(invoice.getInvoiceDate(),'yyyyMMdd')}-\",\r\n    \"sequenceSize\": 4,\r\n    \"currentInvoiceNb\":null\r\n  },\r\n  \"xmlFilenameEL\": \"XML_#{invoice.billingAccount.code}_#{invoice.invoiceNumber}\",\r\n  \"pdfFilenameEL\": \"PDF_#{invoice.billingAccount.code}_#{invoice.invoiceNumber}\",\r\n  \"sellerSequence\": null,\r\n  \"appliesTo\": [\r\n    \"COM\",\r\n    \"ADJ\"\r\n  ],\r\n  \"matchingAuto\": false,\r\n  \"useSelfSequence\": true\r\n}\r\n",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/invoiceType/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"invoiceType",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Termination reasons",
									"item": [
										{
											"name": "TR_NONE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"TR_NONE\",\n\t\"description\": \"Termination with no action (no fees, no reimbursment)\",\n\t\"applyAgreement\": false,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": false,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_AGREEMENT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"TR_AGREEMENT\",\n\t\"description\": \"Termination with Charge Agreement\",\n\t\"applyAgreement\": true,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": false,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_REIMBURSE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Termination with Reimbursment\",\n    \"applyAgreement\": false,\n    \"applyReimbursment\": true,\n    \"applyTerminationCharges\": false,\n    \"reimburseOneshots\": true,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "TR_FEE",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{request.label}}\",\n\t\"description\": \"Termination fee\",\n\t\"applyAgreement\": false,\n\t\"applyReimbursment\": false,\n\t\"applyTerminationCharges\": true,\n    \"reimburseOneshots\": false,\n    \"overrideProrata\": \"NO_OVERRIDE\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"terminationReason",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Notifications",
									"item": [
										{
											"name": "SCRIPT|CreateAccess|Creates an access on Subscription creation",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ededc3d2-dd80-44f5-9c59-b1e1323caa09",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.admin.User;\r\nimport org.meveo.model.billing.Subscription;\r\nimport org.meveo.model.mediation.Access;\r\n\r\nimport org.meveo.service.medina.impl.AccessService;\r\nimport org.meveo.service.script.Script;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class CreateAccess extends Script {    \r\n    private static final Logger log = LoggerFactory.getLogger(CreateAccess.class);        \r\n\r\n    private AccessService accessService = (AccessService) getServiceInterface(\"AccessService\");\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context={}\", context);\r\n\r\n        Subscription subscription = (Subscription) context.get(\"entity\");\r\n        if(subscription == null){\r\n            throw new BusinessException(\"subscription is null\");\r\n        }\r\n        log.debug(\"subscription={}\", subscription);\r\n\r\n        Access access = new Access();\r\n        access.setSubscription(subscription);\r\n        access.setAccessUserId(subscription.getCode());\r\n        access.setStartDate(null);\r\n        access.setEndDate(null);\r\n        accessService.create(access);\r\n    }\r\n}]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "notifSubscriptionCreate",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"updatedCode\": null,\r\n    \"code\": \"subscriptionCreate\",\r\n    \"classNameFilter\": \"org.meveo.model.billing.Subscription\",\r\n    \"eventTypeFilter\": \"CREATED\",\r\n    \"elFilter\": \"\",\r\n    \"scriptInstanceCode\": \"org.meveo.service.script.CreateAccess\",\r\n    \"scriptParams\": {\r\n      \"entity\": \"#{event}\"\r\n    },\r\n    \"counterTemplate\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/notification/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"notification",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Channels",
									"item": [
										{
											"name": "chan|code=PHONE|desc=Telephone",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=EMAIL|desc=E-mail",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=WEB|desc=Online store",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "chan|code=RETAIL|desc=Retail store",
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "username",
															"value": "{{opencell.username}}",
															"type": "string"
														},
														{
															"key": "password",
															"value": "{{opencell.password}}",
															"type": "string"
														},
														{
															"key": "saveHelperData",
															"value": true,
															"type": "boolean"
														},
														{
															"key": "showPassword",
															"value": false,
															"type": "boolean"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "Authorization",
														"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"code\": \"{{code}}\",\n\t\"description\": \"{{desc}}\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/channel/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"channel",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Catalog",
							"item": [
								{
									"name": "Rating scripts",
									"item": [
										{
											"name": "SCRIPT|LogContext|Logs the context",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0a2e4133-86da-4047-8eb5-d6c8aed4ed68",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Map;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class LogContext extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogContext.class);\r\n    \r\n    @Override\r\n    public void execute(Map<String, Object> context) {\r\n        log.trace(\"EXECUTE context {}\", context);\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|code=ThrowException|desc=Throws an exception with WO content",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "79cf35d6-fba4-48f3-9d5b-de6501d81367",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{code}}</code>\r\n        <description>{{desc}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\n\r\n/**\r\n * A Rating Script that throws an exception with WO content\r\n * @author schambrin\r\n */\r\npublic class ThrowException extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ThrowException.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context {}\", context);\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n\t\tString msg = \"WalletOperation {\"\r\n\t\t\t+\"code:\"+wo.getCode()+\", \"\r\n\t\t\t+\"description:\"+wo.getDescription()+\", \"\r\n\t\t\t+\"operationDate:\"+wo.getOperationDate()+\", \"\r\n\t\t\t+\"amountWithoutTax:\"+wo.getAmountWithoutTax()+\", \"\r\n\t\t\t+\"tax:\"+wo.getTax()+\", \"\r\n\t\t\t+\"tax_percent:\"+wo.getTaxPercent()\r\n\t\t\t+\"}\";\r\n        log.error(msg);\r\n        throw new BusinessException(msg);\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|InfiniteLoop|Locks into an infinite loop",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2a6f417f-f52c-4a35-94fd-9b4d30809ff6",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script;\r\n\r\nimport java.util.Map;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class InfiniteLoop extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(InfiniteLoop.class);\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> context) {\r\n        log.debug(\"EXECUTE context {}\", context);\r\n        log.info(\"CONTEXT_ENTITY={}\", context.get(Script.CONTEXT_ENTITY));\r\n        try {\r\n            while (true) {\r\n                log.trace(\"[RATING] Sleeping 5s...\");\r\n                Thread.sleep(5000);\r\n            }\r\n        } catch (java.lang.InterruptedException e) {\r\n            log.warn(\"Interrupted !!!\");\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.RatingSetTax|Forces tax on WO",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "d1fe9215-4676-4191-ae36-bfd53fb3999c",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * A Rating Script to force a tax\r\n * @author schambrin\r\n */\r\npublic class RatingSetTax extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(RatingSetTax.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        log.info(\"EXECUTE context {}\", context);\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"edr.taxCode={}\",wo.getEdr().getParameter5());\r\n            Tax tax = taxService.findByCode(wo.getEdr().getParameter5());\r\n            \r\n            if( tax != null){\r\n                log.info(\"override tax={}\", tax);\r\n                wo.setTax(tax);\r\n                wo.setTaxPercent(tax.getPercent());\r\n                ratingService.calculateAmounts(wo,wo.getUnitAmountWithoutTax(),null);\r\n            }\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.LogWalletOperation|Logs the WalletOperation",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ff20d576-023c-40f2-bc63-ea8fa62499c9",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.dto.billing.WalletOperationDto;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\n\r\n/**\r\n * Logs the WalletOperation\r\n * @author schambrin\r\n */\r\npublic class LogWalletOperation extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LogWalletOperation.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\",entry.getKey(),entry.getValue()); });\r\n        TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n        RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        try {\r\n        \tlog.info(\"wo={}\",new WalletOperationDto(wo));\r\n        \tlog.info(\"wo.tax={}\", wo.getTax());\r\n\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.RatingError|Throws an error if parameter2 is ERROR",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4fef7456-3be2-429e-bdd2-dfdcec8c0f41",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"name": "Content-Type",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.billing.WalletOperation;\r\n\r\n/**\r\n * A Rating Script that throws an exception if param2 is ERROR\r\n * takes param3 as error message\r\n * @author schambrin\r\n */\r\npublic class RatingError extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(RatingError.class);\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        // log.info(\"EXECUTE context {}\", context);\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n\r\n        if( \"ERROR\".equals(wo.getParameter2()) ){\r\n            // log.error(\"message: {}\",wo.getParameter3());\r\n            throw new BusinessException(wo.getParameter3());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SCRIPT|rating.WalletOperationWithCF|Copies EDR param4-6 to cfParam4-6",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "84d9ea1d-1789-47fe-a44e-11942c1898c0",
														"exec": [
															"if( pm.response.code == 200 ) { tests[\"is.compiled\"] = JSON.parse(responseBody).compilationErrors.length === 0; }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/xml"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "<ScriptInstance>\r\n        <code>org.meveo.service.script.{{request.label.1}}</code>\r\n        <description>{{request.label.2}} {{$timestamp}}</description>\r\n        <type>JAVA</type>\r\n        <script><![CDATA[\r\npackage org.meveo.service.script.rating;\r\n\r\nimport org.meveo.service.script.Script;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.dto.billing.WalletOperationDto;\r\nimport org.meveo.model.billing.WalletOperation;\r\nimport org.meveo.model.billing.Tax;\r\nimport org.meveo.model.rating.EDR;\r\n\r\nimport org.meveo.service.catalog.impl.TaxService;\r\nimport org.meveo.service.billing.impl.RatingService;\r\nimport org.meveo.service.billing.impl.WalletOperationService;\r\nimport org.meveo.service.crm.impl.CustomFieldInstanceService;\r\n\r\n/**\r\n * Logs the WalletOperation\r\n * @author schambrin\r\n */\r\npublic class WalletOperationWithCF extends org.meveo.service.script.Script {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(WalletOperationWithCF.class);\r\n\r\n    private RatingService ratingService = (RatingService)getServiceInterface(\"RatingService\");\r\n    private TaxService taxService = (TaxService)getServiceInterface(\"TaxService\");\r\n    private WalletOperationService walletOperationService = (WalletOperationService)getServiceInterface(\"WalletOperationService\");\r\n    CustomFieldInstanceService customFieldInstanceService = (CustomFieldInstanceService)getServiceInterface(\"CustomFieldInstanceService\");\r\n\r\n    public void execute(Map<String, Object> context) throws BusinessException {\r\n        context.entrySet().stream().forEach(entry->{ log.info(\"{}={}\", entry.getKey(), entry.getValue()); });\r\n        WalletOperation wo = (WalletOperation) context.get(Script.CONTEXT_ENTITY);\r\n        EDR edr = wo.getEdr();\r\n        if( edr == null ) {\r\n            log.error(\"This script is to be used for usage rating only (EDR is required)\");\r\n            throw new BusinessException(\"This script is to be used for usage rating only (EDR is required)\");\r\n        }\r\n\r\n        try {\r\n            log.info(\"wo={}\", new WalletOperationDto(wo));\r\n            log.info(\"wo.quantity={}\", wo.getQuantity());\r\n            log.info(\"wo.tax={}\", wo.getTax());\r\n\r\n            wo.setCfValue(\"cfParam4\", edr.getParameter4());\r\n            wo.setCfValue(\"cfParam5\", edr.getParameter5());\r\n            wo.setCfValue(\"cfParam6\", edr.getParameter6());\r\n        } catch(Exception e) {\r\n            log.error(\"Exception:\", e);\r\n            throw new BusinessException(e.getMessage());\r\n        }\r\n    }\r\n}\r\n]]></script>\r\n</ScriptInstance>"
												},
												"url": {
													"raw": "{{opencell.url}}/scriptInstance/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"scriptInstance",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "OfferTemplateCategory",
									"item": [
										{
											"name": "ocat|code=OCAT_ROOT|parent=",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"Offer category {{code}}\",\n    \"disabled\": false,\n    \"name\": \"OCat {{code}}\",\n    \"offerTemplateCategoryCode\": \"{{parent}}\",\n    \"active\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplateCategory/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplateCategory",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "ocat|code=OCAT_CHILD|parent=OCAT_ROOT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"Offer category {{code}}\",\n    \"disabled\": false,\n    \"name\": \"OCat {{code}}\",\n    \"offerTemplateCategoryCode\": \"{{parent}}\",\n    \"active\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplateCategory/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplateCategory",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Custom Fields",
									"item": [
										{
											"name": "Service",
											"item": [
												{
													"name": "CF_SE_DOUBLE (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE\",\n    \"description\": \"A double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"1.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE\",\n    \"description\": \"A double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"useInheritedAsDefaultValue\": false,\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"2.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE_VERSION (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE_VERSION\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"1.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_DOUBLE_VERSION (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_DOUBLE_VERSION\",\n    \"description\": \"A versioned double on Service\",\n    \"fieldType\": \"DOUBLE\",\n    \"useInheritedAsDefaultValue\": true,\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"2.0\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": true,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING_TEMPLATE_ONLY (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING_TEMPLATE_ONLY\",\n    \"description\": \"A String on service template only\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"from service template\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING_INSTANCE_ONLY (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING_INSTANCE_ONLY\",\n    \"description\": \"A String on service instance only\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"from service instance\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING (template)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING\",\n    \"description\": \"A String from service template\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceTemplate\",\n    \"defaultValue\": \"from service template\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_STRING (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_STRING\",\n    \"description\": \"A String from service instance\",\n    \"fieldType\": \"STRING\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"defaultValue\": \"from service instance\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF_SE_TIER_PRICE (instance)",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"CF_SE_TIER_PRICE\",\n    \"description\": \"Tiered pricing\",\n    \"languageDescriptions\": [\n        {\n            \"languageCode\": \"FRA\",\n            \"description\": \"Tarif par tranches\"\n        },\n        {\n            \"languageCode\": \"ENG\",\n            \"description\": \"Tiered pricing\"\n        }\n    ],\n    \"fieldType\": \"MULTI_VALUE\",\n    \"appliesTo\": \"ServiceInstance\",\n    \"useInheritedAsDefaultValue\": true,\n    \"storageType\": \"MATRIX\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n\t\"guiPosition\": \"tab:Pricing|ENG=Pricing|FRA=Tarification:0;fieldGroup:Price|ENG=Price|FRA=Prix:0;field:40\",\n    \"applicableOnEl\": \"#{ true }\",\n    \"matrixColumn\": [\n        {\n            \"columnUse\": \"USE_KEY\",\n            \"position\": 1,\n            \"code\": \"tier\",\n            \"label\": \"Tier\",\n            \"keyType\": \"STRING\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 1,\n            \"code\": \"volume\",\n            \"label\": \"Volume\",\n            \"keyType\": \"LONG\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 2,\n            \"code\": \"price\",\n            \"label\": \"Price\",\n            \"keyType\": \"DOUBLE\"\n        },\n        {\n            \"columnUse\": \"USE_VALUE\",\n            \"position\": 3,\n            \"code\": \"label\",\n            \"label\": \"Label\",\n            \"keyType\": \"STRING\"\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CFT|code=CF_SE_MAP_RON_DOUBLE|target=ServiceTemplate|type=DOUBLE|storage=MAP|desc=Map [RON]=Double",
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"fieldType\": \"{{type}}\",\r\n    \"appliesTo\": \"{{target}}\",\r\n    \"defaultValue\": 1.0,\r\n    \"storageType\": \"{{storage}}\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"triggerEndPeriodEvent\": false,\r\n    \"calendar\": null,\r\n    \"cacheValueTimeperiod\": null,\r\n    \"entityClazz\": null,\r\n    \"listValues\": null,\r\n    \"allowEdit\": true,\r\n    \"hideOnNew\": false,\r\n    \"maxValue\": null,\r\n    \"minValue\": null,\r\n    \"regExp\": null,\r\n    \"cacheValue\": false,\r\n    \"mapKeyType\": \"RON\",\r\n    \"applicableOnEl\": null,\r\n    \"indexType\": null,\r\n    \"matrixColumn\": null,\r\n    \"fieldCode\": null,\r\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\r\n  }"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CFT|code=CF_SE_MAP_RON_DOUBLE|target=ServiceInstance|type=DOUBLE|storage=MAP|desc=Map [RON]=Double",
													"request": {
														"method": "POST",
														"header": [
															{
																"value": "application/json",
																"key": "Content-Type"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"fieldType\": \"{{type}}\",\r\n    \"appliesTo\": \"{{target}}\",\r\n    \"defaultValue\": null,\r\n    \"storageType\": \"{{storage}}\",\r\n    \"valueRequired\": false,\r\n    \"versionable\": false,\r\n    \"triggerEndPeriodEvent\": false,\r\n    \"calendar\": null,\r\n    \"cacheValueTimeperiod\": null,\r\n    \"entityClazz\": null,\r\n    \"listValues\": null,\r\n    \"allowEdit\": true,\r\n    \"hideOnNew\": false,\r\n    \"maxValue\": null,\r\n    \"minValue\": null,\r\n    \"regExp\": null,\r\n    \"cacheValue\": false,\r\n    \"mapKeyType\": \"RON\",\r\n    \"applicableOnEl\": null,\r\n    \"indexType\": null,\r\n    \"matrixColumn\": null,\r\n    \"fieldCode\": null,\r\n    \"guiPosition\": \"tab:CustomTab:0;fieldGroup:CustomGroup;field:1\"\r\n  }"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "OfferTemplate",
											"item": [
												{
													"name": "CF|code=CF_OF_STRING|target=OfferTemplate|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"A {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "ProductTemplate",
											"item": [
												{
													"name": "CF|code=CF_PR_STRING|target=ProductTemplate|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{code}}: a {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "WalletOperation",
											"item": [
												{
													"name": "CF|code=cfParam4|target=WalletOperation|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{code}}: a {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF|code=cfParam5|target=WalletOperation|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{code}}: a {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "CF|code=cfParam6|target=WalletOperation|type=STRING|storage=SINGLE",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{code}}: a {{storage}} {{type}} on {{target}}\",\n    \"fieldType\": \"{{type}}\",\n    \"appliesTo\": \"{{target}}\",\n    \"defaultValue\": \"from CFT on {{target}}\",\n    \"storageType\": \"SINGLE\",\n    \"valueRequired\": false,\n    \"versionable\": false,\n    \"triggerEndPeriodEvent\": false,\n    \"allowEdit\": true,\n    \"hideOnNew\": false,\n    \"cacheValue\": false,\n    \"maxValue\": 200,\n    \"guiPosition\": \"tab:Tab:0;group:Group;field:1\"\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"customFieldTemplate",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Counters",
									"item": [
										{
											"name": "counter|CN_USG_COUNTER_3|Counter 3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\" : \"{{request.label.1}}\",\r\n  \"description\" : \"{{request.label.2}}\",\r\n  \"calendar\": \"CAL_MONTHLY_1ST\",\r\n  \"unity\": null,\r\n  \"type\": \"USAGE\",\r\n  \"ceiling\": 100,\r\n  \"disabled\": false,\r\n  \"counterLevel\": \"SI\",\r\n  \"ceilingExpressionEl\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|CN_USG_COUNTER_4|Counter 4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\" : \"{{request.label.1}}\",\r\n  \"description\" : \"{{request.label.2}}\",\r\n  \"calendar\": \"CAL_MONTHLY_1ST\",\r\n  \"unity\": null,\r\n  \"type\": \"USAGE\",\r\n  \"ceiling\": 100,\r\n  \"disabled\": false,\r\n  \"counterLevel\": \"SI\",\r\n  \"ceilingExpressionEl\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_USG_ACCUM_C|type=USAGE|target=CUST|calendar=CAL_MONTHLY_1ST|desc=Accumulates quantities on the Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_EUR_ACCUM_C|type=USAGE_AMOUNT|target=CUST|calendar=CAL_MONTHLY_1ST|desc=Accumulates amounts on the Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"{{type}}\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "counter|code=CN_MULTI_ACCUM_C|type=MULTI_VALUE|target=CUST|calendar=MONTHLY|desc=Accumulates quantity for Param2 on Customer",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"disabled\": false,\n    \"calendar\": \"{{calendar}}\",\n    \"type\": \"USAGE\",\n    \"ceiling\": 0,\n    \"counterLevel\": \"{{target}}\",\n    \"ceilingExpressionEl\": null,\n    \"accumulator\": true,\n    \"accumulatorType\": \"{{type}}\",\n    \"filterEl\": \"#{ true }\",\n    \"keyEl\": \"#{ op.parameter2 }\",\n    \"valueEl\": \"#{ op.quantity }\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/counterTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"counterTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Prepaid wallets",
									"item": [
										{
											"name": "wallet|code=PREPAID|desc=Prepaid wallet",
											"request": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"walletType\": \"PREPAID\",\r\n    \"consumptionAlertSet\": null,\r\n    \"fastRatingLevel\": null,\r\n    \"lowBalanceLevel\": 100.000000000000,\r\n    \"rejectLevel\": 50.000000000000\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{opencell.url}}/billing/wallet/template",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"billing",
														"wallet",
														"template"
													]
												}
											},
											"response": []
										},
										{
											"name": "notif|code=prepaidLowBalance|event=LOW_BALANCE|class=org.meveo.model.billing.WalletInstance",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"disabled\": false,\n    \"classNameFilter\": \"{{class}}\",\n    \"eventTypeFilter\": \"{{event}}\",\n    \"elFilter\": \"#{ true }\",\n    \"scriptInstanceCode\": \"org.meveo.service.script.LogContext\",\n    \"scriptParams\": {},\n    \"priority\": 1,\n    \"active\": true,\n    \"runAsync\": false,\n    \"saveSuccessfulNotifications\": true\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/notification/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"notification",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Charges",
									"item": [
										{
											"name": "CH_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_PRD\",\n    \"description\": \"Product\",\n    \"invoiceSubCategory\": \"ISCAT_PRD\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalogManagement/productChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalogManagement",
														"productChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_2MONTHS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_DAILY\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|code=CH_REC_ADV_MONTHLY|desc=Monthly recurring fee (1st of the month)",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_MONTHLY\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ARR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_REC_ARR\",\n    \"description\": \"Recurring charge ARREAR\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": false,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_2DAYS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT|Charge unit 1",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"{{request.label.2}}\",\n    \"invoiceSubCategory\": \"ISCAT_USG\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"UNIT\",\n    \"priority\": 10\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_2|Charge unit 2",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit2\",\r\n    \"ratingUnitDescription\": \"unit2\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT2\",\r\n    \"triggerNextCharge\": true,\r\n    \"priority\": 20\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_2_bis|Charge unit 2 bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit2\",\r\n    \"ratingUnitDescription\": \"unit2\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT2\",\r\n    \"triggerNextCharge\": true,\r\n    \"priority\": 21\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_3|Charge unit 3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit3\",\r\n    \"ratingUnitDescription\": \"unit3\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT3\",\r\n    \"priority\": 30\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_3_bis|Charge unit 3 bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit3\",\r\n    \"ratingUnitDescription\": \"unit3\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT3\",\r\n    \"priority\": 31\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_USG_UNIT_4|Charge unit 4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"{{request.label.2}}\",\r\n    \"invoiceSubCategory\": \"ISCAT_USG\",\r\n    \"taxClassCode\": \"NORMAL\",\r\n    \"disabled\": false,\r\n    \"amountEditable\": true,\r\n    \"inputUnitDescription\": \"unit4\",\r\n    \"ratingUnitDescription\": \"unit4\",\r\n    \"unitMultiplicator\": 1,\r\n    \"unitNbDecimal\": 6,\r\n    \"roundingModeDtoEnum\": \"NEAREST\",\r\n    \"filterParam1\": \"UNIT4\",\r\n    \"priority\": 40\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH|code=USG_RON|desc=Charge RON",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.0}}_{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"invoiceSubCategory\": \"ISCAT_USG\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"inputUnitDescription\": \"unit\",\n    \"ratingUnitDescription\": \"unit\",\n    \"unitMultiplicator\": 1,\n    \"unitNbDecimal\": 6,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"filterParam1\": \"RON\",\n    \"priority\": 10\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/usageChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"usageChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_5MONTHS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"description\": \"Recurring charge {{request.label}}\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_PERIOD_5DAYS\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OSS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Subscription\",\n    \"oneShotChargeTemplateType\": \"SUBSCRIPTION\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OSS\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Termination\",\n    \"oneShotChargeTemplateType\": \"TERMINATION\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OST\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "charge|CH_OSO",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"One Shot Other\",\n    \"oneShotChargeTemplateType\": \"OTHER\",\n    \"immediateInvoicing\": false,\n    \"invoiceSubCategory\": \"ISCAT_OSO\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"amountEditable\": true,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\"\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/oneShotChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"oneShotChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "CH_REC_ADV",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"CH_REC_ADV\",\n    \"description\": \"Recurring charge ADVANCE\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ true }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "recurringCharge|CH_REC_ADV|true",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label.1}}\",\n    \"description\": \"Recurring charge ADVANCE\",\n    \"invoiceSubCategory\": \"ISCAT_REC\",\n    \"taxClassCode\": \"NORMAL\",\n    \"disabled\": false,\n    \"unitNbDecimal\": 4,\n    \"roundingModeDtoEnum\": \"NEAREST\",\n    \"calendar\": \"CAL_MONTHLY_1ST\",\n    \"durationTermInMonth\": null,\n    \"subscriptionProrata\": true,\n    \"terminationProrata\": true,\n    \"applyInAdvance\": true,\n    \"filterExpression\": \"#{ {{request.label.2}} }\",\n    \"triggeredEdrs\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"recurringChargeTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Price Plans",
									"item": [
										{
											"name": "PP_REC_ADV",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_REC_ADV\",\n    \"eventCode\": \"CH_REC_ADV\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_OSS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_OSS\",\n    \"eventCode\": \"CH_OSS\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\",\n    \"scriptInstance\": null\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_OST",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_OST\",\n    \"eventCode\": \"CH_OST\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\",\n    \"scriptInstance\": null\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_2MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_2MONTHS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_PRD\",\n    \"eventCode\": \"CH_PRD\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_5DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_5DAYS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "pp|code=REC_ADV_MONTHLY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"eventCode\": \"CH_{{code}}\",\n    \"amountWithoutTax\": 100.123456789\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_DAILY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_DAILY\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ARR",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_REC_ARR\",\n    \"eventCode\": \"CH_REC_ARR\",\n    \"amountWithoutTax\": 100,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValue(serviceInstance, 'CF_SE_DOUBLE') }\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT\",\n    \"eventCode\": \"CH_USG_UNIT\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT 2",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_2\",\n    \"eventCode\": \"CH_USG_UNIT_2\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 2 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_2_bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_2_bis\",\n    \"eventCode\": \"CH_USG_UNIT_2_bis\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 2.5 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_3",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_3\",\n    \"eventCode\": \"CH_USG_UNIT_3\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 3 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_3_bis",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_3_bis\",\n    \"eventCode\": \"CH_USG_UNIT_3_bis\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 3.5 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_USG_UNIT_4",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_USG_UNIT_4\",\n    \"eventCode\": \"CH_USG_UNIT_4\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ 4 * mv:getInheritedCFValueForDate(serviceInstance, 'CF_SE_DOUBLE_VERSION',op.operationDate) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.LogContext\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "pp|code=USG_RON",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"PP_{{code}}\",\n    \"eventCode\": \"CH_{{code}}\",\n    \"amountWithoutTax\": 100,\n    \"amountWithTax\": 1,\n    \"amountWithoutTaxEL\": \"#{ mv:getInheritedCFValueByKey(serviceInstance, 'CF_SE_MAP_RON_DOUBLE', op.quantity) }\",\n    \"woDescriptionEL\": null,\n    \"scriptInstance\": \"org.meveo.service.script.rating.LogWalletOperation\"\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_5MONTHS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_5MONTHS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "PP_REC_ADV_2DAYS",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{request.label}}\",\n    \"eventCode\": \"CH_REC_ADV_2DAYS\",\n    \"amountWithoutTax\": 100\n}\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"pricePlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Services",
									"item": [
										{
											"name": "RESET SERVICE LIST (DO NOT EDIT)",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "af6bfe2d-ddeb-49ba-b7c8-ad1f7091213f",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "HEAD",
												"header": [],
												"url": {
													"raw": "{{opencell.url}}/provider",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"provider"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_OSS|desc=One-shot subscription service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "4449f502-eb18-46c2-9dfe-aa8780c98198",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": {\r\n      \"serviceChargeTemplateSubscription\": [\r\n        { \"code\": \"CH_OSS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												},
												"description": "Should stay first of the list (see script)"
											},
											"response": []
										},
										{
											"name": "SE|code=SE_OST|desc=One-shot termination service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "1ca46eeb-aff4-4b7d-b0f9-34d9fe4775d2",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 15.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": {\r\n      \"serviceChargeTemplateSubscription\": [\r\n        { \"code\": \"CH_OST\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												},
												"description": "Should stay first of the list (see script)"
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV|desc=Recurring service ADVANCE",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "5f00f995-fdc3-4689-b33d-d40b52f37f00",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_UNIT|desc=Unit usage service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "de963f43-e2a0-47ef-adaf-ca8a3029409c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_DOUBLE\",\n                \"doubleValue\": 3\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_UNIT\",\n                \"wallets\": null,\n                \"counterTemplate\": null,\n                \"accumulatorCounterTemplates\": {\n                \t\"counterTemplate\": [\n                \t\t\"CN_USG_ACCUM_C\",\n                \t\t\"CN_EUR_ACCUM_C\",\n                \t\t\"CN_MULTI_ACCUM_C\"\n                \t]\n                }\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_UNIT_2_3_4|desc=Unit usage service 2, 3, 4",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "e56f8546-8631-4133-8127-3ed1507df0f3",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": {\r\n      \"serviceChargeTemplateUsage\": [\r\n        { \"code\": \"CH_USG_UNIT_2\" },\r\n        { \"code\": \"CH_USG_UNIT_2_bis\" },\r\n        { \"code\": \"CH_USG_UNIT_3\", \"counterTemplate\":\"CN_USG_COUNTER_3\" },\r\n        { \"code\": \"CH_USG_UNIT_3_bis\" },\r\n        { \"code\": \"CH_USG_UNIT_4\", \"counterTemplate\":\"CN_USG_COUNTER_4\" }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateRecurrings\": null,\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_RON|desc=RON usage service",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "076de4ad-3f13-4c32-9136-3f8bde19f340",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_MAP_RON_DOUBLE\",\n                \"mapValue\": {\n\"0<10\":   { \"value\": 2.0 },\n\"10<100\": { \"value\": 3.0 },\n\"100<\":   { \"value\": 4.0 }\n                }\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_RON\",\n                \"wallets\": null,\n                \"counterTemplate\": null\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_USG_UNIT_PREPAID|desc=Unit usage service with a prepaid wallet",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "ff576198-4d1a-40a9-9bc3-99b2618eef3a",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_SE_DOUBLE\",\n                \"doubleValue\": 3\n            }\n        ]\n    },\n    \"imageBase64\": null,\n    \"imagePath\": null,\n    \"invoicingCalendar\": null,\n    \"longDescription\": null,\n    \"mandatory\": true,\n    \"serviceChargeTemplateUsages\": {\n        \"serviceChargeTemplateUsage\": [\n            {\n                \"code\": \"CH_USG_UNIT\",\n                \"wallets\": {\n                    \"wallet\": [\n                        \"PREPAID\"\n                    ]\n                },\n                \"counterTemplate\": null,\n                \"accumulatorCounterTemplates\": null\n            }\n        ]\n    },\n    \"serviceChargeTemplateRecurrings\": null,\n    \"serviceChargeTemplateSubscriptions\": null,\n    \"serviceChargeTemplateTerminations\": null,\n    \"somCode\": null\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ARR|desc=Recurring service ARREAR",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "d1489406-5a1f-4353-9b9e-fa16ac095f71",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": {\r\n        \"customField\": [\r\n            { \"code\": \"CF_SE_DOUBLE\", \"doubleValue\": 3.0 }\r\n        ]\r\n    },\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ARR\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIODS_DAY|desc=Recurring service ADVANCE DAY PERIODS",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "e94b2d17-c68e-4ffb-ae36-9952d0cd8813",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_DAILY\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_2DAYS\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_5DAYS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIODS_MONTH|desc=Recurring service ADVANCE MONTH PERIODS",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "d297b925-b7ef-43ed-bc70-a7bc3b479cd8",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_MONTHLY\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_2MONTHS\", \"wallets\": null },\r\n        { \"code\": \"CH_REC_ADV_5MONTHS\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "SE|code=SE_REC_ADV_PERIOD_DAILY|desc=Recurring service ADVANCE DAILY",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"id": "fd151e8d-172c-4032-97be-59704c71bc7d",
														"exec": [
															""
														]
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"customFields\": null,\r\n    \"imageBase64\": null,\r\n    \"imagePath\": null,\r\n    \"invoicingCalendar\": null,\r\n    \"longDescription\": null,\r\n    \"mandatory\": true,\r\n    \"serviceChargeTemplateUsages\": null,\r\n    \"serviceChargeTemplateRecurrings\": {\r\n      \"serviceChargeTemplateRecurring\": [\r\n        { \"code\": \"CH_REC_ADV_DAILY\", \"wallets\": null }\r\n      ]\r\n    },\r\n    \"serviceChargeTemplateSubscriptions\": null,\r\n    \"serviceChargeTemplateTerminations\": null,\r\n    \"somCode\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"serviceTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"id": "e4f2015c-3598-4138-b4cc-5ec9e8c20fed",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"id": "29e52600-43ba-429c-b383-c0315cdced62",
												"exec": [
													"var services;",
													"var serviceCode;",
													"if(pm.info.requestName==='RESET SERVICE LIST (DO NOT EDIT)') {",
													"    services = \"\";",
													"} else {",
													"    services = pm.globals.get(\"offer.services\");",
													"    serviceCode = pm.globals.get(\"code\");",
													"    if(services === \"\") {",
													"        services = '{\"serviceTemplate\":{\"code\":\"'+serviceCode+'\",\"customFields\":null},\"mandatory\":false,\"incompatibleServiceTemplate\":[]}';",
													"    } else {",
													"        services += '\\n,{\"serviceTemplate\":{\"code\":\"'+serviceCode+'\",\"customFields\":null},\"mandatory\":false,\"incompatibleServiceTemplate\":[]}';",
													"    }",
													"}",
													"",
													"pm.globals.set(\"offer.services\", services);",
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Products and Bundles",
									"item": [
										{
											"name": "PR_PRD",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"code\": \"PR_PRD\",\r\n  \"description\": \"Product\",\r\n  \"name\": \"A product has no name (or has it)\",\r\n  \"validFrom\": null,\r\n  \"validTo\": null,\r\n  \"lifeCycleStatus\": \"ACTIVE\",\r\n  \"customFields\": null,\r\n  \"imageBase64\": null,\r\n  \"businessProductModel\": null,\r\n  \"offerTemplateCategory\": null,\r\n  \"productChargeTemplate\": [ { \"code\": \"CH_PRD\" } ],\r\n  \"walletTemplate\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalogManagement/productTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalogManagement",
														"productTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Offers",
									"item": [
										{
											"name": "OF|code=OF",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{template.label}} offer {{$timestamp}}\",\n    \"disabled\": false,\n    \"lifeCycleStatus\": \"ACTIVE\",\n    \"bomCode\": null,\n    \"offerTemplateCategoryCode\": null,\n    \"offerProductTemplate\": [\n        {\n            \"productTemplate\": {\n                \"code\": \"PR_PRD\"\n            }\n        }\n    ],\n    \"offerServiceTemplate\": [\n{{offer.services}}\n    ],\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"CF_OF_STRING\",\n                \"stringValue\": \"From OfferTemplate {{code}}\"\n            }\n        ]\n    }\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "OF|code=OF_EMPTY",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\":\"{{code}}\",\r\n    \"description\":\"{{template.label}} empty offer {{$timestamp}}\",\r\n    \"disabled\":false,\r\n    \"lifeCycleStatus\":\"ACTIVE\",\r\n    \"bomCode\":null,\r\n    \"offerTemplateCategoryCode\":null,\r\n    \"offerProductTemplate\": null,\r\n    \"offerServiceTemplate\":null,\r\n    \"customFields\": {\r\n    \t\"customField\": [\r\n    \t\t{\r\n    \t\t\t\"code\": \"CF_OF_STRING\",\r\n    \t\t\t\"stringValue\": \"From OfferTemplate {{code}}\"\r\n    \t\t}\r\n    \t]\r\n    }\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"offerTemplate",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "BxM",
									"item": [
										{
											"name": "BSM",
											"item": [
												{
													"name": "BSM_OSS",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"BSM_OSS\",\r\n    \"description\": \"BSM Subscription fee\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"SE_OSS\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "BSM_REC_ADV",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"BSM_REC_ADV\",\r\n    \"description\": \"BSM Recurring Advance\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"SE_REC_ADV\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bsm|code=BSM_USG_UNIT|desc=BSM unit usage|service=SE_USG_UNIT",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"license\": \"COM\",\r\n    \"serviceTemplate\": { \"code\": \"{{service}}\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessServiceModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessServiceModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "BPM",
											"item": [
												{
													"name": "bpm|code=BPM_PRD|desc=BPM product|target=PR_PRD",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\",\r\n    \"description\": \"{{desc}}\",\r\n    \"license\": \"COM\",\r\n    \"productTemplate\": { \"code\": \"{{target}}\" }\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessProductModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessProductModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "BOM",
											"item": [
												{
													"name": "bom|code=BOM_SERVICE|desc=BOM based on offer OF|offer=OF",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": { \"code\": \"{{offer}}\" },\n\t\"moduleItems\": null\n}\n\n"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|install|code=BOM_SERVICE",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|code=BOM_BSM|desc=BOM with BSMs|offer=OF_EMPTY",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": {\n        \"code\": \"{{offer}}\"\n    },\n    \"moduleItems\": [\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_REC_ADV\"\n            }\n        },\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_USG_UNIT\"\n            }\n        },\n        {\n            \"businessServiceModel\": {\n                \"code\": \"BSM_OSS\"\n            }\n        },\n        {\n            \"businessProductModel\": {\n                \"code\": \"BPM_PRD\"\n            }\n        }\n    ]\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|install|code=BOM_BSM",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												},
												{
													"name": "bom|code=BOM_EMPTY|desc=BOM on an empty offer|offer=OF_EMPTY",
													"request": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"code\": \"{{code}}\",\n    \"description\": \"{{desc}}\",\n    \"license\": \"COM\",\n    \"offerTemplate\": {\n        \"code\": \"{{offer}}\"\n    },\n    \"moduleItems\": []\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/createOrUpdate",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"createOrUpdate"
															]
														}
													},
													"response": []
												},
												{
													"name": "installBOM|code=BOM_EMPTY",
													"request": {
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n    \"code\": \"{{code}}\"\r\n}"
														},
														"url": {
															"raw": "{{opencell.url}}/catalog/businessOfferModel/install",
															"host": [
																"{{opencell.url}}"
															],
															"path": [
																"catalog",
																"businessOfferModel",
																"install"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Discount plan",
									"item": [
										{
											"name": "Discount plan",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DP_DISCOUNT_PLAN\",\r\n    \"description\": \"Discount plan description\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "Discount plan item (percent 50%)",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DPI_DISCOUNT_PLAN_50P\",\r\n    \"discountPlanCode\": \"DP_DISCOUNT_PLAN\",\r\n    \"invoiceCategoryCode\": \"ICAT_OSH\",\r\n    \"invoiceSubCategoryCode\": \"ISCAT_OSO\",\r\n    \"accountingCode\": \"ACCT_CODE\",\r\n    \"expressionEl\": \"#{ true }\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"PERCENTAGE\",\r\n    \"discountValue\": 50,\r\n    \"discountValueEL\": \"#{ 50 }\",\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "Discount plan item (fixed 10)",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"DPI_DISCOUNT_PLAN_10F\",\r\n    \"discountPlanCode\": \"DP_DISCOUNT_PLAN\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"FIXED\",\r\n    \"discountValue\": 10,\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlan|DP_FIXED_200",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Discount plan {{request.label.1}}\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlanItem|DP_FIXED_200|DPI_FIXED_200|FIXED|200",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.2}}\",\r\n    \"discountPlanCode\": \"{{request.label.1}}\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"{{request.label.3}}\",\r\n    \"discountValue\": {{request.label.4}},\r\n    \"discountValueEL\": \"#{amount}\",\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlan|DP_GLOBAL_10P",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.1}}\",\r\n    \"description\": \"Discount plan {{request.label.1}}\",\r\n    \"defaultDuration\": null,\r\n    \"durationUnit\": null,\r\n    \"startDate\": null,\r\n    \"endDate\": null,\r\n    \"customFields\": null\r\n}"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlan/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlan",
														"createOrUpdate"
													]
												}
											},
											"response": []
										},
										{
											"name": "discountPlanItem|DP_GLOBAL_10P|DPI_GLOBAL_10P|PERCENTAGE|10",
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"code\": \"{{request.label.2}}\",\r\n    \"discountPlanCode\": \"{{request.label.1}}\",\r\n    \"disabled\": false,\r\n    \"discountPlanItemType\": \"{{request.label.3}}\",\r\n    \"discountValue\": {{request.label.4}},\r\n    \"discountValueEL\": null,\r\n    \"customFields\": null\r\n}\r\n"
												},
												"url": {
													"raw": "{{opencell.url}}/catalog/discountPlanItem/createOrUpdate",
													"host": [
														"{{opencell.url}}"
													],
													"path": [
														"catalog",
														"discountPlanItem",
														"createOrUpdate"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "From BOM/BSM/BPM",
					"item": [
						{
							"name": "fromBOM|bom=BOM_BSM|code=OF_USG_1|name=Offer USG 1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9f470736-57a1-467b-84ad-d36d43e43861",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "4801d20e-4012-40eb-8881-c0f9113809cf",
										"exec": [
											"pm.globals.set(\"offer.id\", responseBody);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"bomCode\": \"{{bom}}\",\n    \"code\": \"{{code}}\",\n    \"name\": \"{{name}}\",\n    \"description\": \"{{name}} {{$timestamp}}\",\n    \"businessServiceModel\": [\n        {\n            \"code\": \"BSM_USG_UNIT\",\n            \"service\": {\n                \"code\": \"SE_USG_UNIT\",\n                \"description\": \"Unit usage rating 1\",\n                \"mandatory\": true,\n                \"parameter\": []\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalogManagement/createOfferFromBOM",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalogManagement",
										"createOfferFromBOM"
									]
								}
							},
							"response": []
						},
						{
							"name": "fromBOM|bom=BOM_BSM|code=OF_USG_2|name=Offer USG 2",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5717b264-a73d-43c5-ba4e-10bea6abbd8d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d69560b3-3990-41be-b90c-597bd015f726",
										"exec": [
											"pm.globals.set(\"offer.id\", responseBody);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"bomCode\": \"{{bom}}\",\n    \"code\": \"{{code}}\",\n    \"name\": \"{{name}}\",\n    \"description\": \"{{name}} {{$timestamp}}\",\n    \"businessServiceModel\": [\n        {\n            \"code\": \"BSM_USG_UNIT\",\n            \"service\": {\n                \"code\": \"SE_USG_UNIT\",\n                \"description\": \"Unit usage rating 2\",\n                \"mandatory\": true,\n                \"parameter\": []\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalogManagement/createOfferFromBOM",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalogManagement",
										"createOfferFromBOM"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"description": "# Introduction\r\n\r\nThis configuration file is designed to be a basis for all configurations provided by Opencell.\r\nIt merely contains most common general settings and a catalog of services implementing various rating models.\r\n\r\n# Configuring Opencell\r\n\r\nThere are 2 main ways for configuring ***Opencell***:\r\n* GUI (*Administration GUI* and *Marketing Manager*)\r\n* API (all Opencell configuration and operations can be performed using our extensive API library)\r\n\r\nThe most flexible way is using APIs which currently are available as **Rest** and **Soap**.\r\nThe **Soap** API are deprecated, so will won't mention them anymore.\r\n\r\n## Tools\r\n\r\nAny tools able to send HTTP requests will do.\r\nOne could even just script *curl* calls using shell script.\r\nBut of course, a more user friendly tool will make things easier.\r\n\r\nHere at ***Opencell***, we prefer **Postman** (https://getpostman.com):\r\n* it has a modern, friendly interface\r\n* Sets of API request can be organized into collections, themselves structured into a folder tree.\r\n* Collections can be exported as _JSON_ files or shared with other team members using collaboration features (payed version)\r\n* it allows to uses variables at different levels (collection, environement, global) and to execute *Javascript* scripts before and after executing API calls which allows great flexibility and API response testing.\r\n\r\n\r\n\r\n# Configuration documentation guidelines\r\n\r\nIn order to document our configuration, we make full used of the internal documentation capabilities of the Markdown fields on Postman Objects\r\n\r\n## Default template for *Collection* documentation\r\n\r\n## Default template for *Folder* documentation\r\n\r\n## Default template for *Request* documentation\r\n\r\n\r\n\r\n# Tips & guidelines\r\n\r\nHere follow a few tips for understanding this collection.\r\n\r\n## Collection pre-request script\r\n\r\n```javascript\r\npm.globals.set(\"timestamp.iso\", (new Date()).toISOString());\r\npm.globals.set(\"request.label\", pm.info.requestName);\r\n\r\nvar parts = pm.info.requestName.split(\"|\");\r\n\r\nfor(let i=0; i<parts.length; i++) {\r\n    pm.globals.set(\"request.label.\"+i, parts[i]);\r\n}\r\n```\r\n\r\n## Configuration guidelines\r\n\r\n## Entities\r\n\r\n<entity>_<project_code>_XXX\r\n\r\n### Custom Fields\r\n\r\nCF_<entity>_<project_code>_ XXX\r\n\r\n<entity> will be discarded for inherited\r\n\r\n#### Custom field visibility\r\n\r\nSE_<entity>_<project_code>_<markers>_XXX\r\n\r\n<markers> are used in CFT.applicableOnEl to show CFT on entities\r\n\r\n\r\n## Entity abbreviation\r\n\r\n| code  | entity                        |\r\n|:-----:|:------------------------------|\r\n|   P   | Provider                      |\r\n|   S   | Seller                        |\r\n|   C   | Customer                      |\r\n|  CA   | Customer Account              |\r\n|  BA   | Billing Account               |\r\n|  UA   | User Account                  |\r\n|  SU   | Subscription                  |\r\n|  AP   | Access Point                  |\r\n|  OF   | Offer Template                |\r\n|  SE   | Service Template and Instance |\r\n|  CH   | Charge Template               |\r\n|  PP   | Price Plan                    |\r\n|  CN   | Counter                       |\r\n| ICAT  | Invoice Category              |\r\n| ISCAT | Invoice SubCategory           |\r\n|  CAL  | Calendar                      |\r\n|  BC   | Billing Cycle                 |\r\n",
			"auth": {
				"type": "oauth2",
				"oauth2": [
					{
						"key": "accessToken",
						"value": "{{access_token}}",
						"type": "string"
					},
					{
						"key": "addTokenTo",
						"value": "header",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "153309f9-f1ae-45b3-af09-290aefdeb4b0",
						"type": "text/javascript",
						"exec": [
							"// Initialize variables",
							"var now=new Date();",
							"pm.globals.set(\"timestamp.iso\", now.toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"wait\", 0);",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"",
							"    if(parts[i].indexOf(\"=\") != -1 ){",
							"        propName = parts[i].split(\"=\")[0].trim();",
							"        propValue = parts[i].split(\"=\")[1];",
							"        pm.globals.set(propName, propValue);",
							"    }",
							"}",
							"",
							"// Manage token auth",
							"var token = pm.variables.get(\"access_token\");",
							"//console.log(\"token=\"+token);",
							"",
							"if(!token || token === \"\" ) {",
							"    console.log(\"token is not defined\");",
							"    // Set some environment variables to use in the access token request. ",
							"    var client_id = pm.environment.get(\"client.id\");",
							"    var client_secret = pm.environment.get(\"client.secret\");",
							"    var opencell_url = pm.environment.get(\"opencell.base\");",
							"    var username = pm.environment.get(\"opencell.username\");",
							"    var password = pm.environment.get(\"opencell.password\");",
							"    var CryptoJS = require(\"crypto-js\")",
							"    // Encrypt the Client ID and Secret in base64 ",
							"    var rawStr = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret)",
							"    var client_cred = CryptoJS.enc.Base64.stringify(rawStr)",
							"    // Now let's get a new oauth2 access_token and set it in a variable ",
							"    pm.sendRequest(",
							"        { ",
							"            url: opencell_url + '/auth/realms/opencell/protocol/openid-connect/token', ",
							"            method: 'POST', ",
							"            header: ",
							"            { ",
							"                //'Authorization': 'Basic ' + client_cred, ",
							"                'Cache-Control': 'no-cache', ",
							"                'Content-Type': 'application/x-www-form-urlencoded' ",
							"            }, body: ",
							"            { ",
							"                mode: 'urlencoded', ",
							"                urlencoded: ",
							"                [",
							"                    { ",
							"                        key: \"client_id\", ",
							"                        value: client_id ",
							"                    }, ",
							"                    { ",
							"                        key: \"username\", ",
							"                        value: username ",
							"                    },",
							"                    { ",
							"                        key: \"password\", ",
							"                        value: password ",
							"                    },",
							"                    { ",
							"                        key: \"grant_type\", ",
							"                        value: \"password\" ",
							"                    },",
							"                    { ",
							"                        key: \"client_secret\", ",
							"                        value: client_secret",
							"                    },",
							"                ] ",
							"            } ",
							"        }, ",
							"        function (err, response) { ",
							"            //console.log(\"AUTH_RETURN_CODE\", err);",
							"            //console.log(\"AUTH_RESPONSE\", response);",
							"            const jsonResponse = response.json();",
							"            console.log(\"Saving token to variables\")",
							"            pm.variables.set(\"access_token\", jsonResponse.access_token); ",
							"        }",
							"        );",
							"} else{",
							"    console.log(\"token already exists\");",
							"}",
							"",
							"// Setup Function library",
							"utils = {",
							"  sleep: function(seconds) {",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + seconds + \" seconds...\");",
							"    setTimeout(function () { }, seconds * 1000);",
							"  }",
							"};",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "d1d9f8fd-eb27-4dd3-90e5-9b1a6a52904b",
						"type": "text/javascript",
						"exec": [
							"var wait = pm.variables.get(\"wait\");",
							"if (wait > 0) {",
							"    // utils.sleep(wait); doesn't seem to work",
							"    console.log(\"Waiting for \" + pm.variables.get(\"request.label.0\") + \" for \" + wait + \" seconds...\");",
							"    setTimeout(function () { }, wait * 1000);",
							"}",
							"",
							"if (pm.response.code == 401) {",
							"    console.log(\"Unauthorized[401] : access_token may be invalid -> deleting token. Please retry...\");",
							"    pm.variables.unset(\"access_token\");",
							"    console.log(\"Jumping to \" + pm.info.requestName);",
							"    postman.setNextRequest(pm.info.requestName);",
							"} else {",
							"    tests[\"is.success\"] = (pm.response.code == 200 || pm.response.code == 204);",
							"}",
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "#5489 - ChargeToDateOnTermination EL",
			"item": [
				{
					"name": "Setup",
					"item": [
						{
							"name": "Create calendar for BC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4b3eed52-9150-47af-8ecd-1ded20809062",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{testCode}}_CAL_5489_BC\",\n  \"description\": \"Monthly (1st of the month)\",\n  \"calendarType\": \"YEARLY\",\n  \"days\": [\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JANUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"FEBRUARY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MARCH\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"APRIL\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"MAY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JUNE\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"JULY\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"AUGUST\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"SEPTEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"OCTOBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"NOVEMBER\"\n\t  },\n\t  {\n\t    \"day\": \"1\",\n\t    \"month\": \"DECEMBER\"\n\t  }\n  ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create calendar for Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b153ac71-3ed3-4e37-9236-f51db4efc811",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_CAL_5489_REC\",\n    \"description\": \"Monthly (1st of the month)\",\n    \"calendarType\": \"YEARLY\",\n    \"days\": [\n        {\n            \"day\": \"1\",\n            \"month\": \"JANUARY\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"FEBRUARY\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"MARCH\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"APRIL\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"MAY\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"JUNE\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"JULY\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"AUGUST\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"SEPTEMBER\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"OCTOBER\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"NOVEMBER\"\n        },\n        {\n            \"day\": \"1\",\n            \"month\": \"DECEMBER\"\n        }\n    ]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/calendar/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"calendar",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create BillingCycle 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "25c7ea3b-ab2a-4754-bc97-bf5690c7c751",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_BC_5489_1\",\r\n\t\"description\": \"Monthly Invoice Cycle 1\",\r\n\t\"transactionDateDelay\": \"0\",\r\n\t\"invoiceDateProductionDelay\": \"0\",\r\n\t\"dueDateDelay\": \"0\",\r\n\t\"invoiceDateDelay\": \"0\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5489_BC\",\r\n\t\"lastTransactionDateEL\":\"#{mv:getStartOfMonth(mv:now())}\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billingCycle/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billingCycle",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Seller",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6f9b1a7c-76ad-4c42-9c47-e4d01f51786f",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\r\n    \t\"code\": \"{{testCode}}_SELLER_5489\",\r\n    \t\"currencyCode\": \"EUR\",\r\n    \t\"languageCode\": \"FRA\"\r\n    }"
								},
								"url": {
									"raw": "{{opencell.url}}/seller/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"seller",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Class",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d36772a0-ebc3-4470-a3db-4eed5611c3aa",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{testCode}}_taxClass_5489\",\r\n    \"description\": \"Tax class\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/taxClass/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxClass",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Category",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d4e1c12-b8d3-4501-88d5-7eb51ac33e66",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\":\"{{testCode}}_taxCategory_5489\",\r\n\t\"description\":\"Tax category\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/taxCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "tax|{{testCode}}_TAX_5489_20|VAT 20%|20|445710000",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7ab09b4e-c587-4960-af60-3f7454281312",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"{{request.label.1}}\",\n  \"description\": \"{{request.label.2}}\",\n  \"percent\": \"{{request.label.3}}\",\n  \"accountingCode\": \"{{request.label.4}}\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/tax/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"tax",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Tax Mapping",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9628a8cb-9e6c-4b43-a2ca-2874c7e33b99",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"accountTaxCategoryCode\": \"{{testCode}}_taxCategory_5489\",\r\n    \"chargeTaxClassCode\": \"{{testCode}}_taxClass_5489\",\r\n    \"taxCode\": \"{{testCode}}_TAX_5489_20\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/taxMapping/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"taxMapping",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "INV_CATEGORY|{{testCode}}_INV_CAT_5489",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0bc3b3a5-ab10-4815-a701-ef966bf2dbd5",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"code\": \"{{request.label.1}}\",\n\t\"description\": \"Invoice category\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoiceCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoiceCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "INV_CATEGORY|{{testCode}}_INV_CAT_5489|{{testCode}}_INV_SUBCAT_5489",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ebe95276-aa28-4d40-96ba-ed3ce03d9eb3",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"code\": \"{{request.label.2}}\",\n\t\"invoiceCategory\": \"{{request.label.1}}\",\n\t\"accountingCode\": \"701000000\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/invoiceSubCategory/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"invoiceSubCategory",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Termination reason",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6d487357-607a-44cb-9747-81878ef5270d",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46aFViNTJBTTNDZSEh"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_terminationReason_5489\",\n    \"description\": \"Termination reason\",\n    \"applyAgreement\": true,\n    \"applyReimbursment\": true\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/terminationReason/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"terminationReason",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8314269f-67f5-4b9b-a62f-0d4842ec1dad",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_REC_5489\",\r\n\t\"invoiceSubCategory\": \"{{testCode}}_INV_SUBCAT_5489\",\r\n\t\"disabled\": \"false\",\r\n\t\"amountEditable\": \"true\",\r\n\t\"calendar\": \"{{testCode}}_CAL_5489_REC\",\r\n\t\"applyInAdvance\": \"true\",\r\n\t\"durationTermInMonth\": \"4\",\r\n\t\"roundingModeDtoEnum\": \"NEAREST\",\r\n\t\"taxClassCode\" : \"{{testCode}}_taxClass_5489\",\r\n\t\"applyTerminatedChargeToDateEL\": \"#{ci.userAccount.billingAccount.getCfValue('5489_chargeToDate')}\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/recurringChargeTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"recurringChargeTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Service",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "70188e11-fdea-44bc-9b07-827dd1e15e11",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_SERVICE_5489\",\r\n\t\"serviceChargeTemplateRecurrings\": {\r\n\t\t\"serviceChargeTemplateRecurring\": [\r\n\t\t\t{\r\n\t\t\t\t\"code\": \"{{testCode}}_REC_5489\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/serviceTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"serviceTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Offer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "195c1eef-4581-4f99-9101-2676b5ef2ffb",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{testCode}}_OFFER_5489\",\n    \"name\": \"{{testCode}}_OFFER_5489\",\n    \"disabled\": \"false\",\n    \"offerServiceTemplate\": [\n        {\n            \"serviceTemplate\": {\n                \"code\": \"{{testCode}}_SERVICE_5489\"\n            }\n        }\n    ],\n    \"lifeCycleStatus\": \"ACTIVE\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/offerTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"offerTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Price Plan  Recurring",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d4595cb4-1069-49ee-8b67-2e976e9bc19c",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"code\": \"{{testCode}}_REC_5489\",\r\n\t\"eventCode\": \"{{testCode}}_REC_5489\",\r\n\t\"amountWithoutTax\": \"1\",\r\n\t\"amountWithTax\": \"1.2\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/catalog/pricePlan/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"catalog",
										"pricePlan",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateOrUpdate Account Hierarchy 1 SUCCESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f842f024-dbc1-4003-b86b-11767d2205c8",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"email\": \"test@test.com\",\r\n\t\"customerCode\": \"{{testCode}}_CH_5489_1\",\r\n\t\"sellerCode\": \"{{testCode}}_SELLER_5489\",\r\n\t\"customerBrandCode\": \"{{testCode}}_CB\",\r\n\t\"customerCategoryCode\": \"{{testCode}}_CC\",\r\n\t\"currencyCode\": \"USD\",\r\n\t\"countryCode\": \"US\",\r\n\t\"languageCode\": \"ENG\",\r\n\t\"billingCycleCode\": \"{{testCode}}_BC_5489_1\",\r\n\t\"titleCode\": \"MR\",\r\n\t\"firstName\": \"created\",\r\n\t\"lastName\": \"TEST\",\r\n\t\"phoneNumber\": \"+102354749\",\r\n\t\"address1\": \"Address1\",\r\n\t\"address2\": \"Address2\",\r\n\t\"zipCode\": \"4050\",\r\n\t\"city\": \"Los Banos\",\r\n\t\"taxCategoryCode\":\"{{testCode}}_taxCategory_5489\"\r\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/accountHierarchy/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"accountHierarchy",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "CF|BillingAccount|5489_chargeToDate",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "43f9898d-78d7-4a1c-babd-83ec6aae939c",
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"tests[\"is.success\"] = jsonData.status === \"SUCCESS\";"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"type": "any"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"{{request.label.2}}\",\n    \"description\": \"5489 charge to date on termination\",\n    \"fieldType\": \"DATE\",\n    \"appliesTo\": \"{{request.label.1}}\",\n    \"storageType\": \"SINGLE\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/customFieldTemplate/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"customFieldTemplate",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Subscription 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "76db5e4a-db11-4d75-bbcd-d2b64b9d06c8",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "28751042-5d5e-45b6-bd1e-a7dfc6e4293b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{testCode}}_SUB_5489_1\",\r\n    \"userAccount\": \"UA_{{testCode}}_CH_5489_1\",\r\n    \"offerTemplate\": \"{{testCode}}_OFFER_5489\",\r\n    \"subscriptionDate\": \"2020-07-01\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Activate services 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5d3302b9-a401-419d-b6d5-a44950be1fcc",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "93225731-fb97-4e6b-a3e9-65aa4a8643ed",
										"exec": [
											"var moment = require('moment');",
											"",
											"var todayMinus3Month = moment().startOf('month').add(-3, 'month').zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\")",
											"pm.variables.set(\"todayMinus3Month\", todayMinus3Month);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"subscription\": \"{{testCode}}_SUB_5489_1\",\n    \"servicesToActivate\": {\n        \"service\": [\n            {\n                \"code\": \"{{testCode}}_SERVICE_5489\",\n                \"quantity\": \"1\",\n                \"subscriptionDate\": \"2020-07-01\"\n            }\n        ]\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/activateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"activateServices"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test",
					"item": [
						{
							"name": "Terminate services 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2f39749e-5c11-4107-a16b-4b016d21ef07",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "807eaaee-7307-47cb-bcfe-f178784cbfdb",
										"exec": [
											"var moment = require('moment');",
											"",
											"var todayMinus2Month = moment().startOf('month').add(-2, 'month').zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\")",
											"pm.variables.set(\"todayMinus2Month\", todayMinus2Month);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"subscriptionCode\": \"{{testCode}}_SUB_5489_1\",\n    \"services\": [\n        \"{{testCode}}_SERVICE_5489\"\n    ],\n    \"terminationDate\": \"2020-08-01\",\n    \"terminationReason\": \"{{testCode}}_terminationReason_5489\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/terminateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"terminateServices"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check wallet operations for account 1 subscription 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3a2b9471-f727-4c4a-95a7-60202c1cbcb8",
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"pm.test(\"Success\", function () {\r",
											"    pm.expect(jsonData.total).is.equal(5);\r",
											"});\r",
											"\r",
											"var recTotal = jsonData.data.length;\r",
											"\r",
											"var values = [];\r",
											"\r",
											"var compareTo =[\r",
											"\r",
											"\"2020-09-01 / 2020-09-01 / 2020-10-01 / 1 / 1 / OPEN\",\r",
											"\"2020-08-01 / 2020-09-01 / 2020-10-01 / -1 / -1 / OPEN\",\r",
											"\"2020-08-01 / 2020-08-01 / 2020-09-01 / 1 / 1 / OPEN\",\r",
											"\"2020-08-01 / 2020-08-01 / 2020-09-01 / -1 / -1 / OPEN\",\r",
											"\"2020-07-01 / 2020-07-01 / 2020-08-01 / 1 / 1 / OPEN\"];\r",
											"\r",
											"for (var i=0; i<recTotal; i++) {\r",
											"    values[i] =  moment.utc(jsonData.data[i].operationDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ moment.utc(jsonData.data[i].startDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ \r",
											"    moment(jsonData.data[i].endDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ \r",
											"    jsonData.data[i].amountWithoutTax + \" / \"+ jsonData.data[i].quantity + \" / \"+ jsonData.data[i].status;\r",
											"    \r",
											"}\r",
											"\r",
											"console.log(\"Values retrieved:\");\r",
											"for (var i=0; i<recTotal; i++) {\r",
											"    console.log(values[i]);\r",
											"}\r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    for (var i=0; i<recTotal; i++) {\r",
											"        pm.expect(i+\"_\"+values[i]).is.to.equal(i+\"_\"+compareTo[i]);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"subscription.code\": \"{{testCode}}_SUB_5489_1\",\n        \"toRangeInclusive endDate\":\"01/10/2020\"\n    },\n    \"sortBy\": \"endDate desc, id\",\n    \"sortOrder\":\"ASCENDING\",\n    \"genericFields\":[\"id\",\"code\", \"description\", \"operationDate\", \"startDate\", \"endDate\", \"amountWithoutTax\", \"quantity\", \"status\"]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/WalletOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"WalletOperation"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update BA",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b8c748d9-c6b8-47b6-bb8e-f0b307860a91",
										"exec": [
											"\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    pm.expect(\"SUCCESS\").is.to.equal(jsonData.status);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1d05a441-7759-4d10-b6c4-ae8a1e11b02b",
										"exec": [
											"var moment = require('moment');",
											"",
											"var todayMinus2Month = moment().startOf('month').add(-1, 'month').zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\")",
											"pm.variables.set(\"todayMinus1Month\", todayMinus2Month);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"code\": \"BA_{{testCode}}_CH_5489_1\",\n    \"customFields\": {\n        \"customField\": [\n            {\n                \"code\": \"5489_chargeToDate\",\n                \"dateValue\": \"2020-09-01\"\n            }\n        ]\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/account/billingAccount",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"account",
										"billingAccount"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Subscription 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "67e04b02-d49e-49e3-a3d8-85d01ec14cdf",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9593277d-99a1-47c6-9f06-b35cf58ee190",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\": \"{{testCode}}_SUB_5489_2\",\r\n    \"userAccount\": \"UA_{{testCode}}_CH_5489_1\",\r\n    \"offerTemplate\": \"{{testCode}}_OFFER_5489\",\r\n    \"subscriptionDate\": \"2020-07-01\"\r\n}\r\n"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/createOrUpdate",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"createOrUpdate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Activate services 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4bd665e2-0aa1-43b0-a885-a2ba9215db82",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1faa8385-f931-40c0-b758-21a3126b03f7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"subscription\": \"{{testCode}}_SUB_5489_2\",\n    \"servicesToActivate\": {\n        \"service\": [\n            {\n                \"code\": \"{{testCode}}_SERVICE_5489\",\n                \"quantity\": \"1\",\n                \"subscriptionDate\": \"2020-07-01\"\n            }\n        ]\n    }\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/activateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"activateServices"
									]
								}
							},
							"response": []
						},
						{
							"name": "Terminate services 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dcd1e560-37f5-4185-bfdc-ea118f5fba8a",
										"exec": [
											"pm.test(request.name + \" - Check Code\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(request.name + \" - Check Status\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql(\"SUCCESS\");",
											"});",
											"",
											"pm.test(request.name + \" - Check ErrorCode\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errorCode).to.eql();",
											"});",
											"",
											"pm.test(request.name + \" - Check Message\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.message).to.eql(\"\");",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "966bbee9-2bfb-43e7-95a1-f27a0da8d920",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic b3BlbmNlbGwuYWRtaW46b3BlbmNlbGwuYWRtaW4="
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"subscriptionCode\": \"{{testCode}}_SUB_5489_2\",\n    \"services\": [\n        \"{{testCode}}_SERVICE_5489\"\n    ],\n    \"terminationDate\": \"2020-08-01\",\n    \"terminationReason\": \"{{testCode}}_terminationReason_5489\"\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/billing/subscription/terminateServices",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"billing",
										"subscription",
										"terminateServices"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check wallet operations for account 1 subscription 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a1e85085-d825-45af-8131-56302bbd2daf",
										"exec": [
											"var moment = require('moment');\r",
											"\r",
											"var jsonData = pm.response.json(); \r",
											"pm.test(\"Success\", function () {\r",
											"    pm.expect(jsonData.total).is.equal(4);\r",
											"});\r",
											"\r",
											"var recTotal = jsonData.data.length;\r",
											"\r",
											"var values = [];\r",
											"\r",
											"var compareTo =[\r",
											"\r",
											"\"2020-09-01 / 2020-09-01 / 2020-10-01 / 1 / 1 / OPEN\",\r",
											"\"2020-08-01 / 2020-09-01 / 2020-10-01 / -1 / -1 / OPEN\",\r",
											"\"2020-08-01 / 2020-08-01 / 2020-09-01 / 1 / 1 / OPEN\",\r",
											"\"2020-07-01 / 2020-07-01 / 2020-08-01 / 1 / 1 / OPEN\"];\r",
											"\r",
											"for (var i=0; i<recTotal; i++) {\r",
											"    values[i] =  moment.utc(jsonData.data[i].operationDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ moment.utc(jsonData.data[i].startDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ \r",
											"    moment(jsonData.data[i].endDate).zone(Number(pm.environment.get(\"timezoneOffset\"))).format(\"YYYY-MM-DD\") +\" / \"+ \r",
											"    jsonData.data[i].amountWithoutTax + \" / \"+ jsonData.data[i].quantity + \" / \"+ jsonData.data[i].status;\r",
											"    \r",
											"}\r",
											"\r",
											"console.log(\"Values retrieved:\");\r",
											"for (var i=0; i<recTotal; i++) {\r",
											"    console.log(values[i]);\r",
											"}\r",
											"\r",
											"// Compare results\r",
											"pm.test(\"Results\", function () {\r",
											"    for (var i=0; i<recTotal; i++) {\r",
											"        pm.expect(i+\"_\"+values[i]).is.to.equal(i+\"_\"+compareTo[i]);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{opencell.password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{opencell.username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"filters\": {\n        \"subscription.code\": \"{{testCode}}_SUB_5489_2\",\n        \"toRangeInclusive endDate\":\"01/10/2020\"\n    },\n    \"sortBy\": \"endDate desc, id\",\n    \"sortOrder\":\"ASCENDING\",\n    \"genericFields\":[\"id\",\"code\", \"description\", \"operationDate\", \"startDate\", \"endDate\", \"amountWithoutTax\", \"quantity\", \"status\"]\n}"
								},
								"url": {
									"raw": "{{opencell.url}}/v2/generic/all/WalletOperation",
									"host": [
										"{{opencell.url}}"
									],
									"path": [
										"v2",
										"generic",
										"all",
										"WalletOperation"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Cleanup",
					"item": [],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "1a04c39e-65d0-46f1-8a36-9f3a2e4fed56",
						"type": "text/javascript",
						"exec": [
							"pm.globals.set(\"timestamp.iso\", (new Date()).toISOString());",
							"pm.globals.set(\"request.label\", pm.info.requestName);",
							"",
							"var parts = pm.info.requestName.split(\"|\");",
							"",
							"for(let i=0; i<parts.length; i++) {",
							"    pm.globals.set(\"request.label.\"+i, parts[i]);",
							"}"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "d3b18edc-84ff-474c-8887-3c0f8f1531ab",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "49629704-71bf-4c8d-b12b-04894bbf936b",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "e46224c5-0d4f-4d14-aa39-87b7ea5adf4e",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "b7e3f4c5-58bb-4f06-8cc6-bdcc3edbe45a",
			"key": "opencell.base",
			"value": "http://localhost:8080/opencell"
		},
		{
			"id": "3c44530a-7469-4763-8c7e-8e47f5f03838",
			"key": "opencell.url",
			"value": "{{opencell.base}}/api/rest"
		},
		{
			"id": "fe5c1c98-bbad-4c6d-a21d-b77345e37211",
			"key": "opencell.username",
			"value": "opencell.admin"
		},
		{
			"id": "c1fde69d-6a63-4a5f-8054-ea22b38583fe",
			"key": "opencell.password",
			"value": "opencell.admin"
		},
		{
			"id": "6706bf47-837b-4c6a-99e6-e9e744994b4b",
			"key": "opencell.superusername",
			"value": "opencell.superadmin"
		},
		{
			"id": "84ce8101-23a6-4d56-a128-50b5074168cf",
			"key": "opencell.superpassword",
			"value": "opencell.superadmin"
		},
		{
			"id": "76d63f24-9a3b-48c4-babe-49e4920fbb9b",
			"key": "testCode",
			"value": "TST_CODE"
		},
		{
			"id": "41be78a9-4173-4fb8-9e90-b34444042d10",
			"key": "currency",
			"value": "EUR"
		},
		{
			"id": "ab6ec571-b25b-4e4a-b7d6-8213f8bf10c4",
			"key": "language",
			"value": "FRA"
		},
		{
			"id": "d29e1a82-3e55-41a8-aded-0c697472ad70",
			"key": "counrty_code",
			"value": "FR"
		},
		{
			"id": "0423d80d-167f-4212-a038-ea92f726bc63",
			"key": "test_email",
			"value": "test@test.com"
		},
		{
			"id": "2819d366-9887-4c66-b52f-7cc9b20b0204",
			"key": "address",
			"value": "14 Rue Crespin du Gast"
		},
		{
			"id": "1508c82f-f530-4176-b97d-2c58776ea107",
			"key": "first_name",
			"value": "FNAME"
		},
		{
			"id": "dd176e1f-ae8d-49d0-b247-62e075320e49",
			"key": "last_name",
			"value": "LNAME"
		},
		{
			"id": "1b2947c9-2af0-4549-a705-060aa260ef69",
			"key": "city",
			"value": "PARIS"
		},
		{
			"id": "86796c94-87b7-44f5-8fbe-2f578fdd5842",
			"key": "zip_code",
			"value": "75011"
		},
		{
			"id": "3a5e20ee-4c7c-494f-8080-fc1e0512d5ee",
			"key": "state",
			"value": "Paris Area"
		},
		{
			"id": "543bfa1f-b515-425f-bd1f-950a7ed564e2",
			"key": "phone",
			"value": "+212587654321"
		},
		{
			"id": "b487a723-965d-4c7f-ac40-287a004c5ce8",
			"key": "storage",
			"value": "List of values"
		},
		{
			"id": "68e6c29b-d07d-4f37-bfa6-11ba10d77ba6",
			"key": "type",
			"value": "String"
		},
		{
			"id": "4a4e631f-343b-4179-83ee-a24875a898cb",
			"key": "provider.code",
			"value": "DEMO"
		},
		{
			"id": "66fe70bc-6e68-48cb-b107-b09a55acbde8",
			"key": "template.code",
			"value": "BASIC"
		},
		{
			"id": "bd55551e-b34a-4cf9-bfab-6a2b165c1c46",
			"key": "template.label",
			"value": "Basic"
		},
		{
			"id": "2fee9aba-7099-4e75-b5bd-2ccea9551f26",
			"key": "seller.code",
			"value": "MAIN_SELLER"
		},
		{
			"id": "396d8d7e-25af-4489-8227-57f68f3ab905",
			"key": "offer.code",
			"value": "OF"
		},
		{
			"id": "1da235ae-ce93-4f36-a707-148dba39f0b6",
			"key": "project.code",
			"value": "Basic-001"
		},
		{
			"id": "b75e21de-3a67-4f09-9fd2-1f7974a8378a",
			"key": "project.description",
			"value": "Basic offer project for tests"
		},
		{
			"id": "e31cc5a3-8187-4403-b25f-7a4c6bf0313d",
			"key": "project.type",
			"value": "Setup"
		},
		{
			"id": "d7d8d926-ff11-4b04-9252-e473a097f763",
			"key": "project.version",
			"value": "9.4+"
		}
	],
	"protocolProfileBehavior": {}
}